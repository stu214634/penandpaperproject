const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapView-udtEL_-O.js","assets/mui-vendor-B6rETHjT.js","assets/react-vendor-BzdEknB4.js","assets/utilities-BTDtKTyc.js","assets/map-vendor-CMk8R3PE.js","assets/LocationsView-BVK9eHty.js","assets/Edit-Dc_QG9DX.js","assets/CharactersView-C6BXhL6R.js","assets/CombatsView-CUtPhVB0.js","assets/CombatSessionView-CY1CFTVY.js"])))=>i.map(i=>d[i]);
import{c as da,u as pa,i as Ee,j as v,a as ma,b as ga,A as ya,T as xa,I as Oe,d as fe,B as ye,e as De,D as ba,L as xt,f as it,g as Ut,h as pt,k as Lt,l as vn,m as ci,n as Sn,o as wa,p as _a,F as ka,S as va,q as Cn,r as hi,Z as Sa,M as Ca,P as Ot,s as Ea,V as ur,t as cr,v as hr,w as Aa,x as Ia,E as za,y as ja,C as Ta,z as Da,G as zt,H as $t,J as Ht,K as Vt,N as Ke,O as Oa,Q as Wt,R as Pa,U as Ra,W as La,X as Zt,Y as qt,_ as Ba,$ as Fa}from"./mui-vendor-B6rETHjT.js";import{c as Ma,g as Na,e as Je,d as En,a as An,u as Ua,L as fr,r as he,B as $a,f as Ha,h as nt}from"./react-vendor-BzdEknB4.js";import{_ as Ve}from"./map-vendor-CMk8R3PE.js";import{c as Va,h as dr}from"./utilities-BTDtKTyc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var ln={},pr=Ma;ln.createRoot=pr.createRoot,ln.hydrateRoot=pr.hydrateRoot;const Wa={body:{"&::-webkit-scrollbar":{width:"6px",height:"6px"},"&::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"10px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.5)"}},scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1)","& *":{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1)"}}},Za=da({palette:{mode:"dark",primary:{main:"#7c4dff"},secondary:{main:"#ff9800"},background:{default:"#1a1a1a",paper:"#2d2d2d"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500}},components:{MuiCard:{styleOverrides:{root:{backgroundColor:"#2d2d2d",borderRadius:8}}},MuiCssBaseline:{styleOverrides:Wa}}});var In={},Gt={};const qa=Na(pa);var mr;function Ae(){return mr||(mr=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=qa}(Gt)),Gt}var Ga=Ee;Object.defineProperty(In,"__esModule",{value:!0});var fi=In.default=void 0,Ya=Ga(Ae()),Xa=v;fi=In.default=(0,Ya.default)((0,Xa.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var zn={},Ka=Ee;Object.defineProperty(zn,"__esModule",{value:!0});var di=zn.default=void 0,Ja=Ka(Ae()),Qa=v;di=zn.default=(0,Ja.default)((0,Qa.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var jn={},es=Ee;Object.defineProperty(jn,"__esModule",{value:!0});var pi=jn.default=void 0,ts=es(Ae()),ns=v;pi=jn.default=(0,ts.default)((0,ns.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map");var Tn={},rs=Ee;Object.defineProperty(Tn,"__esModule",{value:!0});var mi=Tn.default=void 0,is=rs(Ae()),as=v;mi=Tn.default=(0,is.default)((0,as.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Place");var Dn={},ss=Ee;Object.defineProperty(Dn,"__esModule",{value:!0});var gi=Dn.default=void 0,os=ss(Ae()),ls=v;gi=Dn.default=(0,os.default)((0,ls.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var On={},us=Ee;Object.defineProperty(On,"__esModule",{value:!0});var un=On.default=void 0,cs=us(Ae()),hs=v;un=On.default=(0,cs.default)((0,hs.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var Pn={},fs=Ee;Object.defineProperty(Pn,"__esModule",{value:!0});var cn=Pn.default=void 0,ds=fs(Ae()),ps=v;cn=Pn.default=(0,ds.default)((0,ps.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload");function St(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yi={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,n){(function(t){e.exports=t()})(function(){return function t(r,a,i){function s(c,h){if(!a[c]){if(!r[c]){var f=typeof St=="function"&&St;if(!h&&f)return f(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var u=a[c]={exports:{}};r[c][0].call(u.exports,function(x){var m=r[c][1][x];return s(m||x)},u,u.exports,t,r,a,i)}return a[c].exports}for(var o=typeof St=="function"&&St,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(t,r,a){var i=t("./utils"),s=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(l){for(var c,h,f,p,u,x,m,b=[],y=0,w=l.length,_=w,z=i.getTypeOf(l)!=="string";y<l.length;)_=w-y,f=z?(c=l[y++],h=y<w?l[y++]:0,y<w?l[y++]:0):(c=l.charCodeAt(y++),h=y<w?l.charCodeAt(y++):0,y<w?l.charCodeAt(y++):0),p=c>>2,u=(3&c)<<4|h>>4,x=1<_?(15&h)<<2|f>>6:64,m=2<_?63&f:64,b.push(o.charAt(p)+o.charAt(u)+o.charAt(x)+o.charAt(m));return b.join("")},a.decode=function(l){var c,h,f,p,u,x,m=0,b=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var w,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&_--,l.charAt(l.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|_):new Array(0|_);m<l.length;)c=o.indexOf(l.charAt(m++))<<2|(p=o.indexOf(l.charAt(m++)))>>4,h=(15&p)<<4|(u=o.indexOf(l.charAt(m++)))>>2,f=(3&u)<<6|(x=o.indexOf(l.charAt(m++))),w[b++]=c,u!==64&&(w[b++]=h),x!==64&&(w[b++]=f);return w}},{"./support":30,"./utils":32}],2:[function(t,r,a){var i=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(h,f,p,u,x){this.compressedSize=h,this.uncompressedSize=f,this.crc32=p,this.compression=u,this.compressedContent=x}c.prototype={getContentWorker:function(){var h=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(h,f,p){return h.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,a){var i=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,a){var i=t("./utils"),s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(c,h,f,p){var u=s,x=p+f;c^=-1;for(var m=p;m<x;m++)c=c>>>8^u[255&(c^h[m])];return-1^c}(0|l,o,o.length,0):function(c,h,f,p){var u=s,x=p+f;c^=-1;for(var m=p;m<x;m++)c=c>>>8^u[255&(c^h.charCodeAt(m))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,r,a){var i=null;i=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:i}},{lie:37}],7:[function(t,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),c=i?"uint8array":"array";function h(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}a.magic="\b\0",o.inherits(h,l),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},a.compressWorker=function(f){return new h("Deflate",f)},a.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,a){function i(u,x){var m,b="";for(m=0;m<x;m++)b+=String.fromCharCode(255&u),u>>>=8;return b}function s(u,x,m,b,y,w){var _,z,D=u.file,I=u.compression,B=w!==c.utf8encode,$=o.transformTo("string",w(D.name)),P=o.transformTo("string",c.utf8encode(D.name)),V=D.comment,G=o.transformTo("string",w(V)),C=o.transformTo("string",c.utf8encode(V)),M=P.length!==D.name.length,g=C.length!==V.length,N="",re="",H="",ie=D.dir,Y=D.date,A={crc32:0,compressedSize:0,uncompressedSize:0};x&&!m||(A.crc32=u.crc32,A.compressedSize=u.compressedSize,A.uncompressedSize=u.uncompressedSize);var F=0;x&&(F|=8),B||!M&&!g||(F|=2048);var R=0,E=0;ie&&(R|=16),y==="UNIX"?(E=798,R|=function(J,ue){var ke=J;return J||(ke=ue?16893:33204),(65535&ke)<<16}(D.unixPermissions,ie)):(E=20,R|=function(J){return 63&(J||0)}(D.dosPermissions)),_=Y.getUTCHours(),_<<=6,_|=Y.getUTCMinutes(),_<<=5,_|=Y.getUTCSeconds()/2,z=Y.getUTCFullYear()-1980,z<<=4,z|=Y.getUTCMonth()+1,z<<=5,z|=Y.getUTCDate(),M&&(re=i(1,1)+i(h($),4)+P,N+="up"+i(re.length,2)+re),g&&(H=i(1,1)+i(h(G),4)+C,N+="uc"+i(H.length,2)+H);var ee="";return ee+=`
\0`,ee+=i(F,2),ee+=I.magic,ee+=i(_,2),ee+=i(z,2),ee+=i(A.crc32,4),ee+=i(A.compressedSize,4),ee+=i(A.uncompressedSize,4),ee+=i($.length,2),ee+=i(N.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ee+$+N,dirRecord:f.CENTRAL_FILE_HEADER+i(E,2)+ee+i(G.length,2)+"\0\0\0\0"+i(R,4)+i(b,4)+$+N+G}}var o=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),h=t("../crc32"),f=t("../signature");function p(u,x,m,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(u){var x=u.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,l.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(x+100*(m-b-1))/m:100}}))},p.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var x=this.streamFiles&&!u.file.dir;if(x){var m=s(u,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(u){this.accumulate=!1;var x=this.streamFiles&&!u.file.dir,m=s(u,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),x)this.push({data:function(b){return f.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var u=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var m=this.bytesWritten-u,b=function(y,w,_,z,D){var I=o.transformTo("string",D(z));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(w,4)+i(_,4)+i(I.length,2)+I}(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(u){this._sources.push(u);var x=this;return u.on("data",function(m){x.processChunk(m)}),u.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),u.on("error",function(m){x.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(u){var x=this._sources;if(!l.prototype.error.call(this,u))return!1;for(var m=0;m<x.length;m++)try{x[m].error(u)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var u=this._sources,x=0;x<u.length;x++)u[x].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,a){var i=t("../compressions"),s=t("./ZipFileWorker");a.generateWorker=function(o,l,c){var h=new s(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(p,u){f++;var x=function(w,_){var z=w||_,D=i[z];if(!D)throw new Error(z+" is not a valid compression method !");return D}(u.options.compression,l.compression),m=u.options.compressionOptions||l.compressionOptions||{},b=u.dir,y=u.date;u._compressWorker(x,m).withStreamInfo("file",{name:p,dir:b,date:y,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(s,o){return new i().loadAsync(s,o)},i.external=t("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,a){var i=t("./utils"),s=t("./external"),o=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function f(p){return new s.Promise(function(u,x){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(b){x(b)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}r.exports=function(p,u){var x=this;return u=i.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,u.optimizedBinaryString,u.base64).then(function(m){var b=new l(u);return b.load(m),b}).then(function(m){var b=[s.Promise.resolve(m)],y=m.files;if(u.checkCRC32)for(var w=0;w<y.length;w++)b.push(f(y[w]));return s.Promise.all(b)}).then(function(m){for(var b=m.shift(),y=b.files,w=0;w<y.length;w++){var _=y[w],z=_.fileNameStr,D=i.resolve(_.fileNameStr);x.file(D,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:u.createFolders}),_.dir||(x.file(D).unsafeOriginalName=z)}return b.zipComment.length&&(x.comment=b.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,a){var i=t("../utils"),s=t("../stream/GenericWorker");function o(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(o,s),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(h){c.push({data:h,meta:{percent:0}})}).on("error",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,a){var i=t("readable-stream").Readable;function s(o,l,c){i.call(this,l),this._helper=o;var h=this;o.on("data",function(f,p){h.push(f)||h._helper.pause(),c&&c(p)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}t("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,r,a){function i(D,I,B){var $,P=o.getTypeOf(I),V=o.extend(B||{},h);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(D=y(D)),V.createFolders&&($=b(D))&&w.call(this,$,!0);var G=P==="string"&&V.binary===!1&&V.base64===!1;B&&B.binary!==void 0||(V.binary=!G),(I instanceof f&&I.uncompressedSize===0||V.dir||!I||I.length===0)&&(V.base64=!1,V.binary=!0,I="",V.compression="STORE",P="string");var C=null;C=I instanceof f||I instanceof l?I:x.isNode&&x.isStream(I)?new m(D,I):o.prepareContent(D,I,V.binary,V.optimizedBinaryString,V.base64);var M=new p(D,C,V);this.files[D]=M}var s=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),h=t("./defaults"),f=t("./compressedObject"),p=t("./zipObject"),u=t("./generate"),x=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),b=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var I=D.lastIndexOf("/");return 0<I?D.substring(0,I):""},y=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},w=function(D,I){return I=I!==void 0?I:h.createFolders,D=y(D),this.files[D]||i.call(this,D,null,{dir:!0,createFolders:I}),this.files[D]};function _(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var I,B,$;for(I in this.files)$=this.files[I],(B=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&D(B,$)},filter:function(D){var I=[];return this.forEach(function(B,$){D(B,$)&&I.push($)}),I},file:function(D,I,B){if(arguments.length!==1)return D=this.root+D,i.call(this,D,I,B),this;if(_(D)){var $=D;return this.filter(function(V,G){return!G.dir&&$.test(V)})}var P=this.files[this.root+D];return P&&!P.dir?P:null},folder:function(D){if(!D)return this;if(_(D))return this.filter(function(P,V){return V.dir&&D.test(P)});var I=this.root+D,B=w.call(this,I),$=this.clone();return $.root=B.name,$},remove:function(D){D=this.root+D;var I=this.files[D];if(I||(D.slice(-1)!=="/"&&(D+="/"),I=this.files[D]),I&&!I.dir)delete this.files[D];else for(var B=this.filter(function(P,V){return V.name.slice(0,D.length)===D}),$=0;$<B.length;$++)delete this.files[B[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var I,B={};try{if((B=o.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");o.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var $=B.comment||this.comment||"";I=u.generateWorker(this,B,$)}catch(P){(I=new l("error")).error(P)}return new c(I,B.type||"string",B.mimeType)},generateAsync:function(D,I){return this.generateInternalStream(D).accumulate(I)},generateNodeStream:function(D,I){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(I)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,a){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,a){var i=t("./DataReader");function s(o){i.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===h&&this.data[p+3]===f)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&h===p[2]&&f===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,a){var i=t("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,a){var i=t("./Uint8ArrayReader");function s(o){i.call(this,o)}t("../utils").inherits(s,i),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,a){var i=t("./DataReader");function s(o){i.call(this,o)}t("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,a){var i=t("./ArrayReader");function s(o){i.call(this,o)}t("../utils").inherits(s,i),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,a){var i=t("../utils"),s=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(f){var p=i.getTypeOf(f);return i.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new c(f):s.uint8array?new h(i.transformTo("uint8array",f)):new o(i.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,a){var i=t("./GenericWorker"),s=t("../utils");function o(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,i),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,a){var i=t("./GenericWorker"),s=t("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,i),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,a){var i=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(o,s),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,a){var i=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){c.dataIsReady=!0,c.data=h,c.max=h&&h.length||0,c.type=i.getTypeOf(h),c.isPaused||c._tickAndRepeat()},function(h){c.error(h)})}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(t,r,a){var i=t("../utils"),s=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),c=t("../support"),h=t("../external"),f=null;if(c.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(x,m){return new h.Promise(function(b,y){var w=[],_=x._internalType,z=x._outputType,D=x._mimeType;x.on("data",function(I,B){w.push(I),m&&m(B)}).on("error",function(I){w=[],y(I)}).on("end",function(){try{var I=function(B,$,P){switch(B){case"blob":return i.newBlob(i.transformTo("arraybuffer",$),P);case"base64":return l.encode($);default:return i.transformTo(B,$)}}(z,function(B,$){var P,V=0,G=null,C=0;for(P=0;P<$.length;P++)C+=$[P].length;switch(B){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(G=new Uint8Array(C),P=0;P<$.length;P++)G.set($[P],V),V+=$[P].length;return G;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+B+"'")}}(_,w),D);b(I)}catch(B){y(B)}w=[]}).resume()})}function u(x,m,b){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=b,i.checkSupport(y),this._worker=x.pipe(new s(y)),x.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}u.prototype={accumulate:function(x){return p(this,x)},on:function(x,m){var b=this;return x==="data"?this._worker.on(x,function(y){m.call(b,y.data,y.meta)}):this._worker.on(x,function(){i.delay(m,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,a){for(var i=t("./utils"),s=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}a.utf8encode=function(u){return s.nodebuffer?o.newBufferFrom(u,"utf-8"):function(x){var m,b,y,w,_,z=x.length,D=0;for(w=0;w<z;w++)(64512&(b=x.charCodeAt(w)))==55296&&w+1<z&&(64512&(y=x.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),w++),D+=b<128?1:b<2048?2:b<65536?3:4;for(m=s.uint8array?new Uint8Array(D):new Array(D),w=_=0;_<D;w++)(64512&(b=x.charCodeAt(w)))==55296&&w+1<z&&(64512&(y=x.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),w++),b<128?m[_++]=b:(b<2048?m[_++]=192|b>>>6:(b<65536?m[_++]=224|b>>>12:(m[_++]=240|b>>>18,m[_++]=128|b>>>12&63),m[_++]=128|b>>>6&63),m[_++]=128|63&b);return m}(u)},a.utf8decode=function(u){return s.nodebuffer?i.transformTo("nodebuffer",u).toString("utf-8"):function(x){var m,b,y,w,_=x.length,z=new Array(2*_);for(m=b=0;m<_;)if((y=x[m++])<128)z[b++]=y;else if(4<(w=c[y]))z[b++]=65533,m+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&m<_;)y=y<<6|63&x[m++],w--;1<w?z[b++]=65533:y<65536?z[b++]=y:(y-=65536,z[b++]=55296|y>>10&1023,z[b++]=56320|1023&y)}return z.length!==b&&(z.subarray?z=z.subarray(0,b):z.length=b),i.applyFromCharCode(z)}(u=i.transformTo(s.uint8array?"uint8array":"array",u))},i.inherits(f,l),f.prototype.processChunk=function(u){var x=i.transformTo(s.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=x;(x=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),x.set(m,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var b=function(w,_){var z;for((_=_||w.length)>w.length&&(_=w.length),z=_-1;0<=z&&(192&w[z])==128;)z--;return z<0||z===0?_:z+c[w[z]]>_?z:_}(x),y=x;b!==x.length&&(s.uint8array?(y=x.subarray(0,b),this.leftOver=x.subarray(b,x.length)):(y=x.slice(0,b),this.leftOver=x.slice(b,x.length))),this.push({data:a.utf8decode(y),meta:u.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(p,l),p.prototype.processChunk=function(u){this.push({data:a.utf8encode(u.data),meta:u.meta})},a.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,a){var i=t("./support"),s=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function c(m){return m}function h(m,b){for(var y=0;y<m.length;++y)b[y]=255&m.charCodeAt(y);return b}t("setimmediate"),a.newBlob=function(m,b){a.checkSupport("blob");try{return new Blob([m],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,b,y){var w=[],_=0,z=m.length;if(z<=y)return String.fromCharCode.apply(null,m);for(;_<z;)b==="array"||b==="nodebuffer"?w.push(String.fromCharCode.apply(null,m.slice(_,Math.min(_+y,z)))):w.push(String.fromCharCode.apply(null,m.subarray(_,Math.min(_+y,z)))),_+=y;return w.join("")},stringifyByChar:function(m){for(var b="",y=0;y<m.length;y++)b+=String.fromCharCode(m[y]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var b=65536,y=a.getTypeOf(m),w=!0;if(y==="uint8array"?w=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(w=f.applyCanBeUsed.nodebuffer),w)for(;1<b;)try{return f.stringifyByChunk(m,y,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(m)}function u(m,b){for(var y=0;y<m.length;y++)b[y]=m[y];return b}a.applyFromCharCode=p;var x={};x.string={string:c,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return x.string.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:function(m){return h(m,o.allocBuffer(m.length))}},x.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},x.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},x.uint8array={string:p,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},x.nodebuffer={string:p,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return x.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:c},a.transformTo=function(m,b){if(b=b||"",!m)return b;a.checkSupport(m);var y=a.getTypeOf(b);return x[y][m](b)},a.resolve=function(m){for(var b=m.split("/"),y=[],w=0;w<b.length;w++){var _=b[w];_==="."||_===""&&w!==0&&w!==b.length-1||(_===".."?y.pop():y.push(_))}return y.join("/")},a.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(m){var b,y,w="";for(y=0;y<(m||"").length;y++)w+="\\x"+((b=m.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return w},a.delay=function(m,b,y){setImmediate(function(){m.apply(y||null,b||[])})},a.inherits=function(m,b){function y(){}y.prototype=b.prototype,m.prototype=new y},a.extend=function(){var m,b,y={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&y[b]===void 0&&(y[b]=arguments[m][b]);return y},a.prepareContent=function(m,b,y,w,_){return l.Promise.resolve(b).then(function(z){return i.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new l.Promise(function(D,I){var B=new FileReader;B.onload=function($){D($.target.result)},B.onerror=function($){I($.target.error)},B.readAsArrayBuffer(z)}):z}).then(function(z){var D=a.getTypeOf(z);return D?(D==="arraybuffer"?z=a.transformTo("uint8array",z):D==="string"&&(_?z=s.decode(z):y&&w!==!0&&(z=function(I){return h(I,i.uint8array?new Uint8Array(I.length):new Array(I.length))}(z))),z):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,a){var i=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),l=t("./zipEntry"),c=t("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(f)+")")}},isSignature:function(f,p){var u=this.reader.index;this.reader.setIndex(f);var x=this.reader.readString(4)===p;return this.reader.setIndex(u),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",u=s.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,u,x=this.zip64EndOfCentralSize-44;0<x;)f=this.reader.readInt(2),p=this.reader.readInt(4),u=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var x=p-u;if(0<x)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,a){var i=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),h=t("./compressions"),f=t("./support");function p(u,x){this.options=u,this.loadOptions=x}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var x,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(b){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===b)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,x,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var x=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(x),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var x,m,b,y=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<y;)x=u.readInt(2),m=u.readInt(2),b=u.readData(m),this.extraFields[x]={id:x,length:m,value:b};u.setIndex(y)},handleUTF8:function(){var u=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var m=s.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=s.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var x=i(u.value);return x.readInt(1)!==1||l(this.fileName)!==x.readInt(4)?null:c.utf8decode(x.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var x=i(u.value);return x.readInt(1)!==1||l(this.fileComment)!==x.readInt(4)?null:c.utf8decode(x.readData(u.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,a){function i(x,m,b){this.name=x,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),h=t("./stream/GenericWorker");i.prototype={internalStream:function(x){var m=null,b="string";try{if(!x)throw new Error("No output type specified.");var y=(b=x.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var w=!this._dataBinary;w&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!w&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(_){(m=new h("error")).error(_)}return new s(m,b,"")},async:function(x,m){return this.internalStream(x).accumulate(m)},nodeStream:function(x,m){return this.internalStream(x||"nodebuffer").toNodejsStream(m)},_compressWorker:function(x,m){if(this._data instanceof c&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,x,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<f.length;u++)i.prototype[f[u]]=p;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,a){(function(i){var s,o,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,h=new l(x),f=i.document.createTextNode("");h.observe(f,{characterData:!0}),s=function(){f.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){x(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(x,0)};else{var p=new i.MessageChannel;p.port1.onmessage=x,s=function(){p.port2.postMessage(0)}}var u=[];function x(){var m,b;o=!0;for(var y=u.length;y;){for(b=u,u=[],m=-1;++m<y;)b[m]();y=u.length}o=!1}r.exports=function(m){u.push(m)!==1||o||s()}}).call(this,typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,a){var i=t("immediate");function s(){}var o={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==s&&m(this,y)}function p(y,w,_){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function u(y,w,_){i(function(){var z;try{z=w(_)}catch(D){return o.reject(y,D)}z===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,z)})}function x(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function m(y,w){var _=!1;function z(B){_||(_=!0,o.reject(y,B))}function D(B){_||(_=!0,o.resolve(y,B))}var I=b(function(){w(D,z)});I.status==="error"&&z(I.value)}function b(y,w){var _={};try{_.value=y(w),_.status="success"}catch(z){_.status="error",_.value=z}return _}(r.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(function(_){return w.resolve(y()).then(function(){return _})},function(_){return w.resolve(y()).then(function(){throw _})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,w){if(typeof y!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var _=new this.constructor(s);return this.state!==h?u(_,this.state===c?y:w,this.outcome):this.queue.push(new p(_,y,w)),_},p.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){u(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){o.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){u(this.promise,this.onRejected,y)},o.resolve=function(y,w){var _=b(x,w);if(_.status==="error")return o.reject(y,_.value);var z=_.value;if(z)m(y,z);else{y.state=c,y.outcome=w;for(var D=-1,I=y.queue.length;++D<I;)y.queue[D].callFulfilled(w)}return y},o.reject=function(y,w){y.state=l,y.outcome=w;for(var _=-1,z=y.queue.length;++_<z;)y.queue[_].callRejected(w);return y},f.resolve=function(y){return y instanceof this?y:o.resolve(new this(s),y)},f.reject=function(y){var w=new this(s);return o.reject(w,y)},f.all=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=y.length,z=!1;if(!_)return this.resolve([]);for(var D=new Array(_),I=0,B=-1,$=new this(s);++B<_;)P(y[B],B);return $;function P(V,G){w.resolve(V).then(function(C){D[G]=C,++I!==_||z||(z=!0,o.resolve($,D))},function(C){z||(z=!0,o.reject($,C))})}},f.race=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=y.length,z=!1;if(!_)return this.resolve([]);for(var D=-1,I=new this(s);++D<_;)B=y[D],w.resolve(B).then(function($){z||(z=!0,o.resolve(I,$))},function($){z||(z=!0,o.reject(I,$))});var B;return I}},{immediate:36}],38:[function(t,r,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,a){var i=t("./zlib/deflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),h=Object.prototype.toString,f=0,p=-1,u=0,x=8;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({level:p,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},y||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=i.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(_!==f)throw new Error(l[_]);if(w.header&&i.deflateSetHeader(this.strm,w.header),w.dictionary){var z;if(z=typeof w.dictionary=="string"?o.string2buf(w.dictionary):h.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(_=i.deflateSetDictionary(this.strm,z))!==f)throw new Error(l[_]);this._dict_set=!0}}function b(y,w){var _=new m(w);if(_.push(y,!0),_.err)throw _.msg||l[_.err];return _.result}m.prototype.push=function(y,w){var _,z,D=this.strm,I=this.options.chunkSize;if(this.ended)return!1;z=w===~~w?w:w===!0?4:0,typeof y=="string"?D.input=o.string2buf(y):h.call(y)==="[object ArrayBuffer]"?D.input=new Uint8Array(y):D.input=y,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new s.Buf8(I),D.next_out=0,D.avail_out=I),(_=i.deflate(D,z))!==1&&_!==f)return this.onEnd(_),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(D.output,D.next_out))):this.onData(s.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&_!==1);return z===4?(_=i.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f):z!==2||(this.onEnd(f),!(D.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Deflate=m,a.deflate=b,a.deflateRaw=function(y,w){return(w=w||{}).raw=!0,b(y,w)},a.gzip=function(y,w){return(w=w||{}).gzip=!0,b(y,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,a){var i=t("./zlib/inflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),h=t("./zlib/zstream"),f=t("./zlib/gzheader"),p=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,b.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function x(m,b){var y=new u(b);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}u.prototype.push=function(m,b){var y,w,_,z,D,I,B=this.strm,$=this.options.chunkSize,P=this.options.dictionary,V=!1;if(this.ended)return!1;w=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?B.input=o.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?B.input=new Uint8Array(m):B.input=m,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new s.Buf8($),B.next_out=0,B.avail_out=$),(y=i.inflate(B,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(I=typeof P=="string"?o.string2buf(P):p.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,y=i.inflateSetDictionary(this.strm,I)),y===l.Z_BUF_ERROR&&V===!0&&(y=l.Z_OK,V=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&y!==l.Z_STREAM_END&&(B.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(B.output,B.next_out),z=B.next_out-_,D=o.buf2string(B.output,_),B.next_out=z,B.avail_out=$-z,z&&s.arraySet(B.output,B.output,_,z,0),this.onData(D)):this.onData(s.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(V=!0)}while((0<B.avail_in||B.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(B.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Inflate=u,a.inflate=x,a.inflateRaw=function(m,b){return(b=b||{}).raw=!0,x(m,b)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(l[f]=h[f])}}return l},a.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,h,f,p){if(c.subarray&&l.subarray)l.set(c.subarray(h,h+f),p);else for(var u=0;u<f;u++)l[p+u]=c[h+u]},flattenChunks:function(l){var c,h,f,p,u,x;for(c=f=0,h=l.length;c<h;c++)f+=l[c].length;for(x=new Uint8Array(f),c=p=0,h=l.length;c<h;c++)u=l[c],x.set(u,p),p+=u.length;return x}},o={arraySet:function(l,c,h,f,p){for(var u=0;u<f;u++)l[p+u]=c[h+u]},flattenChunks:function(l){return[].concat.apply([],l)}};a.setTyped=function(l){l?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(t,r,a){var i=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(f,p){if(p<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(f,p));for(var u="",x=0;x<p;x++)u+=String.fromCharCode(f[x]);return u}l[254]=l[254]=1,a.string2buf=function(f){var p,u,x,m,b,y=f.length,w=0;for(m=0;m<y;m++)(64512&(u=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(x=f.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(x-56320),m++),w+=u<128?1:u<2048?2:u<65536?3:4;for(p=new i.Buf8(w),m=b=0;b<w;m++)(64512&(u=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(x=f.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(x-56320),m++),u<128?p[b++]=u:(u<2048?p[b++]=192|u>>>6:(u<65536?p[b++]=224|u>>>12:(p[b++]=240|u>>>18,p[b++]=128|u>>>12&63),p[b++]=128|u>>>6&63),p[b++]=128|63&u);return p},a.buf2binstring=function(f){return h(f,f.length)},a.binstring2buf=function(f){for(var p=new i.Buf8(f.length),u=0,x=p.length;u<x;u++)p[u]=f.charCodeAt(u);return p},a.buf2string=function(f,p){var u,x,m,b,y=p||f.length,w=new Array(2*y);for(u=x=0;u<y;)if((m=f[u++])<128)w[x++]=m;else if(4<(b=l[m]))w[x++]=65533,u+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&u<y;)m=m<<6|63&f[u++],b--;1<b?w[x++]=65533:m<65536?w[x++]=m:(m-=65536,w[x++]=55296|m>>10&1023,w[x++]=56320|1023&m)}return h(w,x)},a.utf8border=function(f,p){var u;for((p=p||f.length)>f.length&&(p=f.length),u=p-1;0<=u&&(192&f[u])==128;)u--;return u<0||u===0?p:u+l[f[u]]>p?u:p}},{"./common":41}],43:[function(t,r,a){r.exports=function(i,s,o,l){for(var c=65535&i|0,h=i>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;h=h+(c=c+s[l++]|0)|0,--f;);c%=65521,h%=65521}return c|h<<16|0}},{}],44:[function(t,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,a){var i=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,c){var h=i,f=c+l;s^=-1;for(var p=c;p<f;p++)s=s>>>8^h[255&(s^o[p])];return-1^s}},{}],46:[function(t,r,a){var i,s=t("../utils/common"),o=t("./trees"),l=t("./adler32"),c=t("./crc32"),h=t("./messages"),f=0,p=4,u=0,x=-2,m=-1,b=4,y=2,w=8,_=9,z=286,D=30,I=19,B=2*z+1,$=15,P=3,V=258,G=V+P+1,C=42,M=113,g=1,N=2,re=3,H=4;function ie(d,U){return d.msg=h[U],U}function Y(d){return(d<<1)-(4<d?9:0)}function A(d){for(var U=d.length;0<=--U;)d[U]=0}function F(d){var U=d.state,j=U.pending;j>d.avail_out&&(j=d.avail_out),j!==0&&(s.arraySet(d.output,U.pending_buf,U.pending_out,j,d.next_out),d.next_out+=j,U.pending_out+=j,d.total_out+=j,d.avail_out-=j,U.pending-=j,U.pending===0&&(U.pending_out=0))}function R(d,U){o._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,U),d.block_start=d.strstart,F(d.strm)}function E(d,U){d.pending_buf[d.pending++]=U}function ee(d,U){d.pending_buf[d.pending++]=U>>>8&255,d.pending_buf[d.pending++]=255&U}function J(d,U){var j,S,k=d.max_chain_length,T=d.strstart,W=d.prev_length,q=d.nice_match,L=d.strstart>d.w_size-G?d.strstart-(d.w_size-G):0,K=d.window,ne=d.w_mask,Q=d.prev,O=d.strstart+V,Z=K[T+W-1],te=K[T+W];d.prev_length>=d.good_match&&(k>>=2),q>d.lookahead&&(q=d.lookahead);do if(K[(j=U)+W]===te&&K[j+W-1]===Z&&K[j]===K[T]&&K[++j]===K[T+1]){T+=2,j++;do;while(K[++T]===K[++j]&&K[++T]===K[++j]&&K[++T]===K[++j]&&K[++T]===K[++j]&&K[++T]===K[++j]&&K[++T]===K[++j]&&K[++T]===K[++j]&&K[++T]===K[++j]&&T<O);if(S=V-(O-T),T=O-V,W<S){if(d.match_start=U,q<=(W=S))break;Z=K[T+W-1],te=K[T+W]}}while((U=Q[U&ne])>L&&--k!=0);return W<=d.lookahead?W:d.lookahead}function ue(d){var U,j,S,k,T,W,q,L,K,ne,Q=d.w_size;do{if(k=d.window_size-d.lookahead-d.strstart,d.strstart>=Q+(Q-G)){for(s.arraySet(d.window,d.window,Q,Q,0),d.match_start-=Q,d.strstart-=Q,d.block_start-=Q,U=j=d.hash_size;S=d.head[--U],d.head[U]=Q<=S?S-Q:0,--j;);for(U=j=Q;S=d.prev[--U],d.prev[U]=Q<=S?S-Q:0,--j;);k+=Q}if(d.strm.avail_in===0)break;if(W=d.strm,q=d.window,L=d.strstart+d.lookahead,K=k,ne=void 0,ne=W.avail_in,K<ne&&(ne=K),j=ne===0?0:(W.avail_in-=ne,s.arraySet(q,W.input,W.next_in,ne,L),W.state.wrap===1?W.adler=l(W.adler,q,ne,L):W.state.wrap===2&&(W.adler=c(W.adler,q,ne,L)),W.next_in+=ne,W.total_in+=ne,ne),d.lookahead+=j,d.lookahead+d.insert>=P)for(T=d.strstart-d.insert,d.ins_h=d.window[T],d.ins_h=(d.ins_h<<d.hash_shift^d.window[T+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[T+P-1])&d.hash_mask,d.prev[T&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=T,T++,d.insert--,!(d.lookahead+d.insert<P)););}while(d.lookahead<G&&d.strm.avail_in!==0)}function ke(d,U){for(var j,S;;){if(d.lookahead<G){if(ue(d),d.lookahead<G&&U===f)return g;if(d.lookahead===0)break}if(j=0,d.lookahead>=P&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+P-1])&d.hash_mask,j=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),j!==0&&d.strstart-j<=d.w_size-G&&(d.match_length=J(d,j)),d.match_length>=P)if(S=o._tr_tally(d,d.strstart-d.match_start,d.match_length-P),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=P){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+P-1])&d.hash_mask,j=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else S=o._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(S&&(R(d,!1),d.strm.avail_out===0))return g}return d.insert=d.strstart<P-1?d.strstart:P-1,U===p?(R(d,!0),d.strm.avail_out===0?re:H):d.last_lit&&(R(d,!1),d.strm.avail_out===0)?g:N}function oe(d,U){for(var j,S,k;;){if(d.lookahead<G){if(ue(d),d.lookahead<G&&U===f)return g;if(d.lookahead===0)break}if(j=0,d.lookahead>=P&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+P-1])&d.hash_mask,j=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=P-1,j!==0&&d.prev_length<d.max_lazy_match&&d.strstart-j<=d.w_size-G&&(d.match_length=J(d,j),d.match_length<=5&&(d.strategy===1||d.match_length===P&&4096<d.strstart-d.match_start)&&(d.match_length=P-1)),d.prev_length>=P&&d.match_length<=d.prev_length){for(k=d.strstart+d.lookahead-P,S=o._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-P),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=k&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+P-1])&d.hash_mask,j=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=P-1,d.strstart++,S&&(R(d,!1),d.strm.avail_out===0))return g}else if(d.match_available){if((S=o._tr_tally(d,0,d.window[d.strstart-1]))&&R(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return g}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(S=o._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<P-1?d.strstart:P-1,U===p?(R(d,!0),d.strm.avail_out===0?re:H):d.last_lit&&(R(d,!1),d.strm.avail_out===0)?g:N}function ce(d,U,j,S,k){this.good_length=d,this.max_lazy=U,this.nice_length=j,this.max_chain=S,this.func=k}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*B),this.dyn_dtree=new s.Buf16(2*(2*D+1)),this.bl_tree=new s.Buf16(2*(2*I+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16($+1),this.heap=new s.Buf16(2*z+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*z+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(d){var U;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=y,(U=d.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?C:M,d.adler=U.wrap===2?0:1,U.last_flush=f,o._tr_init(U),u):ie(d,x)}function je(d){var U=xe(d);return U===u&&function(j){j.window_size=2*j.w_size,A(j.head),j.max_lazy_match=i[j.level].max_lazy,j.good_match=i[j.level].good_length,j.nice_match=i[j.level].nice_length,j.max_chain_length=i[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=P-1,j.match_available=0,j.ins_h=0}(d.state),U}function ze(d,U,j,S,k,T){if(!d)return x;var W=1;if(U===m&&(U=6),S<0?(W=0,S=-S):15<S&&(W=2,S-=16),k<1||_<k||j!==w||S<8||15<S||U<0||9<U||T<0||b<T)return ie(d,x);S===8&&(S=9);var q=new be;return(d.state=q).strm=d,q.wrap=W,q.gzhead=null,q.w_bits=S,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=k+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+P-1)/P),q.window=new s.Buf8(2*q.w_size),q.head=new s.Buf16(q.hash_size),q.prev=new s.Buf16(q.w_size),q.lit_bufsize=1<<k+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new s.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=U,q.strategy=T,q.method=j,je(d)}i=[new ce(0,0,0,0,function(d,U){var j=65535;for(j>d.pending_buf_size-5&&(j=d.pending_buf_size-5);;){if(d.lookahead<=1){if(ue(d),d.lookahead===0&&U===f)return g;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var S=d.block_start+j;if((d.strstart===0||d.strstart>=S)&&(d.lookahead=d.strstart-S,d.strstart=S,R(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-G&&(R(d,!1),d.strm.avail_out===0))return g}return d.insert=0,U===p?(R(d,!0),d.strm.avail_out===0?re:H):(d.strstart>d.block_start&&(R(d,!1),d.strm.avail_out),g)}),new ce(4,4,8,4,ke),new ce(4,5,16,8,ke),new ce(4,6,32,32,ke),new ce(4,4,16,16,oe),new ce(8,16,32,32,oe),new ce(8,16,128,128,oe),new ce(8,32,128,256,oe),new ce(32,128,258,1024,oe),new ce(32,258,258,4096,oe)],a.deflateInit=function(d,U){return ze(d,U,w,15,8,0)},a.deflateInit2=ze,a.deflateReset=je,a.deflateResetKeep=xe,a.deflateSetHeader=function(d,U){return d&&d.state?d.state.wrap!==2?x:(d.state.gzhead=U,u):x},a.deflate=function(d,U){var j,S,k,T;if(!d||!d.state||5<U||U<0)return d?ie(d,x):x;if(S=d.state,!d.output||!d.input&&d.avail_in!==0||S.status===666&&U!==p)return ie(d,d.avail_out===0?-5:x);if(S.strm=d,j=S.last_flush,S.last_flush=U,S.status===C)if(S.wrap===2)d.adler=0,E(S,31),E(S,139),E(S,8),S.gzhead?(E(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),E(S,255&S.gzhead.time),E(S,S.gzhead.time>>8&255),E(S,S.gzhead.time>>16&255),E(S,S.gzhead.time>>24&255),E(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),E(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(E(S,255&S.gzhead.extra.length),E(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(d.adler=c(d.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(E(S,0),E(S,0),E(S,0),E(S,0),E(S,0),E(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),E(S,3),S.status=M);else{var W=w+(S.w_bits-8<<4)<<8;W|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(W|=32),W+=31-W%31,S.status=M,ee(S,W),S.strstart!==0&&(ee(S,d.adler>>>16),ee(S,65535&d.adler)),d.adler=1}if(S.status===69)if(S.gzhead.extra){for(k=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>k&&(d.adler=c(d.adler,S.pending_buf,S.pending-k,k)),F(d),k=S.pending,S.pending!==S.pending_buf_size));)E(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>k&&(d.adler=c(d.adler,S.pending_buf,S.pending-k,k)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){k=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>k&&(d.adler=c(d.adler,S.pending_buf,S.pending-k,k)),F(d),k=S.pending,S.pending===S.pending_buf_size)){T=1;break}T=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,E(S,T)}while(T!==0);S.gzhead.hcrc&&S.pending>k&&(d.adler=c(d.adler,S.pending_buf,S.pending-k,k)),T===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){k=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>k&&(d.adler=c(d.adler,S.pending_buf,S.pending-k,k)),F(d),k=S.pending,S.pending===S.pending_buf_size)){T=1;break}T=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,E(S,T)}while(T!==0);S.gzhead.hcrc&&S.pending>k&&(d.adler=c(d.adler,S.pending_buf,S.pending-k,k)),T===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&F(d),S.pending+2<=S.pending_buf_size&&(E(S,255&d.adler),E(S,d.adler>>8&255),d.adler=0,S.status=M)):S.status=M),S.pending!==0){if(F(d),d.avail_out===0)return S.last_flush=-1,u}else if(d.avail_in===0&&Y(U)<=Y(j)&&U!==p)return ie(d,-5);if(S.status===666&&d.avail_in!==0)return ie(d,-5);if(d.avail_in!==0||S.lookahead!==0||U!==f&&S.status!==666){var q=S.strategy===2?function(L,K){for(var ne;;){if(L.lookahead===0&&(ue(L),L.lookahead===0)){if(K===f)return g;break}if(L.match_length=0,ne=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,ne&&(R(L,!1),L.strm.avail_out===0))return g}return L.insert=0,K===p?(R(L,!0),L.strm.avail_out===0?re:H):L.last_lit&&(R(L,!1),L.strm.avail_out===0)?g:N}(S,U):S.strategy===3?function(L,K){for(var ne,Q,O,Z,te=L.window;;){if(L.lookahead<=V){if(ue(L),L.lookahead<=V&&K===f)return g;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=P&&0<L.strstart&&(Q=te[O=L.strstart-1])===te[++O]&&Q===te[++O]&&Q===te[++O]){Z=L.strstart+V;do;while(Q===te[++O]&&Q===te[++O]&&Q===te[++O]&&Q===te[++O]&&Q===te[++O]&&Q===te[++O]&&Q===te[++O]&&Q===te[++O]&&O<Z);L.match_length=V-(Z-O),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=P?(ne=o._tr_tally(L,1,L.match_length-P),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(ne=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),ne&&(R(L,!1),L.strm.avail_out===0))return g}return L.insert=0,K===p?(R(L,!0),L.strm.avail_out===0?re:H):L.last_lit&&(R(L,!1),L.strm.avail_out===0)?g:N}(S,U):i[S.level].func(S,U);if(q!==re&&q!==H||(S.status=666),q===g||q===re)return d.avail_out===0&&(S.last_flush=-1),u;if(q===N&&(U===1?o._tr_align(S):U!==5&&(o._tr_stored_block(S,0,0,!1),U===3&&(A(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),F(d),d.avail_out===0))return S.last_flush=-1,u}return U!==p?u:S.wrap<=0?1:(S.wrap===2?(E(S,255&d.adler),E(S,d.adler>>8&255),E(S,d.adler>>16&255),E(S,d.adler>>24&255),E(S,255&d.total_in),E(S,d.total_in>>8&255),E(S,d.total_in>>16&255),E(S,d.total_in>>24&255)):(ee(S,d.adler>>>16),ee(S,65535&d.adler)),F(d),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?u:1)},a.deflateEnd=function(d){var U;return d&&d.state?(U=d.state.status)!==C&&U!==69&&U!==73&&U!==91&&U!==103&&U!==M&&U!==666?ie(d,x):(d.state=null,U===M?ie(d,-3):u):x},a.deflateSetDictionary=function(d,U){var j,S,k,T,W,q,L,K,ne=U.length;if(!d||!d.state||(T=(j=d.state).wrap)===2||T===1&&j.status!==C||j.lookahead)return x;for(T===1&&(d.adler=l(d.adler,U,ne,0)),j.wrap=0,ne>=j.w_size&&(T===0&&(A(j.head),j.strstart=0,j.block_start=0,j.insert=0),K=new s.Buf8(j.w_size),s.arraySet(K,U,ne-j.w_size,j.w_size,0),U=K,ne=j.w_size),W=d.avail_in,q=d.next_in,L=d.input,d.avail_in=ne,d.next_in=0,d.input=U,ue(j);j.lookahead>=P;){for(S=j.strstart,k=j.lookahead-(P-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[S+P-1])&j.hash_mask,j.prev[S&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=S,S++,--k;);j.strstart=S,j.lookahead=P-1,ue(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=P-1,j.match_available=0,d.next_in=q,d.input=L,d.avail_in=W,j.wrap=T,u},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,a){r.exports=function(i,s){var o,l,c,h,f,p,u,x,m,b,y,w,_,z,D,I,B,$,P,V,G,C,M,g,N;o=i.state,l=i.next_in,g=i.input,c=l+(i.avail_in-5),h=i.next_out,N=i.output,f=h-(s-i.avail_out),p=h+(i.avail_out-257),u=o.dmax,x=o.wsize,m=o.whave,b=o.wnext,y=o.window,w=o.hold,_=o.bits,z=o.lencode,D=o.distcode,I=(1<<o.lenbits)-1,B=(1<<o.distbits)-1;e:do{_<15&&(w+=g[l++]<<_,_+=8,w+=g[l++]<<_,_+=8),$=z[w&I];t:for(;;){if(w>>>=P=$>>>24,_-=P,(P=$>>>16&255)===0)N[h++]=65535&$;else{if(!(16&P)){if(!(64&P)){$=z[(65535&$)+(w&(1<<P)-1)];continue t}if(32&P){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}V=65535&$,(P&=15)&&(_<P&&(w+=g[l++]<<_,_+=8),V+=w&(1<<P)-1,w>>>=P,_-=P),_<15&&(w+=g[l++]<<_,_+=8,w+=g[l++]<<_,_+=8),$=D[w&B];n:for(;;){if(w>>>=P=$>>>24,_-=P,!(16&(P=$>>>16&255))){if(!(64&P)){$=D[(65535&$)+(w&(1<<P)-1)];continue n}i.msg="invalid distance code",o.mode=30;break e}if(G=65535&$,_<(P&=15)&&(w+=g[l++]<<_,(_+=8)<P&&(w+=g[l++]<<_,_+=8)),u<(G+=w&(1<<P)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=P,_-=P,(P=h-f)<G){if(m<(P=G-P)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(M=y,(C=0)===b){if(C+=x-P,P<V){for(V-=P;N[h++]=y[C++],--P;);C=h-G,M=N}}else if(b<P){if(C+=x+b-P,(P-=b)<V){for(V-=P;N[h++]=y[C++],--P;);if(C=0,b<V){for(V-=P=b;N[h++]=y[C++],--P;);C=h-G,M=N}}}else if(C+=b-P,P<V){for(V-=P;N[h++]=y[C++],--P;);C=h-G,M=N}for(;2<V;)N[h++]=M[C++],N[h++]=M[C++],N[h++]=M[C++],V-=3;V&&(N[h++]=M[C++],1<V&&(N[h++]=M[C++]))}else{for(C=h-G;N[h++]=N[C++],N[h++]=N[C++],N[h++]=N[C++],2<(V-=3););V&&(N[h++]=N[C++],1<V&&(N[h++]=N[C++]))}break}}break}}while(l<c&&h<p);l-=V=_>>3,w&=(1<<(_-=V<<3))-1,i.next_in=l,i.next_out=h,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=h<p?p-h+257:257-(h-p),o.hold=w,o.bits=_}},{}],49:[function(t,r,a){var i=t("../utils/common"),s=t("./adler32"),o=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),h=1,f=2,p=0,u=-2,x=1,m=852,b=592;function y(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(C){var M;return C&&C.state?(M=C.state,C.total_in=C.total_out=M.total=0,C.msg="",M.wrap&&(C.adler=1&M.wrap),M.mode=x,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new i.Buf32(m),M.distcode=M.distdyn=new i.Buf32(b),M.sane=1,M.back=-1,p):u}function z(C){var M;return C&&C.state?((M=C.state).wsize=0,M.whave=0,M.wnext=0,_(C)):u}function D(C,M){var g,N;return C&&C.state?(N=C.state,M<0?(g=0,M=-M):(g=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?u:(N.window!==null&&N.wbits!==M&&(N.window=null),N.wrap=g,N.wbits=M,z(C))):u}function I(C,M){var g,N;return C?(N=new w,(C.state=N).window=null,(g=D(C,M))!==p&&(C.state=null),g):u}var B,$,P=!0;function V(C){if(P){var M;for(B=new i.Buf32(512),$=new i.Buf32(32),M=0;M<144;)C.lens[M++]=8;for(;M<256;)C.lens[M++]=9;for(;M<280;)C.lens[M++]=7;for(;M<288;)C.lens[M++]=8;for(c(h,C.lens,0,288,B,0,C.work,{bits:9}),M=0;M<32;)C.lens[M++]=5;c(f,C.lens,0,32,$,0,C.work,{bits:5}),P=!1}C.lencode=B,C.lenbits=9,C.distcode=$,C.distbits=5}function G(C,M,g,N){var re,H=C.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new i.Buf8(H.wsize)),N>=H.wsize?(i.arraySet(H.window,M,g-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(N<(re=H.wsize-H.wnext)&&(re=N),i.arraySet(H.window,M,g-N,re,H.wnext),(N-=re)?(i.arraySet(H.window,M,g-N,N,0),H.wnext=N,H.whave=H.wsize):(H.wnext+=re,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=re))),0}a.inflateReset=z,a.inflateReset2=D,a.inflateResetKeep=_,a.inflateInit=function(C){return I(C,15)},a.inflateInit2=I,a.inflate=function(C,M){var g,N,re,H,ie,Y,A,F,R,E,ee,J,ue,ke,oe,ce,be,xe,je,ze,d,U,j,S,k=0,T=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return u;(g=C.state).mode===12&&(g.mode=13),ie=C.next_out,re=C.output,A=C.avail_out,H=C.next_in,N=C.input,Y=C.avail_in,F=g.hold,R=g.bits,E=Y,ee=A,U=p;e:for(;;)switch(g.mode){case x:if(g.wrap===0){g.mode=13;break}for(;R<16;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(2&g.wrap&&F===35615){T[g.check=0]=255&F,T[1]=F>>>8&255,g.check=o(g.check,T,2,0),R=F=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&F)<<8)+(F>>8))%31){C.msg="incorrect header check",g.mode=30;break}if((15&F)!=8){C.msg="unknown compression method",g.mode=30;break}if(R-=4,d=8+(15&(F>>>=4)),g.wbits===0)g.wbits=d;else if(d>g.wbits){C.msg="invalid window size",g.mode=30;break}g.dmax=1<<d,C.adler=g.check=1,g.mode=512&F?10:12,R=F=0;break;case 2:for(;R<16;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(g.flags=F,(255&g.flags)!=8){C.msg="unknown compression method",g.mode=30;break}if(57344&g.flags){C.msg="unknown header flags set",g.mode=30;break}g.head&&(g.head.text=F>>8&1),512&g.flags&&(T[0]=255&F,T[1]=F>>>8&255,g.check=o(g.check,T,2,0)),R=F=0,g.mode=3;case 3:for(;R<32;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}g.head&&(g.head.time=F),512&g.flags&&(T[0]=255&F,T[1]=F>>>8&255,T[2]=F>>>16&255,T[3]=F>>>24&255,g.check=o(g.check,T,4,0)),R=F=0,g.mode=4;case 4:for(;R<16;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}g.head&&(g.head.xflags=255&F,g.head.os=F>>8),512&g.flags&&(T[0]=255&F,T[1]=F>>>8&255,g.check=o(g.check,T,2,0)),R=F=0,g.mode=5;case 5:if(1024&g.flags){for(;R<16;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}g.length=F,g.head&&(g.head.extra_len=F),512&g.flags&&(T[0]=255&F,T[1]=F>>>8&255,g.check=o(g.check,T,2,0)),R=F=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&(Y<(J=g.length)&&(J=Y),J&&(g.head&&(d=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),i.arraySet(g.head.extra,N,H,J,d)),512&g.flags&&(g.check=o(g.check,N,J,H)),Y-=J,H+=J,g.length-=J),g.length))break e;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(Y===0)break e;for(J=0;d=N[H+J++],g.head&&d&&g.length<65536&&(g.head.name+=String.fromCharCode(d)),d&&J<Y;);if(512&g.flags&&(g.check=o(g.check,N,J,H)),Y-=J,H+=J,d)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(Y===0)break e;for(J=0;d=N[H+J++],g.head&&d&&g.length<65536&&(g.head.comment+=String.fromCharCode(d)),d&&J<Y;);if(512&g.flags&&(g.check=o(g.check,N,J,H)),Y-=J,H+=J,d)break e}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;R<16;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(F!==(65535&g.check)){C.msg="header crc mismatch",g.mode=30;break}R=F=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),C.adler=g.check=0,g.mode=12;break;case 10:for(;R<32;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}C.adler=g.check=y(F),R=F=0,g.mode=11;case 11:if(g.havedict===0)return C.next_out=ie,C.avail_out=A,C.next_in=H,C.avail_in=Y,g.hold=F,g.bits=R,2;C.adler=g.check=1,g.mode=12;case 12:if(M===5||M===6)break e;case 13:if(g.last){F>>>=7&R,R-=7&R,g.mode=27;break}for(;R<3;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}switch(g.last=1&F,R-=1,3&(F>>>=1)){case 0:g.mode=14;break;case 1:if(V(g),g.mode=20,M!==6)break;F>>>=2,R-=2;break e;case 2:g.mode=17;break;case 3:C.msg="invalid block type",g.mode=30}F>>>=2,R-=2;break;case 14:for(F>>>=7&R,R-=7&R;R<32;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if((65535&F)!=(F>>>16^65535)){C.msg="invalid stored block lengths",g.mode=30;break}if(g.length=65535&F,R=F=0,g.mode=15,M===6)break e;case 15:g.mode=16;case 16:if(J=g.length){if(Y<J&&(J=Y),A<J&&(J=A),J===0)break e;i.arraySet(re,N,H,J,ie),Y-=J,H+=J,A-=J,ie+=J,g.length-=J;break}g.mode=12;break;case 17:for(;R<14;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(g.nlen=257+(31&F),F>>>=5,R-=5,g.ndist=1+(31&F),F>>>=5,R-=5,g.ncode=4+(15&F),F>>>=4,R-=4,286<g.nlen||30<g.ndist){C.msg="too many length or distance symbols",g.mode=30;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;R<3;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}g.lens[W[g.have++]]=7&F,F>>>=3,R-=3}for(;g.have<19;)g.lens[W[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,j={bits:g.lenbits},U=c(0,g.lens,0,19,g.lencode,0,g.work,j),g.lenbits=j.bits,U){C.msg="invalid code lengths set",g.mode=30;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;ce=(k=g.lencode[F&(1<<g.lenbits)-1])>>>16&255,be=65535&k,!((oe=k>>>24)<=R);){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(be<16)F>>>=oe,R-=oe,g.lens[g.have++]=be;else{if(be===16){for(S=oe+2;R<S;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(F>>>=oe,R-=oe,g.have===0){C.msg="invalid bit length repeat",g.mode=30;break}d=g.lens[g.have-1],J=3+(3&F),F>>>=2,R-=2}else if(be===17){for(S=oe+3;R<S;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}R-=oe,d=0,J=3+(7&(F>>>=oe)),F>>>=3,R-=3}else{for(S=oe+7;R<S;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}R-=oe,d=0,J=11+(127&(F>>>=oe)),F>>>=7,R-=7}if(g.have+J>g.nlen+g.ndist){C.msg="invalid bit length repeat",g.mode=30;break}for(;J--;)g.lens[g.have++]=d}}if(g.mode===30)break;if(g.lens[256]===0){C.msg="invalid code -- missing end-of-block",g.mode=30;break}if(g.lenbits=9,j={bits:g.lenbits},U=c(h,g.lens,0,g.nlen,g.lencode,0,g.work,j),g.lenbits=j.bits,U){C.msg="invalid literal/lengths set",g.mode=30;break}if(g.distbits=6,g.distcode=g.distdyn,j={bits:g.distbits},U=c(f,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,j),g.distbits=j.bits,U){C.msg="invalid distances set",g.mode=30;break}if(g.mode=20,M===6)break e;case 20:g.mode=21;case 21:if(6<=Y&&258<=A){C.next_out=ie,C.avail_out=A,C.next_in=H,C.avail_in=Y,g.hold=F,g.bits=R,l(C,ee),ie=C.next_out,re=C.output,A=C.avail_out,H=C.next_in,N=C.input,Y=C.avail_in,F=g.hold,R=g.bits,g.mode===12&&(g.back=-1);break}for(g.back=0;ce=(k=g.lencode[F&(1<<g.lenbits)-1])>>>16&255,be=65535&k,!((oe=k>>>24)<=R);){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(ce&&!(240&ce)){for(xe=oe,je=ce,ze=be;ce=(k=g.lencode[ze+((F&(1<<xe+je)-1)>>xe)])>>>16&255,be=65535&k,!(xe+(oe=k>>>24)<=R);){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}F>>>=xe,R-=xe,g.back+=xe}if(F>>>=oe,R-=oe,g.back+=oe,g.length=be,ce===0){g.mode=26;break}if(32&ce){g.back=-1,g.mode=12;break}if(64&ce){C.msg="invalid literal/length code",g.mode=30;break}g.extra=15&ce,g.mode=22;case 22:if(g.extra){for(S=g.extra;R<S;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}g.length+=F&(1<<g.extra)-1,F>>>=g.extra,R-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;ce=(k=g.distcode[F&(1<<g.distbits)-1])>>>16&255,be=65535&k,!((oe=k>>>24)<=R);){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(!(240&ce)){for(xe=oe,je=ce,ze=be;ce=(k=g.distcode[ze+((F&(1<<xe+je)-1)>>xe)])>>>16&255,be=65535&k,!(xe+(oe=k>>>24)<=R);){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}F>>>=xe,R-=xe,g.back+=xe}if(F>>>=oe,R-=oe,g.back+=oe,64&ce){C.msg="invalid distance code",g.mode=30;break}g.offset=be,g.extra=15&ce,g.mode=24;case 24:if(g.extra){for(S=g.extra;R<S;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}g.offset+=F&(1<<g.extra)-1,F>>>=g.extra,R-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){C.msg="invalid distance too far back",g.mode=30;break}g.mode=25;case 25:if(A===0)break e;if(J=ee-A,g.offset>J){if((J=g.offset-J)>g.whave&&g.sane){C.msg="invalid distance too far back",g.mode=30;break}ue=J>g.wnext?(J-=g.wnext,g.wsize-J):g.wnext-J,J>g.length&&(J=g.length),ke=g.window}else ke=re,ue=ie-g.offset,J=g.length;for(A<J&&(J=A),A-=J,g.length-=J;re[ie++]=ke[ue++],--J;);g.length===0&&(g.mode=21);break;case 26:if(A===0)break e;re[ie++]=g.length,A--,g.mode=21;break;case 27:if(g.wrap){for(;R<32;){if(Y===0)break e;Y--,F|=N[H++]<<R,R+=8}if(ee-=A,C.total_out+=ee,g.total+=ee,ee&&(C.adler=g.check=g.flags?o(g.check,re,ee,ie-ee):s(g.check,re,ee,ie-ee)),ee=A,(g.flags?F:y(F))!==g.check){C.msg="incorrect data check",g.mode=30;break}R=F=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;R<32;){if(Y===0)break e;Y--,F+=N[H++]<<R,R+=8}if(F!==(4294967295&g.total)){C.msg="incorrect length check",g.mode=30;break}R=F=0}g.mode=29;case 29:U=1;break e;case 30:U=-3;break e;case 31:return-4;case 32:default:return u}return C.next_out=ie,C.avail_out=A,C.next_in=H,C.avail_in=Y,g.hold=F,g.bits=R,(g.wsize||ee!==C.avail_out&&g.mode<30&&(g.mode<27||M!==4))&&G(C,C.output,C.next_out,ee-C.avail_out)?(g.mode=31,-4):(E-=C.avail_in,ee-=C.avail_out,C.total_in+=E,C.total_out+=ee,g.total+=ee,g.wrap&&ee&&(C.adler=g.check=g.flags?o(g.check,re,ee,C.next_out-ee):s(g.check,re,ee,C.next_out-ee)),C.data_type=g.bits+(g.last?64:0)+(g.mode===12?128:0)+(g.mode===20||g.mode===15?256:0),(E==0&&ee===0||M===4)&&U===p&&(U=-5),U)},a.inflateEnd=function(C){if(!C||!C.state)return u;var M=C.state;return M.window&&(M.window=null),C.state=null,p},a.inflateGetHeader=function(C,M){var g;return C&&C.state&&2&(g=C.state).wrap?((g.head=M).done=!1,p):u},a.inflateSetDictionary=function(C,M){var g,N=M.length;return C&&C.state?(g=C.state).wrap!==0&&g.mode!==11?u:g.mode===11&&s(1,M,N,0)!==g.check?-3:G(C,M,N,N)?(g.mode=31,-4):(g.havedict=1,p):u},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,a){var i=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,p,u,x,m,b,y){var w,_,z,D,I,B,$,P,V,G=y.bits,C=0,M=0,g=0,N=0,re=0,H=0,ie=0,Y=0,A=0,F=0,R=null,E=0,ee=new i.Buf16(16),J=new i.Buf16(16),ue=null,ke=0;for(C=0;C<=15;C++)ee[C]=0;for(M=0;M<u;M++)ee[f[p+M]]++;for(re=G,N=15;1<=N&&ee[N]===0;N--);if(N<re&&(re=N),N===0)return x[m++]=20971520,x[m++]=20971520,y.bits=1,0;for(g=1;g<N&&ee[g]===0;g++);for(re<g&&(re=g),C=Y=1;C<=15;C++)if(Y<<=1,(Y-=ee[C])<0)return-1;if(0<Y&&(h===0||N!==1))return-1;for(J[1]=0,C=1;C<15;C++)J[C+1]=J[C]+ee[C];for(M=0;M<u;M++)f[p+M]!==0&&(b[J[f[p+M]]++]=M);if(B=h===0?(R=ue=b,19):h===1?(R=s,E-=257,ue=o,ke-=257,256):(R=l,ue=c,-1),C=g,I=m,ie=M=F=0,z=-1,D=(A=1<<(H=re))-1,h===1&&852<A||h===2&&592<A)return 1;for(;;){for($=C-ie,V=b[M]<B?(P=0,b[M]):b[M]>B?(P=ue[ke+b[M]],R[E+b[M]]):(P=96,0),w=1<<C-ie,g=_=1<<H;x[I+(F>>ie)+(_-=w)]=$<<24|P<<16|V|0,_!==0;);for(w=1<<C-1;F&w;)w>>=1;if(w!==0?(F&=w-1,F+=w):F=0,M++,--ee[C]==0){if(C===N)break;C=f[p+b[M]]}if(re<C&&(F&D)!==z){for(ie===0&&(ie=re),I+=g,Y=1<<(H=C-ie);H+ie<N&&!((Y-=ee[H+ie])<=0);)H++,Y<<=1;if(A+=1<<H,h===1&&852<A||h===2&&592<A)return 1;x[z=F&D]=re<<24|H<<16|I-m|0}}return F!==0&&(x[I+F]=C-ie<<24|64<<16|0),y.bits=re,0}},{"../utils/common":41}],51:[function(t,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,a){var i=t("../utils/common"),s=0,o=1;function l(k){for(var T=k.length;0<=--T;)k[T]=0}var c=0,h=29,f=256,p=f+1+h,u=30,x=19,m=2*p+1,b=15,y=16,w=7,_=256,z=16,D=17,I=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(p+2));l(G);var C=new Array(2*u);l(C);var M=new Array(512);l(M);var g=new Array(256);l(g);var N=new Array(h);l(N);var re,H,ie,Y=new Array(u);function A(k,T,W,q,L){this.static_tree=k,this.extra_bits=T,this.extra_base=W,this.elems=q,this.max_length=L,this.has_stree=k&&k.length}function F(k,T){this.dyn_tree=k,this.max_code=0,this.stat_desc=T}function R(k){return k<256?M[k]:M[256+(k>>>7)]}function E(k,T){k.pending_buf[k.pending++]=255&T,k.pending_buf[k.pending++]=T>>>8&255}function ee(k,T,W){k.bi_valid>y-W?(k.bi_buf|=T<<k.bi_valid&65535,E(k,k.bi_buf),k.bi_buf=T>>y-k.bi_valid,k.bi_valid+=W-y):(k.bi_buf|=T<<k.bi_valid&65535,k.bi_valid+=W)}function J(k,T,W){ee(k,W[2*T],W[2*T+1])}function ue(k,T){for(var W=0;W|=1&k,k>>>=1,W<<=1,0<--T;);return W>>>1}function ke(k,T,W){var q,L,K=new Array(b+1),ne=0;for(q=1;q<=b;q++)K[q]=ne=ne+W[q-1]<<1;for(L=0;L<=T;L++){var Q=k[2*L+1];Q!==0&&(k[2*L]=ue(K[Q]++,Q))}}function oe(k){var T;for(T=0;T<p;T++)k.dyn_ltree[2*T]=0;for(T=0;T<u;T++)k.dyn_dtree[2*T]=0;for(T=0;T<x;T++)k.bl_tree[2*T]=0;k.dyn_ltree[2*_]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ce(k){8<k.bi_valid?E(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function be(k,T,W,q){var L=2*T,K=2*W;return k[L]<k[K]||k[L]===k[K]&&q[T]<=q[W]}function xe(k,T,W){for(var q=k.heap[W],L=W<<1;L<=k.heap_len&&(L<k.heap_len&&be(T,k.heap[L+1],k.heap[L],k.depth)&&L++,!be(T,q,k.heap[L],k.depth));)k.heap[W]=k.heap[L],W=L,L<<=1;k.heap[W]=q}function je(k,T,W){var q,L,K,ne,Q=0;if(k.last_lit!==0)for(;q=k.pending_buf[k.d_buf+2*Q]<<8|k.pending_buf[k.d_buf+2*Q+1],L=k.pending_buf[k.l_buf+Q],Q++,q===0?J(k,L,T):(J(k,(K=g[L])+f+1,T),(ne=B[K])!==0&&ee(k,L-=N[K],ne),J(k,K=R(--q),W),(ne=$[K])!==0&&ee(k,q-=Y[K],ne)),Q<k.last_lit;);J(k,_,T)}function ze(k,T){var W,q,L,K=T.dyn_tree,ne=T.stat_desc.static_tree,Q=T.stat_desc.has_stree,O=T.stat_desc.elems,Z=-1;for(k.heap_len=0,k.heap_max=m,W=0;W<O;W++)K[2*W]!==0?(k.heap[++k.heap_len]=Z=W,k.depth[W]=0):K[2*W+1]=0;for(;k.heap_len<2;)K[2*(L=k.heap[++k.heap_len]=Z<2?++Z:0)]=1,k.depth[L]=0,k.opt_len--,Q&&(k.static_len-=ne[2*L+1]);for(T.max_code=Z,W=k.heap_len>>1;1<=W;W--)xe(k,K,W);for(L=O;W=k.heap[1],k.heap[1]=k.heap[k.heap_len--],xe(k,K,1),q=k.heap[1],k.heap[--k.heap_max]=W,k.heap[--k.heap_max]=q,K[2*L]=K[2*W]+K[2*q],k.depth[L]=(k.depth[W]>=k.depth[q]?k.depth[W]:k.depth[q])+1,K[2*W+1]=K[2*q+1]=L,k.heap[1]=L++,xe(k,K,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(te,ae){var de,Se,Le,pe,$e,qe,ve=ae.dyn_tree,Ge=ae.max_code,Ne=ae.stat_desc.static_tree,ha=ae.stat_desc.has_stree,fa=ae.stat_desc.extra_bits,lr=ae.stat_desc.extra_base,ut=ae.stat_desc.max_length,vt=0;for(pe=0;pe<=b;pe++)te.bl_count[pe]=0;for(ve[2*te.heap[te.heap_max]+1]=0,de=te.heap_max+1;de<m;de++)ut<(pe=ve[2*ve[2*(Se=te.heap[de])+1]+1]+1)&&(pe=ut,vt++),ve[2*Se+1]=pe,Ge<Se||(te.bl_count[pe]++,$e=0,lr<=Se&&($e=fa[Se-lr]),qe=ve[2*Se],te.opt_len+=qe*(pe+$e),ha&&(te.static_len+=qe*(Ne[2*Se+1]+$e)));if(vt!==0){do{for(pe=ut-1;te.bl_count[pe]===0;)pe--;te.bl_count[pe]--,te.bl_count[pe+1]+=2,te.bl_count[ut]--,vt-=2}while(0<vt);for(pe=ut;pe!==0;pe--)for(Se=te.bl_count[pe];Se!==0;)Ge<(Le=te.heap[--de])||(ve[2*Le+1]!==pe&&(te.opt_len+=(pe-ve[2*Le+1])*ve[2*Le],ve[2*Le+1]=pe),Se--)}}(k,T),ke(K,Z,k.bl_count)}function d(k,T,W){var q,L,K=-1,ne=T[1],Q=0,O=7,Z=4;for(ne===0&&(O=138,Z=3),T[2*(W+1)+1]=65535,q=0;q<=W;q++)L=ne,ne=T[2*(q+1)+1],++Q<O&&L===ne||(Q<Z?k.bl_tree[2*L]+=Q:L!==0?(L!==K&&k.bl_tree[2*L]++,k.bl_tree[2*z]++):Q<=10?k.bl_tree[2*D]++:k.bl_tree[2*I]++,K=L,Z=(Q=0)===ne?(O=138,3):L===ne?(O=6,3):(O=7,4))}function U(k,T,W){var q,L,K=-1,ne=T[1],Q=0,O=7,Z=4;for(ne===0&&(O=138,Z=3),q=0;q<=W;q++)if(L=ne,ne=T[2*(q+1)+1],!(++Q<O&&L===ne)){if(Q<Z)for(;J(k,L,k.bl_tree),--Q!=0;);else L!==0?(L!==K&&(J(k,L,k.bl_tree),Q--),J(k,z,k.bl_tree),ee(k,Q-3,2)):Q<=10?(J(k,D,k.bl_tree),ee(k,Q-3,3)):(J(k,I,k.bl_tree),ee(k,Q-11,7));K=L,Z=(Q=0)===ne?(O=138,3):L===ne?(O=6,3):(O=7,4)}}l(Y);var j=!1;function S(k,T,W,q){ee(k,(c<<1)+(q?1:0),3),function(L,K,ne,Q){ce(L),E(L,ne),E(L,~ne),i.arraySet(L.pending_buf,L.window,K,ne,L.pending),L.pending+=ne}(k,T,W)}a._tr_init=function(k){j||(function(){var T,W,q,L,K,ne=new Array(b+1);for(L=q=0;L<h-1;L++)for(N[L]=q,T=0;T<1<<B[L];T++)g[q++]=L;for(g[q-1]=L,L=K=0;L<16;L++)for(Y[L]=K,T=0;T<1<<$[L];T++)M[K++]=L;for(K>>=7;L<u;L++)for(Y[L]=K<<7,T=0;T<1<<$[L]-7;T++)M[256+K++]=L;for(W=0;W<=b;W++)ne[W]=0;for(T=0;T<=143;)G[2*T+1]=8,T++,ne[8]++;for(;T<=255;)G[2*T+1]=9,T++,ne[9]++;for(;T<=279;)G[2*T+1]=7,T++,ne[7]++;for(;T<=287;)G[2*T+1]=8,T++,ne[8]++;for(ke(G,p+1,ne),T=0;T<u;T++)C[2*T+1]=5,C[2*T]=ue(T,5);re=new A(G,B,f+1,p,b),H=new A(C,$,0,u,b),ie=new A(new Array(0),P,0,x,w)}(),j=!0),k.l_desc=new F(k.dyn_ltree,re),k.d_desc=new F(k.dyn_dtree,H),k.bl_desc=new F(k.bl_tree,ie),k.bi_buf=0,k.bi_valid=0,oe(k)},a._tr_stored_block=S,a._tr_flush_block=function(k,T,W,q){var L,K,ne=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(Q){var O,Z=4093624447;for(O=0;O<=31;O++,Z>>>=1)if(1&Z&&Q.dyn_ltree[2*O]!==0)return s;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return o;for(O=32;O<f;O++)if(Q.dyn_ltree[2*O]!==0)return o;return s}(k)),ze(k,k.l_desc),ze(k,k.d_desc),ne=function(Q){var O;for(d(Q,Q.dyn_ltree,Q.l_desc.max_code),d(Q,Q.dyn_dtree,Q.d_desc.max_code),ze(Q,Q.bl_desc),O=x-1;3<=O&&Q.bl_tree[2*V[O]+1]===0;O--);return Q.opt_len+=3*(O+1)+5+5+4,O}(k),L=k.opt_len+3+7>>>3,(K=k.static_len+3+7>>>3)<=L&&(L=K)):L=K=W+5,W+4<=L&&T!==-1?S(k,T,W,q):k.strategy===4||K===L?(ee(k,2+(q?1:0),3),je(k,G,C)):(ee(k,4+(q?1:0),3),function(Q,O,Z,te){var ae;for(ee(Q,O-257,5),ee(Q,Z-1,5),ee(Q,te-4,4),ae=0;ae<te;ae++)ee(Q,Q.bl_tree[2*V[ae]+1],3);U(Q,Q.dyn_ltree,O-1),U(Q,Q.dyn_dtree,Z-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ne+1),je(k,k.dyn_ltree,k.dyn_dtree)),oe(k),q&&ce(k)},a._tr_tally=function(k,T,W){return k.pending_buf[k.d_buf+2*k.last_lit]=T>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&T,k.pending_buf[k.l_buf+k.last_lit]=255&W,k.last_lit++,T===0?k.dyn_ltree[2*W]++:(k.matches++,T--,k.dyn_ltree[2*(g[W]+f+1)]++,k.dyn_dtree[2*R(T)]++),k.last_lit===k.lit_bufsize-1},a._tr_align=function(k){ee(k,2,3),J(k,_,G),function(T){T.bi_valid===16?(E(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(t,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,a){(function(i){(function(s,o){if(!s.setImmediate){var l,c,h,f,p=1,u={},x=!1,m=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(z){process.nextTick(function(){w(z)})}:function(){if(s.postMessage&&!s.importScripts){var z=!0,D=s.onmessage;return s.onmessage=function(){z=!1},s.postMessage("","*"),s.onmessage=D,z}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(z){s.postMessage(f+z,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(z){w(z.data)},function(z){h.port2.postMessage(z)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(z){var D=m.createElement("script");D.onreadystatechange=function(){w(z),D.onreadystatechange=null,c.removeChild(D),D=null},c.appendChild(D)}):function(z){setTimeout(w,0,z)},b.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var D=new Array(arguments.length-1),I=0;I<D.length;I++)D[I]=arguments[I+1];var B={callback:z,args:D};return u[p]=B,l(p),p++},b.clearImmediate=y}function y(z){delete u[z]}function w(z){if(x)setTimeout(w,0,z);else{var D=u[z];if(D){x=!0;try{(function(I){var B=I.callback,$=I.args;switch($.length){case 0:B();break;case 1:B($[0]);break;case 2:B($[0],$[1]);break;case 3:B($[0],$[1],$[2]);break;default:B.apply(o,$)}})(D)}finally{y(z),x=!1}}}}function _(z){z.source===s&&typeof z.data=="string"&&z.data.indexOf(f)===0&&w(+z.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(yi);var ms=yi.exports;const gr=En(ms),gs="PenAndPaperDB",ys=1,ct="audio",ht="images",Ye="data";class me{static async openDB(){return new Promise((n,t)=>{const r=indexedDB.open(gs,ys);r.onerror=a=>{t(new Error("Failed to open IndexedDB"))},r.onsuccess=a=>{n(r.result)},r.onupgradeneeded=a=>{const i=r.result;i.objectStoreNames.contains(ct)||i.createObjectStore(ct,{keyPath:"name"}),i.objectStoreNames.contains(ht)||i.createObjectStore(ht,{keyPath:"name"}),i.objectStoreNames.contains(Ye)||i.createObjectStore(Ye,{keyPath:"name"})}})}static async processZipFile(n){try{const r=await new gr().loadAsync(n),a=[],i=[],s=[],o=async(c,h,f)=>{const p=r.folder(c);if(!p){console.warn(`Folder '${c}' not found in the zip file.`);return}const u=Object.keys(p.files).filter(x=>!p.files[x].dir&&x.startsWith(`${c}/`)).map(async x=>{const m=x.split("/").pop()||"";if(!m)return;const b=await p.files[x].async("base64"),y=this.getMimeType(m);f.push({name:m,data:b,type:y,lastModified:Date.now()})});await Promise.all(u)};if(await o("audio","audio",a),await o("images","images",i),await o("data","data",s),a.length===0&&i.length===0&&s.length===0)return{success:!1,message:"The zip file does not contain any recognized files in the required folders (audio, images, data)."};const l=await this.openDB();return a.length>0&&await this.storeAssets(l,ct,a),i.length>0&&await this.storeAssets(l,ht,i),s.length>0&&await this.storeAssets(l,Ye,s),l.close(),{success:!0,message:`Successfully imported ${a.length} audio files, ${i.length} image files, and ${s.length} data files.`}}catch(t){return console.error("Error processing zip file:",t),{success:!1,message:`Error processing zip file: ${t instanceof Error?t.message:String(t)}`}}}static async storeAssets(n,t,r){return new Promise((a,i)=>{const s=n.transaction(t,"readwrite"),o=s.objectStore(t);s.oncomplete=()=>a(),s.onerror=c=>i(new Error("Transaction failed"));const l=o.clear();l.onsuccess=()=>{r.forEach(c=>{o.add(c)})}})}static async getAssets(n){try{const t=await this.openDB(),r=this.getStoreName(n);return new Promise((a,i)=>{const l=t.transaction(r,"readonly").objectStore(r).getAll();l.onsuccess=()=>{t.close(),a(l.result||[])},l.onerror=()=>{t.close(),i(new Error(`Failed to get assets from ${r}`))}})}catch(t){return console.error("Error getting assets:",t),[]}}static async hasAssets(n){try{return(await this.getAssets(n)).length>0}catch(t){return console.error("Error checking for assets:",t),!1}}static async getAssetByName(n,t){if(!t)return null;try{const r=await this.openDB(),a=this.getStoreName(n);return new Promise((i,s)=>{const c=r.transaction(a,"readonly").objectStore(a).get(t);c.onsuccess=()=>{r.close(),i(c.result||null)},c.onerror=()=>{r.close(),s(new Error(`Failed to get asset ${t} from ${a}`))}})}catch(r){return console.error(`Error getting asset ${t}:`,r),null}}static async clearAllAssets(){try{const n=await this.openDB();await Promise.all([this.clearStore(n,ct),this.clearStore(n,ht),this.clearStore(n,Ye)]),n.close()}catch(n){console.error("Error clearing assets:",n)}}static clearStore(n,t){return new Promise((r,a)=>{const o=n.transaction(t,"readwrite").objectStore(t).clear();o.onsuccess=()=>r(),o.onerror=()=>a(new Error(`Failed to clear ${t}`))})}static getStoreName(n){switch(n){case"audio":return ct;case"images":return ht;case"data":return Ye}}static getMimeType(n){var r;switch(((r=n.split(".").pop())==null?void 0:r.toLowerCase())||""){case"mp3":return"audio/mpeg";case"wav":return"audio/wav";case"ogg":return"audio/ogg";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"svg":return"image/svg+xml";case"json":return"application/json";case"txt":return"text/plain";default:return"application/octet-stream"}}static async getAssetUrl(n,t){if(!t)return"";try{const r=await this.getAssetByName(n,t);return r?`data:${r.type};base64,${r.data}`:""}catch(r){return console.error(`Error getting asset URL for ${t}:`,r),""}}static encodeUnicode(n){return window.btoa(unescape(encodeURIComponent(n)))}static decodeUnicode(n){try{return decodeURIComponent(escape(window.atob(n)))}catch{console.warn("Failed to decode with Unicode method, trying direct decode");try{return window.atob(n)}catch{return console.warn("Direct decode failed too, returning as-is"),n}}}static async saveDataObject(n,t){try{const r=JSON.stringify(t,null,2),a=this.encodeUnicode(r),i={name:n,data:a,type:"application/json",lastModified:Date.now()},s=await this.openDB(),o=Ye;return new Promise((l,c)=>{const h=s.transaction(o,"readwrite"),f=h.objectStore(o);h.oncomplete=()=>{s.close(),l({success:!0,message:`Successfully saved ${n} data.`})},h.onerror=p=>{s.close(),c(new Error(`Failed to save data ${n}`))},f.put(i)})}catch(r){return console.error(`Error saving data object ${n}:`,r),{success:!1,message:`Error saving data: ${r instanceof Error?r.message:String(r)}`}}}static async getDataObject(n){if(!n)return null;try{const t=await this.getAssetByName("data",n);if(!t)return null;let r="",a=null;try{return r=this.decodeUnicode(t.data),a=JSON.parse(r),a}catch(i){console.warn(`Unicode decode failed for ${n}:`,i)}try{return r=window.atob(t.data),a=JSON.parse(r),a}catch(i){console.warn(`Direct atob decode failed for ${n}:`,i)}if(t.data.startsWith("{")||t.data.startsWith("["))try{return a=JSON.parse(t.data),a}catch(i){console.warn(`Direct JSON parse failed for ${n}:`,i)}return console.error(`All decoding methods failed for ${n}`),null}catch(t){return console.error(`Error getting data object ${n}:`,t),null}}static async exportToZip(){try{const n=new gr,t=n.folder("audio"),r=n.folder("images"),a=n.folder("data");if(!t||!r||!a)throw new Error("Failed to create folders in the zip file");const i=await this.getAssets("audio"),s=await this.getAssets("images"),o=await this.getAssets("data");for(const c of i)t.file(c.name,c.data,{base64:!0});for(const c of s)r.file(c.name,c.data,{base64:!0});for(const c of o)a.file(c.name,c.data,{base64:!0});const l=await n.generateAsync({type:"blob"});return{success:!0,message:`Successfully exported ${i.length} audio files, ${s.length} image files, and ${o.length} data files.`,zipBlob:l}}catch(n){return console.error("Error exporting assets to zip:",n),{success:!1,message:`Error exporting assets: ${n instanceof Error?n.message:String(n)}`}}}static async addAsset(n,t){try{const r=new FileReader,i=await new Promise((h,f)=>{r.onload=()=>{const p=r.result.split(",")[1];h(p)},r.onerror=()=>f(new Error("Failed to read file")),r.readAsDataURL(t)}),s=this.getMimeType(t.name),o={name:t.name,data:i,type:s,lastModified:Date.now()},l=await this.openDB(),c=this.getStoreName(n);return new Promise((h,f)=>{const p=l.transaction(c,"readwrite"),u=p.objectStore(c);p.oncomplete=()=>{l.close(),h({success:!0,message:`Successfully added ${t.name} to ${n} assets.`})},p.onerror=x=>{l.close(),f(new Error(`Failed to add asset ${t.name} to ${c}`))},u.put(o)})}catch(r){return console.error(`Error adding asset ${t.name}:`,r),{success:!1,message:`Error adding asset: ${r instanceof Error?r.message:String(r)}`}}}static async deleteAsset(n,t){try{const r=await this.openDB(),a=this.getStoreName(n);return new Promise((i,s)=>{const o=r.transaction(a,"readwrite"),l=o.objectStore(a);o.oncomplete=()=>{r.close(),i({success:!0,message:`Successfully deleted ${t} from ${n} assets.`})},o.onerror=c=>{r.close(),s(new Error(`Failed to delete asset ${t} from ${a}`))},l.delete(t)})}catch(r){return console.error(`Error deleting asset ${t}:`,r),{success:!1,message:`Error deleting asset: ${r instanceof Error?r.message:String(r)}`}}}static async loadExampleData(){try{const n=[],t=await this.openDB(),r=t.transaction(Ye,"readwrite").objectStore(Ye),a=JSON.stringify(n),i=this.encodeUnicode(a);return r.add({name:"locations.json",data:i,type:"application/json",lastModified:Date.now()}),t.close(),{success:!0,message:"Created empty locations data. You can now start adding your own locations."}}catch(n){return console.error("Error creating example data:",n),{success:!1,message:`Error creating example data: ${n instanceof Error?n.message:String(n)}`}}}}const yr=async()=>await me.getDataObject("locations.json")||[],xr=async()=>await me.getDataObject("characters.json")||[],xs=async()=>await me.getDataObject("combats.json")||[],bs=[],ws=[],Ue=Va((e,n)=>((async()=>{try{e({isLoading:!0});const r=await me.hasAssets("audio"),a=await me.hasAssets("images"),i=await me.hasAssets("data"),s=r||a||i;if(e({hasAssets:s}),s){const o=await yr(),l=await xr(),c=await xs();e({locations:o,characters:l,combats:c,isLoading:!1})}else e({isLoading:!1})}catch(r){console.error("Error initializing store:",r),e({isLoading:!1})}})(),{locations:bs,mapConfig:{worldWidth:1920,worldHeight:1080},selectedLocationId:null,characters:ws,combats:[],audioTracks:[],currentLocation:void 0,currentHowl:null,volume:.7,isPlaying:!1,activeTracks:[],hasAssets:!1,isLoading:!0,addLocation:r=>{const a={...r,id:crypto.randomUUID()};e(i=>({locations:[...i.locations,a]}))},updateLocation:(r,a)=>{e(i=>({locations:i.locations.map(s=>s.id===r?{...s,...a}:s)}))},deleteLocation:r=>{e(a=>{var s;const i=(o,l)=>o.filter(c=>c.id===l?!1:(c.sublocations&&c.sublocations.length>0&&(c.sublocations=i(c.sublocations,l)),!0));return{locations:i(a.locations,r),currentLocation:((s=a.currentLocation)==null?void 0:s.id)===r?void 0:a.currentLocation}})},addCharacter:r=>{const a={...r,id:crypto.randomUUID()};e(i=>({characters:[...i.characters,a]}))},updateCharacter:(r,a)=>{e(i=>({characters:i.characters.map(s=>s.id===r?{...s,...a}:s)}))},deleteCharacter:r=>{e(a=>({characters:a.characters.filter(i=>i.id!==r)}))},addCombat:r=>{const a={...r,id:crypto.randomUUID()};e(i=>({combats:[...i.combats,a]}))},updateCombat:(r,a)=>{e(i=>({combats:i.combats.map(s=>s.id===r?{...s,...a}:s)}))},deleteCombat:r=>{e(a=>({combats:a.combats.filter(i=>i.id!==r)}))},addAudioTrack:r=>{const a={...r,id:crypto.randomUUID(),howl:new dr.Howl({src:[r.url],html5:!0})};e(i=>({audioTracks:[...i.audioTracks,a]}))},setCurrentLocation:r=>{const a=n().locations.find(i=>i.id===r);e({currentLocation:a})},setVolume:r=>{const{currentHowl:a,activeTracks:i}=n();console.log(`Setting volume to ${r} for ${i.length} active tracks`),i.forEach(s=>{s.isMuted||s.howl.volume(r)}),a&&!i.some(s=>s.howl===a)&&a.volume(r),e(s=>({volume:r,activeTracks:s.activeTracks.map(o=>({...o,volume:o.isMuted?o.volume:r}))}))},playTrack:async(r,a)=>{const{currentHowl:i,volume:s,activeTracks:o,locations:l}=n(),c=(a==null?void 0:a.replace)??!0,h=(a==null?void 0:a.locationId)||"",f=(a==null?void 0:a.loop)??!0,p=r.split("/").pop()||"Unknown track",u=await me.getAssetUrl("audio",p);if(!u){console.warn(`Audio file not found: ${p}`);return}if(o.some(y=>y.name===p||y.id===r)){console.log("This track is already playing, skipping",p);return}if(!c&&h){console.log("Keeping parent track, this is a mixed sublocation");const y=l.find(z=>z.id===h);y!=null&&y.parentLocationId;const w=y==null?void 0:y.parentLocationId,_=o.filter(z=>!(z.locationId===h||z.locationId===w||!z.locationId));_.forEach(z=>{console.log(`Stopping track: ${z.name} for location: ${z.locationId}`),z.howl.fade(z.volume,0,1e3),z.howl.once("fade",()=>z.howl.stop())}),e({activeTracks:o.filter(z=>!_.some(D=>D.id===z.id))})}else c&&(console.log("Replacing all tracks, this is a main location change"),o.forEach(y=>{y.howl.fade(y.volume,0,2e3),y.howl.once("fade",()=>{y.howl.stop()})}),e({activeTracks:[]}),i&&(i.fade(i.volume(),0,2e3),i.once("fade",()=>{i.stop()})));const m=new dr.Howl({src:[u],loop:f,volume:c?0:s}),b={id:r,howl:m,name:p,volume:s,isMuted:!1,locationId:h,loop:f};e(y=>({activeTracks:[...y.activeTracks,b]})),f||m.once("end",()=>{console.log("Non-looping track ended, removing from active tracks:",p),e(y=>({activeTracks:y.activeTracks.filter(w=>w.id!==r)}))}),c&&m.fade(0,s,2e3),m.play()},stopTrack:()=>{const{currentHowl:r,volume:a}=n();r&&(r.stop(),e({currentHowl:null,isPlaying:!1}))},getSublocationsByParentId:r=>n().locations.filter(a=>a.parentLocationId===r),getAllTopLevelLocations:()=>n().locations.filter(r=>!r.parentLocationId),toggleMuteTrack:r=>{e(a=>({activeTracks:a.activeTracks.map(i=>{if(i.id===r){const s=!i.isMuted;return i.howl.volume(s?0:i.volume),{...i,isMuted:s}}return i})}))},stopIndividualTrack:r=>{e(a=>{const i=a.activeTracks.find(s=>s.id===r);if(i){console.log("Stopping track:",i.name);const s=a.activeTracks.filter(o=>o.id!==r);return i.howl.fade(i.volume,0,1e3),i.howl.once("fade",()=>{i.howl.stop(),i.howl.unload()}),{activeTracks:s}}return a})},setTrackVolume:(r,a)=>{e(i=>({activeTracks:i.activeTracks.map(o=>o.id===r?(o.isMuted||o.howl.volume(a),{...o,volume:a}):o)}))},refreshAssets:async()=>{try{e({isLoading:!0});const r=await yr(),a=await xr(),i=await me.hasAssets("audio"),s=await me.hasAssets("images"),o=await me.hasAssets("data"),{activeTracks:l,currentHowl:c}=n();l.forEach(h=>{h.howl.fade(h.volume,0,500),h.howl.once("fade",()=>{h.howl.stop(),h.howl.unload()})}),c&&(c.fade(c.volume(),0,500),c.once("fade",()=>{c.stop(),c.unload()})),e({locations:r,characters:a,hasAssets:i||s||o,isLoading:!1,activeTracks:[],currentHowl:null})}catch(r){console.error("Error refreshing assets:",r),e({isLoading:!1})}},saveDataToIndexedDB:async()=>{try{const{locations:r,characters:a,combats:i}=n(),s=await me.saveDataObject("locations.json",r),o=await me.saveDataObject("characters.json",a),l=await me.saveDataObject("combats.json",i);return s.success&&o.success&&l.success?{success:!0,message:"Data saved successfully"}:{success:!1,message:`Error saving data: ${s.message}, ${o.message}, ${l.message}`}}catch(r){return console.error("Error saving data to IndexedDB:",r),{success:!1,message:"Error saving data to IndexedDB"}}},exportToZip:async()=>{try{e({isLoading:!0});const r=await n().saveDataToIndexedDB();if(!r.success)return e({isLoading:!1}),r;const a=await me.exportToZip();if(e({isLoading:!1}),!a.success||!a.zipBlob)return a;const i=URL.createObjectURL(a.zipBlob);return{...a,url:i}}catch(r){return console.error("Error exporting to zip:",r),e({isLoading:!1}),{success:!1,message:`Error exporting data: ${r instanceof Error?r.message:String(r)}`}}},setSelectedLocationId:r=>{e({selectedLocationId:r})}}));var Rn={},_s=Ee;Object.defineProperty(Rn,"__esModule",{value:!0});var xi=Rn.default=void 0,ks=_s(Ae()),Yt=v;xi=Rn.default=(0,ks.default)([(0,Yt.jsx)("circle",{cx:"16.5",cy:"2.38",r:"2"},"0"),(0,Yt.jsx)("path",{d:"M24 11.88v-4.7l-5.05-2.14c-.97-.41-2.09-.06-2.65.84l-1 1.6c-.67 1.18-1.91 2.06-3.41 2.32l.06.06c.69.69 1.52 1.07 2.46 1.17.8-.42 1.52-.98 2.09-1.64l.6 3-1.16 1.1-.94.89v7.5h2v-6l2.1-2 1.8 8H23l-2.18-11-.62-3.1 1.8.7v3.4zM10.29 8.09c.22.15.47.24.72.29.13.02.25.04.38.04s.26-.01.38-.04c.13-.02.25-.06.37-.11.24-.1.47-.24.66-.44.49-.49.67-1.17.55-1.8-.07-.37-.25-.74-.55-1.03-.19-.19-.42-.34-.66-.44-.12-.05-.24-.09-.37-.11s-.25-.04-.38-.04c-.12 0-.23.01-.35.03-.14.02-.28.06-.41.11-.23.11-.46.26-.65.45-.3.29-.48.66-.55 1.03-.12.63.06 1.31.55 1.8.09.1.2.18.31.26"},"1"),(0,Yt.jsx)("path",{d:"m11.24 10.56-2-2c-.1-.1-.2-.18-.31-.26-.22-.14-.47-.24-.72-.28-.13-.03-.25-.04-.38-.04-.51 0-1.02.2-1.41.59l-3.34 3.34c-.41.41-.62.98-.58 1.54 0 .18.04.37.11.55l1.07 2.95-3.63 3.63L1.46 22l4.24-4.24v-2.22L7 16.75v5.13h2v-6l-2.12-2.12 2.36-2.36.71.71c1.29 1.26 2.97 2.04 5.03 2.04l-.14-2.07c-1.5-.02-2.7-.62-3.6-1.52"},"2")],"SportsKabaddi");const vs=()=>{const[e,n]=An.useState(!1),t=Ua(),r=ma(),a=ga(r.breakpoints.down("sm")),{saveDataToIndexedDB:i,exportToZip:s}=Ue(),o=async()=>{try{const p=await i();alert(p.message)}catch(p){alert(`Error saving data: ${p instanceof Error?p.message:String(p)}`)}},l=async()=>{try{const p=await s();if(p.success&&p.url){const u=document.createElement("a");u.href=p.url,u.download="campaign-data.zip",document.body.appendChild(u),u.click(),document.body.removeChild(u)}else alert(p.message)}catch(p){alert(`Error exporting data: ${p instanceof Error?p.message:String(p)}`)}},c=()=>{n(!e)},h=p=>t.pathname===p,f=[{path:"/",label:"Dashboard",icon:v.jsx(di,{})},{path:"/map",label:"Map View",icon:v.jsx(pi,{})},{path:"/locations",label:"Locations Editor",icon:v.jsx(mi,{})},{path:"/characters",label:"Characters Editor",icon:v.jsx(gi,{})},{path:"/combats",label:"Combats Editor",icon:v.jsx(xi,{})}];return v.jsxs(v.Fragment,{children:[v.jsx(ya,{position:"static",children:v.jsxs(xa,{children:[a&&v.jsx(Oe,{edge:"start",color:"inherit","aria-label":"menu",onClick:c,children:v.jsx(fi,{})}),v.jsx(fe,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Campaign Organizer"}),!a&&v.jsx(ye,{children:f.map(p=>v.jsx(De,{color:"inherit",component:fr,to:p.path,sx:{mx:.5,fontWeight:h(p.path)?"bold":"normal",borderBottom:h(p.path)?"2px solid white":"none"},children:p.label},p.path))}),v.jsxs(ye,{sx:{ml:2},children:[v.jsx(Oe,{color:"inherit",onClick:o,title:"Save Campaign",children:v.jsx(un,{})}),v.jsx(Oe,{color:"inherit",onClick:l,title:"Export Campaign",children:v.jsx(cn,{})})]})]})}),v.jsx(ba,{anchor:"left",open:e,onClose:c,children:v.jsxs(ye,{sx:{width:250},role:"presentation",onClick:c,children:[v.jsx(xt,{children:f.map(p=>v.jsxs(it,{button:!0,component:fr,to:p.path,selected:h(p.path),children:[v.jsx(Ut,{children:p.icon}),v.jsx(pt,{primary:p.label})]},p.path))}),v.jsx(Lt,{}),v.jsxs(xt,{children:[v.jsxs(it,{button:!0,onClick:o,children:[v.jsx(Ut,{children:v.jsx(un,{})}),v.jsx(pt,{primary:"Save Campaign"})]}),v.jsxs(it,{button:!0,onClick:l,children:[v.jsx(Ut,{children:v.jsx(cn,{})}),v.jsx(pt,{primary:"Export Campaign"})]})]})]})})]})};var Ln={},Ss=Ee;Object.defineProperty(Ln,"__esModule",{value:!0});var bi=Ln.default=void 0,Cs=Ss(Ae()),Es=v;bi=Ln.default=(0,Cs.default)((0,Es.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var Bn={},As=Ee;Object.defineProperty(Bn,"__esModule",{value:!0});var wi=Bn.default=void 0,Is=As(Ae()),zs=v;wi=Bn.default=(0,Is.default)((0,zs.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var Fn={},js=Ee;Object.defineProperty(Fn,"__esModule",{value:!0});var _i=Fn.default=void 0,Ts=js(Ae()),Ds=v;_i=Fn.default=(0,Ts.default)((0,Ds.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var Mn={},Os=Ee;Object.defineProperty(Mn,"__esModule",{value:!0});var ki=Mn.default=void 0,Ps=Os(Ae()),Rs=v;ki=Mn.default=(0,Ps.default)((0,Rs.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp");const Ls=()=>{const[e,n]=he.useState(!1),[t,r]=he.useState([]),[a,i]=he.useState(!1),[s,o]=he.useState(""),[l,c]=he.useState(!0),h=Ue(w=>w.playTrack),f=Ue(w=>w.activeTracks);he.useEffect(()=>{e&&p()},[e]);const p=async()=>{i(!0);try{const w=await me.getAssets("audio");r(w.map(_=>_.name))}catch(w){console.error("Error loading audio assets:",w)}finally{i(!1)}},u=()=>{n(!0)},x=()=>{n(!1)},m=w=>{const _=`/audio/${w}`;h(_,{replace:!1,locationId:"",loop:l}),x()},b=w=>f.some(_=>_.name===w),y=t.filter(w=>w.toLowerCase().includes(s.toLowerCase()));return v.jsxs(v.Fragment,{children:[v.jsx(De,{variant:"contained",color:"primary",startIcon:v.jsx(wi,{}),onClick:u,size:"small",sx:{mb:1},children:"Add Track"}),v.jsxs(vn,{open:e,onClose:x,maxWidth:"sm",fullWidth:!0,children:[v.jsx(ci,{children:"Select Audio Track"}),v.jsxs(Sn,{children:[v.jsxs(ye,{sx:{mb:2,mt:1},children:[v.jsx(fe,{variant:"body2",gutterBottom:!0,children:"Select a track to play. You can choose whether to loop it or play it once."}),v.jsx(wa,{fullWidth:!0,variant:"outlined",size:"small",placeholder:"Search tracks...",value:s,onChange:w=>o(w.target.value),sx:{mb:2,mt:1},InputProps:{startAdornment:v.jsx(_a,{position:"start",children:v.jsx(_i,{})})}}),v.jsx(ka,{control:v.jsx(va,{checked:l,onChange:w=>c(w.target.checked),color:"primary"}),label:"Loop Track"})]}),v.jsx(Lt,{sx:{mb:2}}),a?v.jsx(fe,{children:"Loading audio assets..."}):t.length===0?v.jsx(fe,{children:"No audio assets found. Import some audio files first."}):v.jsx(xt,{sx:{maxHeight:300,overflow:"auto"},children:y.map(w=>{const _=b(w);return v.jsx(it,{secondaryAction:v.jsx(Cn,{title:_?"Already playing":"Play track",children:v.jsx("span",{children:v.jsx(Oe,{edge:"end",onClick:()=>!_&&m(w),color:"primary",disabled:_,children:_?v.jsx(ki,{}):v.jsx(bi,{})})})}),children:v.jsx(pt,{primary:w,secondary:_?"Currently playing":null})},w)})})]}),v.jsx(hi,{children:v.jsx(De,{onClick:x,color:"primary",children:"Close"})})]})]})},vi=()=>{const e=Ue(_=>_.activeTracks),n=Ue(_=>_.toggleMuteTrack),t=Ue(_=>_.stopIndividualTrack),r=Ue(_=>_.setTrackVolume),a=Ue(_=>_.volume),i=Ue(_=>_.setVolume),[s,o]=he.useState(!1),[l,c]=he.useState(a||.7),[h,f]=he.useState({}),[p,u]=he.useState(!1);he.useEffect(()=>{!s&&a>0&&c(a)},[a,s]);const x=()=>{s?i(l):(a>0&&c(a),i(0)),o(!s)},m=(_,z)=>{const D=z;i(D),s&&D>0&&o(!1),D===0&&!s&&o(!0)},b=_=>(z,D)=>{r(_,D)},y=_=>{f(z=>({...z,[_]:!z[_]}))},w=()=>{u(!p)};return p?v.jsx(Cn,{title:"Audio Controls",placement:"top",TransitionComponent:Sa,children:v.jsx(Oe,{onClick:w,sx:{position:"fixed",bottom:20,left:20,backgroundColor:"rgba(45, 45, 45, 0.9)",color:"white","&:hover":{backgroundColor:"rgba(60, 60, 60, 0.9)"},zIndex:9999,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},children:v.jsx(Ca,{})})}):v.jsxs(Ot,{sx:{position:"fixed",bottom:20,left:20,p:2,maxWidth:320,maxHeight:"300px",overflowY:"auto",backgroundColor:"rgba(45, 45, 45, 0.9)",zIndex:9999,borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",transform:"translateZ(0)","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.4)"}},children:[v.jsxs(ye,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[v.jsx(fe,{variant:"h6",children:"Audio Controls"}),v.jsx(Oe,{size:"small",onClick:w,children:v.jsx(Ea,{fontSize:"small"})})]}),v.jsx(Ls,{}),v.jsxs(ye,{sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[v.jsx(Oe,{onClick:x,size:"small",children:a===0?v.jsx(ur,{fontSize:"small"}):v.jsx(cr,{fontSize:"small"})}),v.jsx(fe,{variant:"body2",sx:{minWidth:80},children:"Master Volume"}),v.jsx(hr,{size:"small",value:a,onChange:m,min:0,max:1,step:.01,sx:{ml:1}})]}),v.jsx(Lt,{sx:{my:2}}),v.jsx(fe,{variant:"subtitle1",gutterBottom:!0,children:"Active Tracks"}),e.length===0?v.jsx(fe,{variant:"body2",sx:{color:"text.secondary",fontStyle:"italic"},children:'No tracks currently playing. Use the "Add Track" button to play some music.'}):v.jsx(xt,{dense:!0,children:e.map(_=>v.jsxs(An.Fragment,{children:[v.jsxs(it,{sx:{gap:1,px:0},children:[v.jsx(Oe,{onClick:()=>n(_.id),size:"small",children:_.isMuted?v.jsx(ur,{fontSize:"small"}):v.jsx(cr,{fontSize:"small"})}),v.jsx(fe,{variant:"body2",sx:{flex:1,cursor:"pointer"},onClick:()=>y(_.id),children:_.name}),v.jsx(Oe,{size:"small",disabled:!0,sx:{opacity:_.loop?1:.3},children:_.loop?v.jsx(Aa,{fontSize:"small"}):v.jsx(Ia,{fontSize:"small"})}),v.jsx(Oe,{size:"small",onClick:()=>y(_.id),children:h[_.id]?v.jsx(za,{fontSize:"small"}):v.jsx(ja,{fontSize:"small"})}),v.jsx(Oe,{onClick:()=>t(_.id),size:"small",children:v.jsx(Ta,{fontSize:"small"})})]}),v.jsx(Da,{in:h[_.id],timeout:"auto",unmountOnExit:!0,children:v.jsxs(ye,{sx:{pl:4,pr:2,pb:1,display:"flex",alignItems:"center",gap:1},children:[v.jsx(fe,{variant:"caption",sx:{minWidth:60},children:"Volume"}),v.jsx(hr,{size:"small",value:_.volume,onChange:b(_.id),min:0,max:1,step:.01,sx:{ml:1}})]})})]},_.id))})]})};function Bs(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Fs=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ms=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ns={};function br(e,n){return(Ns.jsx?Ms:Fs).test(e)}const Us=/[ \t\n\f\r]/g;function $s(e){return typeof e=="object"?e.type==="text"?wr(e.value):!1:wr(e)}function wr(e){return e.replace(Us,"")===""}class wt{constructor(n,t,r){this.normal=t,this.property=n,r&&(this.space=r)}}wt.prototype.normal={};wt.prototype.property={};wt.prototype.space=void 0;function Si(e,n){const t={},r={};for(const a of e)Object.assign(t,a.property),Object.assign(r,a.normal);return new wt(t,r,n)}function hn(e){return e.toLowerCase()}class Re{constructor(n,t){this.attribute=t,this.property=n}}Re.prototype.attribute="";Re.prototype.booleanish=!1;Re.prototype.boolean=!1;Re.prototype.commaOrSpaceSeparated=!1;Re.prototype.commaSeparated=!1;Re.prototype.defined=!1;Re.prototype.mustUseProperty=!1;Re.prototype.number=!1;Re.prototype.overloadedBoolean=!1;Re.prototype.property="";Re.prototype.spaceSeparated=!1;Re.prototype.space=void 0;let Hs=0;const le=tt(),Ce=tt(),Ci=tt(),X=tt(),we=tt(),at=tt(),Be=tt();function tt(){return 2**++Hs}const fn=Object.freeze(Object.defineProperty({__proto__:null,boolean:le,booleanish:Ce,commaOrSpaceSeparated:Be,commaSeparated:at,number:X,overloadedBoolean:Ci,spaceSeparated:we},Symbol.toStringTag,{value:"Module"})),Xt=Object.keys(fn);class Nn extends Re{constructor(n,t,r,a){let i=-1;if(super(n,t),_r(this,"space",a),typeof r=="number")for(;++i<Xt.length;){const s=Xt[i];_r(this,Xt[i],(r&fn[s])===fn[s])}}}Nn.prototype.defined=!0;function _r(e,n,t){t&&(e[n]=t)}function ot(e){const n={},t={};for(const[r,a]of Object.entries(e.properties)){const i=new Nn(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),n[r]=i,t[hn(r)]=r,t[hn(i.attribute)]=r}return new wt(n,t,e.space)}const Ei=ot({properties:{ariaActiveDescendant:null,ariaAtomic:Ce,ariaAutoComplete:null,ariaBusy:Ce,ariaChecked:Ce,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:we,ariaCurrent:null,ariaDescribedBy:we,ariaDetails:null,ariaDisabled:Ce,ariaDropEffect:we,ariaErrorMessage:null,ariaExpanded:Ce,ariaFlowTo:we,ariaGrabbed:Ce,ariaHasPopup:null,ariaHidden:Ce,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:we,ariaLevel:X,ariaLive:null,ariaModal:Ce,ariaMultiLine:Ce,ariaMultiSelectable:Ce,ariaOrientation:null,ariaOwns:we,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:Ce,ariaReadOnly:Ce,ariaRelevant:null,ariaRequired:Ce,ariaRoleDescription:we,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:Ce,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Ai(e,n){return n in e?e[n]:n}function Ii(e,n){return Ai(e,n.toLowerCase())}const Vs=ot({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:at,acceptCharset:we,accessKey:we,action:null,allow:null,allowFullScreen:le,allowPaymentRequest:le,allowUserMedia:le,alt:null,as:null,async:le,autoCapitalize:null,autoComplete:we,autoFocus:le,autoPlay:le,blocking:we,capture:null,charSet:null,checked:le,cite:null,className:we,cols:X,colSpan:null,content:null,contentEditable:Ce,controls:le,controlsList:we,coords:X|at,crossOrigin:null,data:null,dateTime:null,decoding:null,default:le,defer:le,dir:null,dirName:null,disabled:le,download:Ci,draggable:Ce,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:le,formTarget:null,headers:we,height:X,hidden:le,high:X,href:null,hrefLang:null,htmlFor:we,httpEquiv:we,id:null,imageSizes:null,imageSrcSet:null,inert:le,inputMode:null,integrity:null,is:null,isMap:le,itemId:null,itemProp:we,itemRef:we,itemScope:le,itemType:we,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:le,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:le,muted:le,name:null,nonce:null,noModule:le,noValidate:le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:le,optimum:X,pattern:null,ping:we,placeholder:null,playsInline:le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:le,referrerPolicy:null,rel:we,required:le,reversed:le,rows:X,rowSpan:X,sandbox:we,scope:null,scoped:le,seamless:le,selected:le,shadowRootClonable:le,shadowRootDelegatesFocus:le,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:Ce,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:le,useMap:null,value:Ce,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:we,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:le,declare:le,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:le,noHref:le,noShade:le,noWrap:le,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:Ce,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:le,disableRemotePlayback:le,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:Ii}),Ws=ot({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Be,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:we,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:le,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:at,g2:at,glyphName:at,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:Be,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:we,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Be,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Be,rev:Be,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Be,requiredFeatures:Be,requiredFonts:Be,requiredFormats:Be,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:Be,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Be,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Be,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ai}),zi=ot({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),ji=ot({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ii}),Ti=ot({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),Zs={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qs=/[A-Z]/g,kr=/-[a-z]/g,Gs=/^data[-\w.:]+$/i;function Ys(e,n){const t=hn(n);let r=n,a=Re;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Gs.test(n)){if(n.charAt(4)==="-"){const i=n.slice(5).replace(kr,Ks);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=n.slice(4);if(!kr.test(i)){let s=i.replace(qs,Xs);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}a=Nn}return new a(r,n)}function Xs(e){return"-"+e.toLowerCase()}function Ks(e){return e.charAt(1).toUpperCase()}const Js=Si([Ei,Vs,zi,ji,Ti],"html"),Un=Si([Ei,Ws,zi,ji,Ti],"svg");function Qs(e){return e.join(" ").trim()}var $n={},vr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,eo=/\n/g,to=/^\s*/,no=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ro=/^:\s*/,io=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ao=/^[;\s]*/,so=/^\s+|\s+$/g,oo=`
`,Sr="/",Cr="*",et="",lo="comment",uo="declaration",co=function(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var t=1,r=1;function a(x){var m=x.match(eo);m&&(t+=m.length);var b=x.lastIndexOf(oo);r=~b?x.length-b:r+x.length}function i(){var x={line:t,column:r};return function(m){return m.position=new s(x),c(),m}}function s(x){this.start=x,this.end={line:t,column:r},this.source=n.source}s.prototype.content=e;function o(x){var m=new Error(n.source+":"+t+":"+r+": "+x);if(m.reason=x,m.filename=n.source,m.line=t,m.column=r,m.source=e,!n.silent)throw m}function l(x){var m=x.exec(e);if(m){var b=m[0];return a(b),e=e.slice(b.length),m}}function c(){l(to)}function h(x){var m;for(x=x||[];m=f();)m!==!1&&x.push(m);return x}function f(){var x=i();if(!(Sr!=e.charAt(0)||Cr!=e.charAt(1))){for(var m=2;et!=e.charAt(m)&&(Cr!=e.charAt(m)||Sr!=e.charAt(m+1));)++m;if(m+=2,et===e.charAt(m-1))return o("End of comment missing");var b=e.slice(2,m-2);return r+=2,a(b),e=e.slice(m),r+=2,x({type:lo,comment:b})}}function p(){var x=i(),m=l(no);if(m){if(f(),!l(ro))return o("property missing ':'");var b=l(io),y=x({type:uo,property:Er(m[0].replace(vr,et)),value:b?Er(b[0].replace(vr,et)):et});return l(ao),y}}function u(){var x=[];h(x);for(var m;m=p();)m!==!1&&(x.push(m),h(x));return x}return c(),u()};function Er(e){return e?e.replace(so,et):et}var ho=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($n,"__esModule",{value:!0});$n.default=po;var fo=ho(co);function po(e,n){var t=null;if(!e||typeof e!="string")return t;var r=(0,fo.default)(e),a=typeof n=="function";return r.forEach(function(i){if(i.type==="declaration"){var s=i.property,o=i.value;a?n(s,o,i):o&&(t=t||{},t[s]=o)}}),t}var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.camelCase=void 0;var mo=/^--[a-zA-Z0-9_-]+$/,go=/-([a-z])/g,yo=/^[^-]+$/,xo=/^-(webkit|moz|ms|o|khtml)-/,bo=/^-(ms)-/,wo=function(e){return!e||yo.test(e)||mo.test(e)},_o=function(e,n){return n.toUpperCase()},Ar=function(e,n){return"".concat(n,"-")},ko=function(e,n){return n===void 0&&(n={}),wo(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(bo,Ar):e=e.replace(xo,Ar),e.replace(go,_o))};Bt.camelCase=ko;var vo=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},So=vo($n),Co=Bt;function dn(e,n){var t={};return!e||typeof e!="string"||(0,So.default)(e,function(r,a){r&&a&&(t[(0,Co.camelCase)(r,n)]=a)}),t}dn.default=dn;var Eo=dn;const Ao=En(Eo),Di=Oi("end"),Hn=Oi("start");function Oi(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Io(e){const n=Hn(e),t=Di(e);if(n&&t)return{start:n,end:t}}function mt(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ir(e.position):"start"in e||"end"in e?Ir(e):"line"in e||"column"in e?pn(e):""}function pn(e){return zr(e&&e.line)+":"+zr(e&&e.column)}function Ir(e){return pn(e&&e.start)+"-"+pn(e&&e.end)}function zr(e){return e&&typeof e=="number"?e:1}class Ie extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let a="",i={},s=!1;if(t&&("line"in t&&"column"in t?i={place:t}:"start"in t&&"end"in t?i={place:t}:"type"in t?i={ancestors:[t],place:t.position}:i={...t}),typeof n=="string"?a=n:!i.cause&&n&&(s=!0,a=n.message,i.cause=n),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=o?o.line:void 0,this.name=mt(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ie.prototype.file="";Ie.prototype.name="";Ie.prototype.reason="";Ie.prototype.message="";Ie.prototype.stack="";Ie.prototype.column=void 0;Ie.prototype.line=void 0;Ie.prototype.ancestors=void 0;Ie.prototype.cause=void 0;Ie.prototype.fatal=void 0;Ie.prototype.place=void 0;Ie.prototype.ruleId=void 0;Ie.prototype.source=void 0;const Vn={}.hasOwnProperty,zo=new Map,jo=/[A-Z]/g,To=new Set(["table","tbody","thead","tfoot","tr"]),Do=new Set(["td","th"]),Pi="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Oo(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=n.filePath||void 0;let r;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Uo(t,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=No(t,n.jsx,n.jsxs)}const a={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:r,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?Un:Js,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},i=Ri(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function Ri(e,n,t){if(n.type==="element")return Po(e,n,t);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return Ro(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return Bo(e,n,t);if(n.type==="mdxjsEsm")return Lo(e,n);if(n.type==="root")return Fo(e,n,t);if(n.type==="text")return Mo(e,n)}function Po(e,n,t){const r=e.schema;let a=r;n.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Un,e.schema=a),e.ancestors.push(n);const i=Bi(e,n.tagName,!1),s=$o(e,n);let o=Zn(e,n);return To.has(n.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!$s(l):!0})),Li(e,s,i,n),Wn(s,o),e.ancestors.pop(),e.schema=r,e.create(n,i,s,t)}function Ro(e,n){if(n.data&&n.data.estree&&e.evaluater){const r=n.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}bt(e,n.position)}function Lo(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);bt(e,n.position)}function Bo(e,n,t){const r=e.schema;let a=r;n.name==="svg"&&r.space==="html"&&(a=Un,e.schema=a),e.ancestors.push(n);const i=n.name===null?e.Fragment:Bi(e,n.name,!0),s=Ho(e,n),o=Zn(e,n);return Li(e,s,i,n),Wn(s,o),e.ancestors.pop(),e.schema=r,e.create(n,i,s,t)}function Fo(e,n,t){const r={};return Wn(r,Zn(e,n)),e.create(n,e.Fragment,r,t)}function Mo(e,n){return n.value}function Li(e,n,t,r){typeof t!="string"&&t!==e.Fragment&&e.passNode&&(n.node=r)}function Wn(e,n){if(n.length>0){const t=n.length>1?n:n[0];t&&(e.children=t)}}function No(e,n,t){return r;function r(a,i,s,o){const c=Array.isArray(s.children)?t:n;return o?c(i,s,o):c(i,s)}}function Uo(e,n){return t;function t(r,a,i,s){const o=Array.isArray(i.children),l=Hn(r);return n(a,i,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function $o(e,n){const t={};let r,a;for(a in n.properties)if(a!=="children"&&Vn.call(n.properties,a)){const i=Vo(e,a,n.properties[a]);if(i){const[s,o]=i;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Do.has(n.tagName)?r=o:t[s]=o}}if(r){const i=t.style||(t.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function Ho(e,n){const t={};for(const r of n.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const s=i.expression;s.type;const o=s.properties[0];o.type,Object.assign(t,e.evaluater.evaluateExpression(o.argument))}else bt(e,n.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else bt(e,n.position);else i=r.value===null?!0:r.value;t[a]=i}return t}function Zn(e,n){const t=[];let r=-1;const a=e.passKeys?new Map:zo;for(;++r<n.children.length;){const i=n.children[r];let s;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;s=l+"-"+c,a.set(l,c+1)}}const o=Ri(e,i,s);o!==void 0&&t.push(o)}return t}function Vo(e,n,t){const r=Ys(e.schema,n);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?Bs(t):Qs(t)),r.property==="style"){let a=typeof t=="object"?t:Wo(e,String(t));return e.stylePropertyNameCase==="css"&&(a=Zo(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Zs[r.property]||r.property:r.attribute,t]}}function Wo(e,n){try{return Ao(n,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const r=t,a=new Ie("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Pi+"#cannot-parse-style-attribute",a}}function Bi(e,n,t){let r;if(!t)r={type:"Literal",value:n};else if(n.includes(".")){const a=n.split(".");let i=-1,s;for(;++i<a.length;){const o=br(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=s}else r=br(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(r.type==="Literal"){const a=r.value;return Vn.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);bt(e)}function bt(e,n){const t=new Ie("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=Pi+"#cannot-handle-mdx-estrees-without-createevaluater",t}function Zo(e){const n={};let t;for(t in e)Vn.call(e,t)&&(n[qo(t)]=e[t]);return n}function qo(e){let n=e.replace(jo,Go);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function Go(e){return"-"+e.toLowerCase()}const Kt={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Yo={};function Xo(e,n){const t=Yo,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,a=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Fi(e,r,a)}function Fi(e,n,t){if(Ko(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jr(e.children,n,t)}return Array.isArray(e)?jr(e,n,t):""}function jr(e,n,t){const r=[];let a=-1;for(;++a<e.length;)r[a]=Fi(e[a],n,t);return r.join("")}function Ko(e){return!!(e&&typeof e=="object")}const Tr=document.createElement("i");function qn(e){const n="&"+e+";";Tr.innerHTML=n;const t=Tr.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}function Ze(e,n,t,r){const a=e.length;let i=0,s;if(n<0?n=-n>a?0:a+n:n=n>a?a:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);i<r.length;)s=r.slice(i,i+1e4),s.unshift(n,0),e.splice(...s),i+=1e4,n+=1e4}function Me(e,n){return e.length>0?(Ze(e,e.length,0,n),e):n}const Dr={}.hasOwnProperty;function Jo(e){const n={};let t=-1;for(;++t<e.length;)Qo(n,e[t]);return n}function Qo(e,n){let t;for(t in n){const a=(Dr.call(e,t)?e[t]:void 0)||(e[t]={}),i=n[t];let s;if(i)for(s in i){Dr.call(a,s)||(a[s]=[]);const o=i[s];el(a[s],Array.isArray(o)?o:o?[o]:[])}}}function el(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Ze(e,0,0,r)}function Mi(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}function st(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const We=Qe(/[A-Za-z]/),Fe=Qe(/[\dA-Za-z]/),tl=Qe(/[#-'*+\--9=?A-Z^-~]/);function mn(e){return e!==null&&(e<32||e===127)}const gn=Qe(/\d/),nl=Qe(/[\dA-Fa-f]/),rl=Qe(/[!-/:-@[-`{-~]/);function se(e){return e!==null&&e<-2}function Pe(e){return e!==null&&(e<0||e===32)}function ge(e){return e===-2||e===-1||e===32}const il=Qe(new RegExp("\\p{P}|\\p{S}","u")),al=Qe(/\s/);function Qe(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function lt(e){const n=[];let t=-1,r=0,a=0;for(;++t<e.length;){const i=e.charCodeAt(t);let s="";if(i===37&&Fe(e.charCodeAt(t+1))&&Fe(e.charCodeAt(t+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(t+1);i<56320&&o>56319&&o<57344?(s=String.fromCharCode(i,o),a=1):s="�"}else s=String.fromCharCode(i);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+a+1,s=""),a&&(t+=a,a=0)}return n.join("")+e.slice(r)}function _e(e,n,t,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(l){return ge(l)?(e.enter(t),o(l)):n(l)}function o(l){return ge(l)&&i++<a?(e.consume(l),o):(e.exit(t),n(l))}}const sl={tokenize:ol};function ol(e){const n=e.attempt(this.parser.constructs.contentInitial,r,a);let t;return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),_e(e,n,"linePrefix")}function a(o){return e.enter("paragraph"),i(o)}function i(o){const l=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return se(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),s)}}const ll={tokenize:ul},Or={tokenize:cl};function ul(e){const n=this,t=[];let r=0,a,i,s;return o;function o(_){if(r<t.length){const z=t[r];return n.containerState=z[1],e.attempt(z[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,a&&w();const z=n.events.length;let D=z,I;for(;D--;)if(n.events[D][0]==="exit"&&n.events[D][1].type==="chunkFlow"){I=n.events[D][1].end;break}y(r);let B=z;for(;B<n.events.length;)n.events[B][1].end={...I},B++;return Ze(n.events,D+1,0,n.events.slice(z)),n.events.length=B,c(_)}return o(_)}function c(_){if(r===t.length){if(!a)return p(_);if(a.currentConstruct&&a.currentConstruct.concrete)return x(_);n.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Or,h,f)(_)}function h(_){return a&&w(),y(r),p(_)}function f(_){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(_)}function p(_){return n.containerState={},e.attempt(Or,u,x)(_)}function u(_){return r++,t.push([n.currentConstruct,n.containerState]),p(_)}function x(_){if(_===null){a&&w(),y(0),e.consume(_);return}return a=a||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),m(_)}function m(_){if(_===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(_);return}return se(_)?(e.consume(_),b(e.exit("chunkFlow")),r=0,n.interrupt=void 0,o):(e.consume(_),m)}function b(_,z){const D=n.sliceStream(_);if(z&&D.push(null),_.previous=i,i&&(i.next=_),i=_,a.defineSkip(_.start),a.write(D),n.parser.lazy[_.start.line]){let I=a.events.length;for(;I--;)if(a.events[I][1].start.offset<s&&(!a.events[I][1].end||a.events[I][1].end.offset>s))return;const B=n.events.length;let $=B,P,V;for(;$--;)if(n.events[$][0]==="exit"&&n.events[$][1].type==="chunkFlow"){if(P){V=n.events[$][1].end;break}P=!0}for(y(r),I=B;I<n.events.length;)n.events[I][1].end={...V},I++;Ze(n.events,$+1,0,n.events.slice(B)),n.events.length=I}}function y(_){let z=t.length;for(;z-- >_;){const D=t[z];n.containerState=D[1],D[0].exit.call(n,e)}t.length=_}function w(){a.write([null]),i=void 0,a=void 0,n.containerState._closeFlow=void 0}}function cl(e,n,t){return _e(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pr(e){if(e===null||Pe(e)||al(e))return 1;if(il(e))return 2}function Gn(e,n,t){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(n=i(n,t),r.push(i))}return n}const yn={name:"attention",resolveAll:hl,tokenize:fl};function hl(e,n){let t=-1,r,a,i,s,o,l,c,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[t][1].start};Rr(f,-l),Rr(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[t][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[t][1].start}},a={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[t][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Me(c,[["enter",e[r][1],n],["exit",e[r][1],n]])),c=Me(c,[["enter",a,n],["enter",s,n],["exit",s,n],["enter",i,n]]),c=Me(c,Gn(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),c=Me(c,[["exit",i,n],["enter",o,n],["exit",o,n],["exit",a,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,c=Me(c,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,Ze(e,r-1,t-r+3,c),t=r+c.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function fl(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Pr(r);let i;return s;function s(l){return i=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===i)return e.consume(l),o;const c=e.exit("attentionSequence"),h=Pr(l),f=!h||h===2&&a||t.includes(l),p=!a||a===2&&h||t.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(h||!f)),n(l)}}function Rr(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const dl={name:"autolink",tokenize:pl};function pl(e,n,t){let r=0;return a;function a(u){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(u),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(u){return We(u)?(e.consume(u),s):u===64?t(u):c(u)}function s(u){return u===43||u===45||u===46||Fe(u)?(r=1,o(u)):c(u)}function o(u){return u===58?(e.consume(u),r=0,l):(u===43||u===45||u===46||Fe(u))&&r++<32?(e.consume(u),o):(r=0,c(u))}function l(u){return u===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(u),e.exit("autolinkMarker"),e.exit("autolink"),n):u===null||u===32||u===60||mn(u)?t(u):(e.consume(u),l)}function c(u){return u===64?(e.consume(u),h):tl(u)?(e.consume(u),c):t(u)}function h(u){return Fe(u)?f(u):t(u)}function f(u){return u===46?(e.consume(u),r=0,h):u===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(u),e.exit("autolinkMarker"),e.exit("autolink"),n):p(u)}function p(u){if((u===45||Fe(u))&&r++<63){const x=u===45?p:f;return e.consume(u),x}return t(u)}}const Ft={partial:!0,tokenize:ml};function ml(e,n,t){return r;function r(i){return ge(i)?_e(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||se(i)?n(i):t(i)}}const Ni={continuation:{tokenize:yl},exit:xl,name:"blockQuote",tokenize:gl};function gl(e,n,t){const r=this;return a;function a(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return t(s)}function i(s){return ge(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function yl(e,n,t){const r=this;return a;function a(s){return ge(s)?_e(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(Ni,n,t)(s)}}function xl(e){e.exit("blockQuote")}const Ui={name:"characterEscape",tokenize:bl};function bl(e,n,t){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return rl(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(i)}}const $i={name:"characterReference",tokenize:wl};function wl(e,n,t){const r=this;let a=0,i,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,s=Fe,h(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=nl,h):(e.enter("characterReferenceValue"),i=7,s=gn,h(f))}function h(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return s===Fe&&!qn(r.sliceSerialize(p))?t(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(f)&&a++<i?(e.consume(f),h):t(f)}}const Lr={partial:!0,tokenize:kl},Br={concrete:!0,name:"codeFenced",tokenize:_l};function _l(e,n,t){const r=this,a={partial:!0,tokenize:D};let i=0,s=0,o;return l;function l(I){return c(I)}function c(I){const B=r.events[r.events.length-1];return i=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(I)}function h(I){return I===o?(s++,e.consume(I),h):s<3?t(I):(e.exit("codeFencedFenceSequence"),ge(I)?_e(e,f,"whitespace")(I):f(I))}function f(I){return I===null||se(I)?(e.exit("codeFencedFence"),r.interrupt?n(I):e.check(Lr,m,z)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(I))}function p(I){return I===null||se(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(I)):ge(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_e(e,u,"whitespace")(I)):I===96&&I===o?t(I):(e.consume(I),p)}function u(I){return I===null||se(I)?f(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(I))}function x(I){return I===null||se(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(I)):I===96&&I===o?t(I):(e.consume(I),x)}function m(I){return e.attempt(a,z,b)(I)}function b(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),y}function y(I){return i>0&&ge(I)?_e(e,w,"linePrefix",i+1)(I):w(I)}function w(I){return I===null||se(I)?e.check(Lr,m,z)(I):(e.enter("codeFlowValue"),_(I))}function _(I){return I===null||se(I)?(e.exit("codeFlowValue"),w(I)):(e.consume(I),_)}function z(I){return e.exit("codeFenced"),n(I)}function D(I,B,$){let P=0;return V;function V(N){return I.enter("lineEnding"),I.consume(N),I.exit("lineEnding"),G}function G(N){return I.enter("codeFencedFence"),ge(N)?_e(I,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):C(N)}function C(N){return N===o?(I.enter("codeFencedFenceSequence"),M(N)):$(N)}function M(N){return N===o?(P++,I.consume(N),M):P>=s?(I.exit("codeFencedFenceSequence"),ge(N)?_e(I,g,"whitespace")(N):g(N)):$(N)}function g(N){return N===null||se(N)?(I.exit("codeFencedFence"),B(N)):$(N)}}}function kl(e,n,t){const r=this;return a;function a(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Jt={name:"codeIndented",tokenize:Sl},vl={partial:!0,tokenize:Cl};function Sl(e,n,t){const r=this;return a;function a(c){return e.enter("codeIndented"),_e(e,i,"linePrefix",5)(c)}function i(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(c):t(c)}function s(c){return c===null?l(c):se(c)?e.attempt(vl,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||se(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),n(c)}}function Cl(e,n,t){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?t(s):se(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):_e(e,i,"linePrefix",5)(s)}function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?n(s):se(s)?a(s):t(s)}}const El={name:"codeText",previous:Il,resolve:Al,tokenize:zl};function Al(e){let n=e.length-4,t=3,r,a;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)a===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(a=r):(r===n||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),n-=r-a-2,r=a+2),a=void 0);return e}function Il(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zl(e,n,t){let r=0,a,i;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?t(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,h(f)):se(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||se(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function h(f){return f===96?(e.consume(f),a++,h):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(f)):(i.type="codeTextData",c(f))}}class jl{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(n,r):n>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(n,t,r){const a=t||0;this.setCursor(Math.trunc(n));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&ft(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),ft(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),ft(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const t=this.left.splice(n,Number.POSITIVE_INFINITY);ft(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);ft(this.left,t.reverse())}}}function ft(e,n){let t=0;if(n.length<1e4)e.push(...n);else for(;t<n.length;)e.push(...n.slice(t,t+1e4)),t+=1e4}function Hi(e){const n={};let t=-1,r,a,i,s,o,l,c;const h=new jl(e);for(;++t<h.length;){for(;t in n;)t=n[t];if(r=h.get(t),t&&r[1].type==="chunkFlow"&&h.get(t-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Tl(h,t)),t=n[t],c=!0);else if(r[1]._container){for(i=t,a=void 0;i--;)if(s=h.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;a&&(r[1].end={...h.get(a)[1].start},o=h.slice(a,t),o.unshift(r),h.splice(a,t-a+1,o))}}return Ze(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function Tl(e,n){const t=e.get(n)[1],r=e.get(n)[2];let a=n-1;const i=[];let s=t._tokenizer;s||(s=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let h,f,p=-1,u=t,x=0,m=0;const b=[m];for(;u;){for(;e.get(++a)[1]!==u;);i.push(a),u._tokenizer||(h=r.sliceStream(u),u.next||h.push(null),f&&s.defineSkip(u.start),u._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),u._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=u,u=u.next}for(u=t;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(m=p+1,b.push(m),u._tokenizer=void 0,u.previous=void 0,u=u.next);for(s.events=[],u?(u._tokenizer=void 0,u.previous=void 0):b.pop(),p=b.length;p--;){const y=o.slice(b[p],b[p+1]),w=i.pop();l.push([w,w+y.length-1]),e.splice(w,2,y)}for(l.reverse(),p=-1;++p<l.length;)c[x+l[p][0]]=x+l[p][1],x+=l[p][1]-l[p][0]-1;return c}const Dl={resolve:Pl,tokenize:Rl},Ol={partial:!0,tokenize:Ll};function Pl(e){return Hi(e),e}function Rl(e,n){let t;return r;function r(o){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):se(o)?e.check(Ol,s,i)(o):(e.consume(o),a)}function i(o){return e.exit("chunkContent"),e.exit("content"),n(o)}function s(o){return e.consume(o),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,a}}function Ll(e,n,t){const r=this;return a;function a(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),_e(e,i,"linePrefix")}function i(s){if(s===null||se(s))return t(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function Vi(e,n,t,r,a,i,s,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),p):y===null||y===32||y===41||mn(y)?t(y):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(y))}function p(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),n):(e.enter(o),e.enter("chunkString",{contentType:"string"}),u(y))}function u(y){return y===62?(e.exit("chunkString"),e.exit(o),p(y)):y===null||y===60||se(y)?t(y):(e.consume(y),y===92?x:u)}function x(y){return y===60||y===62||y===92?(e.consume(y),u):u(y)}function m(y){return!h&&(y===null||y===41||Pe(y))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),n(y)):h<c&&y===40?(e.consume(y),h++,m):y===41?(e.consume(y),h--,m):y===null||y===32||y===40||mn(y)?t(y):(e.consume(y),y===92?b:m)}function b(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function Wi(e,n,t,r,a,i){const s=this;let o=0,l;return c;function c(u){return e.enter(r),e.enter(a),e.consume(u),e.exit(a),e.enter(i),h}function h(u){return o>999||u===null||u===91||u===93&&!l||u===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?t(u):u===93?(e.exit(i),e.enter(a),e.consume(u),e.exit(a),e.exit(r),n):se(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(u))}function f(u){return u===null||u===91||u===93||se(u)||o++>999?(e.exit("chunkString"),h(u)):(e.consume(u),l||(l=!ge(u)),u===92?p:f)}function p(u){return u===91||u===92||u===93?(e.consume(u),o++,f):f(u)}}function Zi(e,n,t,r,a,i){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),s=p===40?41:p,l):t(p)}function l(p){return p===s?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),n):(e.enter(i),c(p))}function c(p){return p===s?(e.exit(i),l(s)):p===null?t(p):se(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),_e(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===s||p===null||se(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:h)}function f(p){return p===s||p===92?(e.consume(p),h):h(p)}}function gt(e,n){let t;return r;function r(a){return se(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t=!0,r):ge(a)?_e(e,r,t?"linePrefix":"lineSuffix")(a):n(a)}}const Bl={name:"definition",tokenize:Ml},Fl={partial:!0,tokenize:Nl};function Ml(e,n,t){const r=this;let a;return i;function i(u){return e.enter("definition"),s(u)}function s(u){return Wi.call(r,e,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return a=st(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),l):t(u)}function l(u){return Pe(u)?gt(e,c)(u):c(u)}function c(u){return Vi(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(u)}function h(u){return e.attempt(Fl,f,f)(u)}function f(u){return ge(u)?_e(e,p,"whitespace")(u):p(u)}function p(u){return u===null||se(u)?(e.exit("definition"),r.parser.defined.push(a),n(u)):t(u)}}function Nl(e,n,t){return r;function r(o){return Pe(o)?gt(e,a)(o):t(o)}function a(o){return Zi(e,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return ge(o)?_e(e,s,"whitespace")(o):s(o)}function s(o){return o===null||se(o)?n(o):t(o)}}const Ul={name:"hardBreakEscape",tokenize:$l};function $l(e,n,t){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return se(i)?(e.exit("hardBreakEscape"),n(i)):t(i)}}const Hl={name:"headingAtx",resolve:Vl,tokenize:Wl};function Vl(e,n){let t=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},i={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Ze(e,r,t-r+1,[["enter",a,n],["enter",i,n],["exit",i,n],["exit",a,n]])),e}function Wl(e,n,t){let r=0;return a;function a(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(e.consume(h),s):h===null||Pe(h)?(e.exit("atxHeadingSequence"),o(h)):t(h)}function o(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||se(h)?(e.exit("atxHeading"),n(h)):ge(h)?_e(e,o,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||Pe(h)?(e.exit("atxHeadingText"),o(h)):(e.consume(h),c)}}const Zl=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Fr=["pre","script","style","textarea"],ql={concrete:!0,name:"htmlFlow",resolveTo:Xl,tokenize:Kl},Gl={partial:!0,tokenize:Ql},Yl={partial:!0,tokenize:Jl};function Xl(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Kl(e,n,t){const r=this;let a,i,s,o,l;return c;function c(E){return h(E)}function h(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),f}function f(E){return E===33?(e.consume(E),p):E===47?(e.consume(E),i=!0,m):E===63?(e.consume(E),a=3,r.interrupt?n:A):We(E)?(e.consume(E),s=String.fromCharCode(E),b):t(E)}function p(E){return E===45?(e.consume(E),a=2,u):E===91?(e.consume(E),a=5,o=0,x):We(E)?(e.consume(E),a=4,r.interrupt?n:A):t(E)}function u(E){return E===45?(e.consume(E),r.interrupt?n:A):t(E)}function x(E){const ee="CDATA[";return E===ee.charCodeAt(o++)?(e.consume(E),o===ee.length?r.interrupt?n:C:x):t(E)}function m(E){return We(E)?(e.consume(E),s=String.fromCharCode(E),b):t(E)}function b(E){if(E===null||E===47||E===62||Pe(E)){const ee=E===47,J=s.toLowerCase();return!ee&&!i&&Fr.includes(J)?(a=1,r.interrupt?n(E):C(E)):Zl.includes(s.toLowerCase())?(a=6,ee?(e.consume(E),y):r.interrupt?n(E):C(E)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(E):i?w(E):_(E))}return E===45||Fe(E)?(e.consume(E),s+=String.fromCharCode(E),b):t(E)}function y(E){return E===62?(e.consume(E),r.interrupt?n:C):t(E)}function w(E){return ge(E)?(e.consume(E),w):V(E)}function _(E){return E===47?(e.consume(E),V):E===58||E===95||We(E)?(e.consume(E),z):ge(E)?(e.consume(E),_):V(E)}function z(E){return E===45||E===46||E===58||E===95||Fe(E)?(e.consume(E),z):D(E)}function D(E){return E===61?(e.consume(E),I):ge(E)?(e.consume(E),D):_(E)}function I(E){return E===null||E===60||E===61||E===62||E===96?t(E):E===34||E===39?(e.consume(E),l=E,B):ge(E)?(e.consume(E),I):$(E)}function B(E){return E===l?(e.consume(E),l=null,P):E===null||se(E)?t(E):(e.consume(E),B)}function $(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Pe(E)?D(E):(e.consume(E),$)}function P(E){return E===47||E===62||ge(E)?_(E):t(E)}function V(E){return E===62?(e.consume(E),G):t(E)}function G(E){return E===null||se(E)?C(E):ge(E)?(e.consume(E),G):t(E)}function C(E){return E===45&&a===2?(e.consume(E),re):E===60&&a===1?(e.consume(E),H):E===62&&a===4?(e.consume(E),F):E===63&&a===3?(e.consume(E),A):E===93&&a===5?(e.consume(E),Y):se(E)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Gl,R,M)(E)):E===null||se(E)?(e.exit("htmlFlowData"),M(E)):(e.consume(E),C)}function M(E){return e.check(Yl,g,R)(E)}function g(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),N}function N(E){return E===null||se(E)?M(E):(e.enter("htmlFlowData"),C(E))}function re(E){return E===45?(e.consume(E),A):C(E)}function H(E){return E===47?(e.consume(E),s="",ie):C(E)}function ie(E){if(E===62){const ee=s.toLowerCase();return Fr.includes(ee)?(e.consume(E),F):C(E)}return We(E)&&s.length<8?(e.consume(E),s+=String.fromCharCode(E),ie):C(E)}function Y(E){return E===93?(e.consume(E),A):C(E)}function A(E){return E===62?(e.consume(E),F):E===45&&a===2?(e.consume(E),A):C(E)}function F(E){return E===null||se(E)?(e.exit("htmlFlowData"),R(E)):(e.consume(E),F)}function R(E){return e.exit("htmlFlow"),n(E)}}function Jl(e,n,t){const r=this;return a;function a(s){return se(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):t(s)}function i(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function Ql(e,n,t){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ft,n,t)}}const eu={name:"htmlText",tokenize:tu};function tu(e,n,t){const r=this;let a,i,s;return o;function o(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),c):A===47?(e.consume(A),D):A===63?(e.consume(A),_):We(A)?(e.consume(A),$):t(A)}function c(A){return A===45?(e.consume(A),h):A===91?(e.consume(A),i=0,x):We(A)?(e.consume(A),w):t(A)}function h(A){return A===45?(e.consume(A),u):t(A)}function f(A){return A===null?t(A):A===45?(e.consume(A),p):se(A)?(s=f,H(A)):(e.consume(A),f)}function p(A){return A===45?(e.consume(A),u):f(A)}function u(A){return A===62?re(A):A===45?p(A):f(A)}function x(A){const F="CDATA[";return A===F.charCodeAt(i++)?(e.consume(A),i===F.length?m:x):t(A)}function m(A){return A===null?t(A):A===93?(e.consume(A),b):se(A)?(s=m,H(A)):(e.consume(A),m)}function b(A){return A===93?(e.consume(A),y):m(A)}function y(A){return A===62?re(A):A===93?(e.consume(A),y):m(A)}function w(A){return A===null||A===62?re(A):se(A)?(s=w,H(A)):(e.consume(A),w)}function _(A){return A===null?t(A):A===63?(e.consume(A),z):se(A)?(s=_,H(A)):(e.consume(A),_)}function z(A){return A===62?re(A):_(A)}function D(A){return We(A)?(e.consume(A),I):t(A)}function I(A){return A===45||Fe(A)?(e.consume(A),I):B(A)}function B(A){return se(A)?(s=B,H(A)):ge(A)?(e.consume(A),B):re(A)}function $(A){return A===45||Fe(A)?(e.consume(A),$):A===47||A===62||Pe(A)?P(A):t(A)}function P(A){return A===47?(e.consume(A),re):A===58||A===95||We(A)?(e.consume(A),V):se(A)?(s=P,H(A)):ge(A)?(e.consume(A),P):re(A)}function V(A){return A===45||A===46||A===58||A===95||Fe(A)?(e.consume(A),V):G(A)}function G(A){return A===61?(e.consume(A),C):se(A)?(s=G,H(A)):ge(A)?(e.consume(A),G):P(A)}function C(A){return A===null||A===60||A===61||A===62||A===96?t(A):A===34||A===39?(e.consume(A),a=A,M):se(A)?(s=C,H(A)):ge(A)?(e.consume(A),C):(e.consume(A),g)}function M(A){return A===a?(e.consume(A),a=void 0,N):A===null?t(A):se(A)?(s=M,H(A)):(e.consume(A),M)}function g(A){return A===null||A===34||A===39||A===60||A===61||A===96?t(A):A===47||A===62||Pe(A)?P(A):(e.consume(A),g)}function N(A){return A===47||A===62||Pe(A)?P(A):t(A)}function re(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),n):t(A)}function H(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),ie}function ie(A){return ge(A)?_e(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):Y(A)}function Y(A){return e.enter("htmlTextData"),s(A)}}const Yn={name:"labelEnd",resolveAll:au,resolveTo:su,tokenize:ou},nu={tokenize:lu},ru={tokenize:uu},iu={tokenize:cu};function au(e){let n=-1;const t=[];for(;++n<e.length;){const r=e[n][1];if(t.push(e[n]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",n+=a}}return e.length!==t.length&&Ze(e,0,e.length,t),e}function su(e,n){let t=e.length,r=0,a,i,s,o;for(;t--;)if(a=e[t][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[t][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=t,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(s=t);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},h={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,n],["enter",c,n]],o=Me(o,e.slice(i+1,i+r+3)),o=Me(o,[["enter",h,n]]),o=Me(o,Gn(n.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),n)),o=Me(o,[["exit",h,n],e[s-2],e[s-1],["exit",c,n]]),o=Me(o,e.slice(s+1)),o=Me(o,[["exit",l,n]]),Ze(e,i,e.length,o),e}function ou(e,n,t){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return o;function o(p){return i?i._inactive?f(p):(s=r.parser.defined.includes(st(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):t(p)}function l(p){return p===40?e.attempt(nu,h,s?h:f)(p):p===91?e.attempt(ru,h,s?c:f)(p):s?h(p):f(p)}function c(p){return e.attempt(iu,h,f)(p)}function h(p){return n(p)}function f(p){return i._balanced=!0,t(p)}}function lu(e,n,t){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Pe(f)?gt(e,i)(f):i(f)}function i(f){return f===41?h(f):Vi(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Pe(f)?gt(e,l)(f):h(f)}function o(f){return t(f)}function l(f){return f===34||f===39||f===40?Zi(e,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function c(f){return Pe(f)?gt(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),n):t(f)}}function uu(e,n,t){const r=this;return a;function a(o){return Wi.call(r,e,i,s,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(st(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(o):t(o)}function s(o){return t(o)}}function cu(e,n,t){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),n):t(i)}}const hu={name:"labelStartImage",resolveAll:Yn.resolveAll,tokenize:fu};function fu(e,n,t){const r=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):t(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):n(o)}}const du={name:"labelStartLink",resolveAll:Yn.resolveAll,tokenize:pu};function pu(e,n,t){const r=this;return a;function a(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Qt={name:"lineEnding",tokenize:mu};function mu(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),_e(e,n,"linePrefix")}}const jt={name:"thematicBreak",tokenize:gu};function gu(e,n,t){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),s(c)}function s(c){return a=c,o(c)}function o(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||se(c))?(e.exit("thematicBreak"),n(c)):t(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),ge(c)?_e(e,o,"whitespace")(c):o(c))}}const Te={continuation:{tokenize:wu},exit:ku,name:"list",tokenize:bu},yu={partial:!0,tokenize:vu},xu={partial:!0,tokenize:_u};function bu(e,n,t){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return o;function o(u){const x=r.containerState.type||(u===42||u===43||u===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||u===r.containerState.marker:gn(u)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),u===42||u===45?e.check(jt,t,c)(u):c(u);if(!r.interrupt||u===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(u)}return t(u)}function l(u){return gn(u)&&++s<10?(e.consume(u),l):(!r.interrupt||s<2)&&(r.containerState.marker?u===r.containerState.marker:u===41||u===46)?(e.exit("listItemValue"),c(u)):t(u)}function c(u){return e.enter("listItemMarker"),e.consume(u),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||u,e.check(Ft,r.interrupt?t:h,e.attempt(yu,p,f))}function h(u){return r.containerState.initialBlankLine=!0,i++,p(u)}function f(u){return ge(u)?(e.enter("listItemPrefixWhitespace"),e.consume(u),e.exit("listItemPrefixWhitespace"),p):t(u)}function p(u){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(u)}}function wu(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Ft,a,i);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_e(e,n,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!ge(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(xu,n,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,_e(e,e.attempt(Te,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function _u(e,n,t){const r=this;return _e(e,a,"listItemIndent",r.containerState.size+1);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(i):t(i)}}function ku(e){e.exit(this.containerState.type)}function vu(e,n,t){const r=this;return _e(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=r.events[r.events.length-1];return!ge(i)&&s&&s[1].type==="listItemPrefixWhitespace"?n(i):t(i)}}const Mr={name:"setextUnderline",resolveTo:Su,tokenize:Cu};function Su(e,n){let t=e.length,r,a,i;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(a=t)}else e[t][1].type==="content"&&e.splice(t,1),!i&&e[t][1].type==="definition"&&(i=t);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",s,n]),e.splice(i+1,0,["exit",e[r][1],n]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,n]),e}function Cu(e,n,t){const r=this;let a;return i;function i(c){let h=r.events.length,f;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){f=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,s(c)):t(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===a?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),ge(c)?_e(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||se(c)?(e.exit("setextHeadingLine"),n(c)):t(c)}}const Eu={tokenize:Au};function Au(e){const n=this,t=e.attempt(Ft,r,e.attempt(this.parser.constructs.flowInitial,a,_e(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Dl,a)),"linePrefix")));return t;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const Iu={resolveAll:Gi()},zu=qi("string"),ju=qi("text");function qi(e){return{resolveAll:Gi(e==="text"?Tu:void 0),tokenize:n};function n(t){const r=this,a=this.parser.constructs[e],i=t.attempt(a,s,o);return s;function s(h){return c(h)?i(h):o(h)}function o(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),l}function l(h){return c(h)?(t.exit("data"),i(h)):(t.consume(h),l)}function c(h){if(h===null)return!0;const f=a[h];let p=-1;if(f)for(;++p<f.length;){const u=f[p];if(!u.previous||u.previous.call(r,r.previous))return!0}return!1}}}function Gi(e){return n;function n(t,r){let a=-1,i;for(;++a<=t.length;)i===void 0?t[a]&&t[a][1].type==="data"&&(i=a,a++):(!t[a]||t[a][1].type!=="data")&&(a!==i+2&&(t[i][1].end=t[a-1][1].end,t.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(t,r):t}}function Tu(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],a=n.sliceStream(r);let i=a.length,s=-1,o=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){i++;break}}if(n._contentTypeTextTrailing&&t===e.length&&(o=0),o){const c={type:t===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(t,0,["enter",c,n],["exit",c,n]),t+=2)}t++}return e}const Du={42:Te,43:Te,45:Te,48:Te,49:Te,50:Te,51:Te,52:Te,53:Te,54:Te,55:Te,56:Te,57:Te,62:Ni},Ou={91:Bl},Pu={[-2]:Jt,[-1]:Jt,32:Jt},Ru={35:Hl,42:jt,45:[Mr,jt],60:ql,61:Mr,95:jt,96:Br,126:Br},Lu={38:$i,92:Ui},Bu={[-5]:Qt,[-4]:Qt,[-3]:Qt,33:hu,38:$i,42:yn,60:[dl,eu],91:du,92:[Ul,Ui],93:Yn,95:yn,96:El},Fu={null:[yn,Iu]},Mu={null:[42,95]},Nu={null:[]},Uu=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Mu,contentInitial:Ou,disable:Nu,document:Du,flow:Ru,flowInitial:Pu,insideSpan:Fu,string:Lu,text:Bu},Symbol.toStringTag,{value:"Module"}));function $u(e,n,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const a={},i=[];let s=[],o=[];const l={attempt:B(D),check:B(I),consume:w,enter:_,exit:z,interrupt:B(I,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:x,parser:e,previous:null,sliceSerialize:p,sliceStream:u,write:f};let h=n.tokenize.call(c,l);return n.resolveAll&&i.push(n),c;function f(G){return s=Me(s,G),b(),s[s.length-1]!==null?[]:($(n,0),c.events=Gn(i,c.events,c),c.events)}function p(G,C){return Vu(u(G),C)}function u(G){return Hu(s,G)}function x(){const{_bufferIndex:G,_index:C,line:M,column:g,offset:N}=r;return{_bufferIndex:G,_index:C,line:M,column:g,offset:N}}function m(G){a[G.line]=G.column,V()}function b(){let G;for(;r._index<s.length;){const C=s[r._index];if(typeof C=="string")for(G=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===G&&r._bufferIndex<C.length;)y(C.charCodeAt(r._bufferIndex));else y(C)}}function y(G){h=h(G)}function w(G){se(G)?(r.line++,r.column=1,r.offset+=G===-3?2:1,V()):G!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=G}function _(G,C){const M=C||{};return M.type=G,M.start=x(),c.events.push(["enter",M,c]),o.push(M),M}function z(G){const C=o.pop();return C.end=x(),c.events.push(["exit",C,c]),C}function D(G,C){$(G,C.from)}function I(G,C){C.restore()}function B(G,C){return M;function M(g,N,re){let H,ie,Y,A;return Array.isArray(g)?R(g):"tokenize"in g?R([g]):F(g);function F(ue){return ke;function ke(oe){const ce=oe!==null&&ue[oe],be=oe!==null&&ue.null,xe=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(be)?be:be?[be]:[]];return R(xe)(oe)}}function R(ue){return H=ue,ie=0,ue.length===0?re:E(ue[ie])}function E(ue){return ke;function ke(oe){return A=P(),Y=ue,ue.partial||(c.currentConstruct=ue),ue.name&&c.parser.constructs.disable.null.includes(ue.name)?J():ue.tokenize.call(C?Object.assign(Object.create(c),C):c,l,ee,J)(oe)}}function ee(ue){return G(Y,A),N}function J(ue){return A.restore(),++ie<H.length?E(H[ie]):re}}}function $(G,C){G.resolveAll&&!i.includes(G)&&i.push(G),G.resolve&&Ze(c.events,C,c.events.length-C,G.resolve(c.events.slice(C),c)),G.resolveTo&&(c.events=G.resolveTo(c.events,c))}function P(){const G=x(),C=c.previous,M=c.currentConstruct,g=c.events.length,N=Array.from(o);return{from:g,restore:re};function re(){r=G,c.previous=C,c.currentConstruct=M,c.events.length=g,o=N,V()}}function V(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Hu(e,n){const t=n.start._index,r=n.start._bufferIndex,a=n.end._index,i=n.end._bufferIndex;let s;if(t===a)s=[e[t].slice(r,i)];else{if(s=e.slice(t,a),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}i>0&&s.push(e[a].slice(0,i))}return s}function Vu(e,n){let t=-1;const r=[];let a;for(;++t<e.length;){const i=e[t];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,r.push(s)}return r.join("")}function Wu(e){const r={constructs:Jo([Uu,...(e||{}).extensions||[]]),content:a(sl),defined:[],document:a(ll),flow:a(Eu),lazy:{},string:a(zu),text:a(ju)};return r;function a(i){return s;function s(o){return $u(r,i,o)}}}function Zu(e){for(;!Hi(e););return e}const Nr=/[\0\t\n\r]/g;function qu(){let e=1,n="",t=!0,r;return a;function a(i,s,o){const l=[];let c,h,f,p,u;for(i=n+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),f=0,n="",t&&(i.charCodeAt(0)===65279&&f++,t=void 0);f<i.length;){if(Nr.lastIndex=f,c=Nr.exec(i),p=c&&c.index!==void 0?c.index:i.length,u=i.charCodeAt(p),!c){n=i.slice(f);break}if(u===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),u){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return o&&(r&&l.push(-5),n&&l.push(n),l.push(null)),l}}const Gu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yu(e){return e.replace(Gu,Xu)}function Xu(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const a=t.charCodeAt(1),i=a===120||a===88;return Mi(t.slice(i?2:1),i?16:10)}return qn(t)||e}const Yi={}.hasOwnProperty;function Ku(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Ju(t)(Zu(Wu(t).document().write(qu()(e,n,!0))))}function Ju(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(T),autolinkProtocol:P,autolinkEmail:P,atxHeading:i(U),blockQuote:i(be),characterEscape:P,characterReference:P,codeFenced:i(xe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(xe,s),codeText:i(je,s),codeTextData:P,data:P,codeFlowValue:P,definition:i(ze),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(d),hardBreakEscape:i(j),hardBreakTrailing:i(j),htmlFlow:i(S,s),htmlFlowData:P,htmlText:i(S,s),htmlTextData:P,image:i(k),label:s,link:i(T),listItem:i(q),listItemValue:p,listOrdered:i(W,f),listUnordered:i(W),paragraph:i(L),reference:E,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(U),strong:i(K),thematicBreak:i(Q)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:ce,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:ue,characterReference:ke,codeFenced:l(b),codeFencedFence:m,codeFencedFenceInfo:u,codeFencedFenceMeta:x,codeFlowValue:V,codeIndented:l(y),codeText:l(N),codeTextData:V,data:V,definition:l(),definitionDestinationString:z,definitionLabelString:w,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(M),htmlFlowData:V,htmlText:l(g),htmlTextData:V,image:l(H),label:Y,labelText:ie,lineEnding:G,link:l(re),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:A,resourceTitleString:F,resource:R,setextHeading:l($),setextHeadingLineSequence:B,setextHeadingText:I,strong:l(),thematicBreak:l()}};Xi(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(O){let Z={type:"root",children:[]};const te={stack:[Z],tokenStack:[],config:n,enter:o,exit:c,buffer:s,resume:h,data:t},ae=[];let de=-1;for(;++de<O.length;)if(O[de][1].type==="listOrdered"||O[de][1].type==="listUnordered")if(O[de][0]==="enter")ae.push(de);else{const Se=ae.pop();de=a(O,Se,de)}for(de=-1;++de<O.length;){const Se=n[O[de][0]];Yi.call(Se,O[de][1].type)&&Se[O[de][1].type].call(Object.assign({sliceSerialize:O[de][2].sliceSerialize},te),O[de][1])}if(te.tokenStack.length>0){const Se=te.tokenStack[te.tokenStack.length-1];(Se[1]||Ur).call(te,void 0,Se[0])}for(Z.position={start:Xe(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:Xe(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},de=-1;++de<n.transforms.length;)Z=n.transforms[de](Z)||Z;return Z}function a(O,Z,te){let ae=Z-1,de=-1,Se=!1,Le,pe,$e,qe;for(;++ae<=te;){const ve=O[ae];switch(ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ve[0]==="enter"?de++:de--,qe=void 0;break}case"lineEndingBlank":{ve[0]==="enter"&&(Le&&!qe&&!de&&!$e&&($e=ae),qe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qe=void 0}if(!de&&ve[0]==="enter"&&ve[1].type==="listItemPrefix"||de===-1&&ve[0]==="exit"&&(ve[1].type==="listUnordered"||ve[1].type==="listOrdered")){if(Le){let Ge=ae;for(pe=void 0;Ge--;){const Ne=O[Ge];if(Ne[1].type==="lineEnding"||Ne[1].type==="lineEndingBlank"){if(Ne[0]==="exit")continue;pe&&(O[pe][1].type="lineEndingBlank",Se=!0),Ne[1].type="lineEnding",pe=Ge}else if(!(Ne[1].type==="linePrefix"||Ne[1].type==="blockQuotePrefix"||Ne[1].type==="blockQuotePrefixWhitespace"||Ne[1].type==="blockQuoteMarker"||Ne[1].type==="listItemIndent"))break}$e&&(!pe||$e<pe)&&(Le._spread=!0),Le.end=Object.assign({},pe?O[pe][1].start:ve[1].end),O.splice(pe||ae,0,["exit",Le,ve[2]]),ae++,te++}if(ve[1].type==="listItemPrefix"){const Ge={type:"listItem",_spread:!1,start:Object.assign({},ve[1].start),end:void 0};Le=Ge,O.splice(ae,0,["enter",Ge,ve[2]]),ae++,te++,$e=void 0,qe=!0}}}return O[Z][1]._spread=Se,te}function i(O,Z){return te;function te(ae){o.call(this,O(ae),ae),Z&&Z.call(this,ae)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(O,Z,te){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([Z,te||void 0]),O.position={start:Xe(Z.start),end:void 0}}function l(O){return Z;function Z(te){O&&O.call(this,te),c.call(this,te)}}function c(O,Z){const te=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==O.type&&(Z?Z.call(this,O,ae[0]):(ae[1]||Ur).call(this,O,ae[0]));else throw new Error("Cannot close `"+O.type+"` ("+mt({start:O.start,end:O.end})+"): it’s not open");te.position.end=Xe(O.end)}function h(){return Xo(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(O){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function u(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=O}function x(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=O}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.value=O.replace(/(\r?\n|\r)$/g,"")}function w(O){const Z=this.resume(),te=this.stack[this.stack.length-1];te.label=Z,te.identifier=st(this.sliceSerialize(O)).toLowerCase()}function _(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.title=O}function z(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.url=O}function D(O){const Z=this.stack[this.stack.length-1];if(!Z.depth){const te=this.sliceSerialize(O).length;Z.depth=te}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function B(O){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function P(O){const te=this.stack[this.stack.length-1].children;let ae=te[te.length-1];(!ae||ae.type!=="text")&&(ae=ne(),ae.position={start:Xe(O.start),end:void 0},te.push(ae)),this.stack.push(ae)}function V(O){const Z=this.stack.pop();Z.value+=this.sliceSerialize(O),Z.position.end=Xe(O.end)}function G(O){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const te=Z.children[Z.children.length-1];te.position.end=Xe(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(Z.type)&&(P.call(this,O),V.call(this,O))}function C(){this.data.atHardBreak=!0}function M(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.value=O}function g(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.value=O}function N(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.value=O}function re(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=Z,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function H(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=Z,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function ie(O){const Z=this.sliceSerialize(O),te=this.stack[this.stack.length-2];te.label=Yu(Z),te.identifier=st(Z).toLowerCase()}function Y(){const O=this.stack[this.stack.length-1],Z=this.resume(),te=this.stack[this.stack.length-1];if(this.data.inReference=!0,te.type==="link"){const ae=O.children;te.children=ae}else te.alt=Z}function A(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.url=O}function F(){const O=this.resume(),Z=this.stack[this.stack.length-1];Z.title=O}function R(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function ee(O){const Z=this.resume(),te=this.stack[this.stack.length-1];te.label=Z,te.identifier=st(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function J(O){this.data.characterReferenceType=O.type}function ue(O){const Z=this.sliceSerialize(O),te=this.data.characterReferenceType;let ae;te?(ae=Mi(Z,te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=qn(Z);const de=this.stack[this.stack.length-1];de.value+=ae}function ke(O){const Z=this.stack.pop();Z.position.end=Xe(O.end)}function oe(O){V.call(this,O);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(O)}function ce(O){V.call(this,O);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(O)}function be(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function je(){return{type:"inlineCode",value:""}}function ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function d(){return{type:"emphasis",children:[]}}function U(){return{type:"heading",depth:0,children:[]}}function j(){return{type:"break"}}function S(){return{type:"html",value:""}}function k(){return{type:"image",title:null,url:"",alt:null}}function T(){return{type:"link",title:null,url:"",children:[]}}function W(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function q(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function L(){return{type:"paragraph",children:[]}}function K(){return{type:"strong",children:[]}}function ne(){return{type:"text",value:""}}function Q(){return{type:"thematicBreak"}}}function Xe(e){return{line:e.line,column:e.column,offset:e.offset}}function Xi(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Xi(e,r):Qu(e,r)}}function Qu(e,n){let t;for(t in n)if(Yi.call(n,t))switch(t){case"canContainEols":{const r=n[t];r&&e[t].push(...r);break}case"transforms":{const r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{const r=n[t];r&&Object.assign(e[t],r);break}}}function Ur(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+mt({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+mt({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+mt({start:n.start,end:n.end})+") is still open")}function ec(e){const n=this;n.parser=t;function t(r){return Ku(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function tc(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function nc(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function rc(e,n){const t=n.value?n.value+`
`:"",r={};n.lang&&(r.className=["language-"+n.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function ic(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ac(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function sc(e,n){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(n.identifier).toUpperCase(),a=lt(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+a,id:t+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(n,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,c),e.applyData(n,c)}function oc(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function lc(e,n){if(e.options.allowDangerousHtml){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}}function Ki(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+r}];const a=e.all(n),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const s=a[a.length-1];return s&&s.type==="text"?s.value+=r:a.push({type:"text",value:r}),a}function uc(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return Ki(e,n);const a={src:lt(r.url||""),alt:n.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(n,i),e.applyData(n,i)}function cc(e,n){const t={src:lt(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function hc(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function fc(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return Ki(e,n);const a={href:lt(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function dc(e,n){const t={href:lt(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function pc(e,n,t){const r=e.all(n),a=t?mc(t):Ji(n),i={},s=[];if(typeof n.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(a||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?s.push(...h.children):s.push(h)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:s};return e.patch(n,c),e.applyData(n,c)}function mc(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=Ji(t[r])}return n}function Ji(e){const n=e.spread;return n??e.children.length>1}function gc(e,n){const t={},r=e.all(n);let a=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++a<r.length;){const s=r[a];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const i={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,i),e.applyData(n,i)}function yc(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function xc(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function bc(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function wc(e,n){const t=e.all(n),r=t.shift(),a=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),a.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},o=Hn(n.children[1]),l=Di(n.children[n.children.length-1]);o&&l&&(s.position={start:o,end:l}),a.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(n,i),e.applyData(n,i)}function _c(e,n,t){const r=t?t.children:void 0,i=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,o=s?s.length:n.children.length;let l=-1;const c=[];for(;++l<o;){const f=n.children[l],p={},u=s?s[l]:void 0;u&&(p.align=u);let x={type:"element",tagName:i,properties:p,children:[]};f&&(x.children=e.all(f),e.patch(f,x),x=e.applyData(f,x)),c.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(n,h),e.applyData(n,h)}function kc(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const $r=9,Hr=32;function vc(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),a=0;const i=[];for(;r;)i.push(Vr(n.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=t.exec(n);return i.push(Vr(n.slice(a),a>0,!1)),i.join("")}function Vr(e,n,t){let r=0,a=e.length;if(n){let i=e.codePointAt(r);for(;i===$r||i===Hr;)r++,i=e.codePointAt(r)}if(t){let i=e.codePointAt(a-1);for(;i===$r||i===Hr;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Sc(e,n){const t={type:"text",value:vc(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function Cc(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Ec={blockquote:tc,break:nc,code:rc,delete:ic,emphasis:ac,footnoteReference:sc,heading:oc,html:lc,imageReference:uc,image:cc,inlineCode:hc,linkReference:fc,link:dc,listItem:pc,list:gc,paragraph:yc,root:xc,strong:bc,table:wc,tableCell:kc,tableRow:_c,text:Sc,thematicBreak:Cc,toml:Ct,yaml:Ct,definition:Ct,footnoteDefinition:Ct};function Ct(){}const Qi=-1,Mt=0,yt=1,Pt=2,Xn=3,Kn=4,Jn=5,Qn=6,ea=7,ta=8,Wr=typeof self=="object"?self:globalThis,Ac=(e,n)=>{const t=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,s]=n[a];switch(i){case Mt:case Qi:return t(s,a);case yt:{const o=t([],a);for(const l of s)o.push(r(l));return o}case Pt:{const o=t({},a);for(const[l,c]of s)o[r(l)]=r(c);return o}case Xn:return t(new Date(s),a);case Kn:{const{source:o,flags:l}=s;return t(new RegExp(o,l),a)}case Jn:{const o=t(new Map,a);for(const[l,c]of s)o.set(r(l),r(c));return o}case Qn:{const o=t(new Set,a);for(const l of s)o.add(r(l));return o}case ea:{const{name:o,message:l}=s;return t(new Wr[o](l),a)}case ta:return t(BigInt(s),a);case"BigInt":return t(Object(BigInt(s)),a);case"ArrayBuffer":return t(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return t(new DataView(o),s)}}return t(new Wr[i](s),a)};return r},Zr=e=>Ac(new Map,e)(0),rt="",{toString:Ic}={},{keys:zc}=Object,dt=e=>{const n=typeof e;if(n!=="object"||!e)return[Mt,n];const t=Ic.call(e).slice(8,-1);switch(t){case"Array":return[yt,rt];case"Object":return[Pt,rt];case"Date":return[Xn,rt];case"RegExp":return[Kn,rt];case"Map":return[Jn,rt];case"Set":return[Qn,rt];case"DataView":return[yt,t]}return t.includes("Array")?[yt,t]:t.includes("Error")?[ea,t]:[Pt,t]},Et=([e,n])=>e===Mt&&(n==="function"||n==="symbol"),jc=(e,n,t,r)=>{const a=(s,o)=>{const l=r.push(s)-1;return t.set(o,l),l},i=s=>{if(t.has(s))return t.get(s);let[o,l]=dt(s);switch(o){case Mt:{let h=s;switch(l){case"bigint":o=ta,h=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return a([Qi],s)}return a([o,h],s)}case yt:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),a([l,[...p]],s)}const h=[],f=a([o,h],s);for(const p of s)h.push(i(p));return f}case Pt:{if(l)switch(l){case"BigInt":return a([l,s.toString()],s);case"Boolean":case"Number":case"String":return a([l,s.valueOf()],s)}if(n&&"toJSON"in s)return i(s.toJSON());const h=[],f=a([o,h],s);for(const p of zc(s))(e||!Et(dt(s[p])))&&h.push([i(p),i(s[p])]);return f}case Xn:return a([o,s.toISOString()],s);case Kn:{const{source:h,flags:f}=s;return a([o,{source:h,flags:f}],s)}case Jn:{const h=[],f=a([o,h],s);for(const[p,u]of s)(e||!(Et(dt(p))||Et(dt(u))))&&h.push([i(p),i(u)]);return f}case Qn:{const h=[],f=a([o,h],s);for(const p of s)(e||!Et(dt(p)))&&h.push(i(p));return f}}const{message:c}=s;return a([o,{name:l,message:c}],s)};return i},qr=(e,{json:n,lossy:t}={})=>{const r=[];return jc(!(n||t),!!n,new Map,r)(e),r},Rt=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?Zr(qr(e,n)):structuredClone(e):(e,n)=>Zr(qr(e,n));function Tc(e,n){const t=[{type:"text",value:"↩"}];return n>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),t}function Dc(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function Oc(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",t=e.options.footnoteBackContent||Tc,r=e.options.footnoteBackLabel||Dc,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const h=e.all(c),f=String(c.identifier).toUpperCase(),p=lt(f.toLowerCase());let u=0;const x=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++u<=m;){x.length>0&&x.push({type:"text",value:" "});let w=typeof t=="string"?t:t(l,u);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+p+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...x)}else h.push(...x);const y={type:"element",tagName:"li",properties:{id:n+"fn-"+p},children:e.wrap(h,!0)};e.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Rt(s),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const na=function(e){if(e==null)return Bc;if(typeof e=="function")return Nt(e);if(typeof e=="object")return Array.isArray(e)?Pc(e):Rc(e);if(typeof e=="string")return Lc(e);throw new Error("Expected function, string, or object as test")};function Pc(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=na(e[t]);return Nt(r);function r(...a){let i=-1;for(;++i<n.length;)if(n[i].apply(this,a))return!0;return!1}}function Rc(e){const n=e;return Nt(t);function t(r){const a=r;let i;for(i in e)if(a[i]!==n[i])return!1;return!0}}function Lc(e){return Nt(n);function n(t){return t&&t.type===e}}function Nt(e){return n;function n(t,r,a){return!!(Fc(t)&&e.call(this,t,typeof r=="number"?r:void 0,a||void 0))}}function Bc(){return!0}function Fc(e){return e!==null&&typeof e=="object"&&"type"in e}const ra=[],Mc=!0,Gr=!1,Nc="skip";function Uc(e,n,t,r){let a;typeof n=="function"&&typeof t!="function"?(r=t,t=n):a=n;const i=na(a),s=r?-1:1;o(e,void 0,[])();function o(l,c,h){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const u=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(u?"<"+u+">":""))+")"})}return p;function p(){let u=ra,x,m,b;if((!n||i(l,c,h[h.length-1]||void 0))&&(u=$c(t(l,h)),u[0]===Gr))return u;if("children"in l&&l.children){const y=l;if(y.children&&u[0]!==Nc)for(m=(r?y.children.length:-1)+s,b=h.concat(y);m>-1&&m<y.children.length;){const w=y.children[m];if(x=o(w,m,b)(),x[0]===Gr)return x;m=typeof x[1]=="number"?x[1]:m+s}}return u}}}function $c(e){return Array.isArray(e)?e:typeof e=="number"?[Mc,e]:e==null?ra:[e]}function ia(e,n,t,r){let a,i,s;typeof n=="function"?(i=void 0,s=n,a=t):(i=n,s=t,a=r),Uc(e,i,o,a);function o(l,c){const h=c[c.length-1],f=h?h.children.indexOf(l):void 0;return s(l,f,h)}}const xn={}.hasOwnProperty,Hc={};function Vc(e,n){const t=n||Hc,r=new Map,a=new Map,i=new Map,s={...Ec,...t.handlers},o={all:c,applyData:Zc,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:s,one:l,options:t,patch:Wc,wrap:Gc};return ia(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?r:a,p=String(h.identifier).toUpperCase();f.has(p)||f.set(p,h)}}),o;function l(h,f){const p=h.type,u=o.handlers[p];if(xn.call(o.handlers,p)&&u)return u(o,h,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in h){const{children:m,...b}=h,y=Rt(b);return y.children=o.all(h),y}return Rt(h)}return(o.options.unknownHandler||qc)(o,h,f)}function c(h){const f=[];if("children"in h){const p=h.children;let u=-1;for(;++u<p.length;){const x=o.one(p[u],h);if(x){if(u&&p[u-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=Yr(x.value)),!Array.isArray(x)&&x.type==="element")){const m=x.children[0];m&&m.type==="text"&&(m.value=Yr(m.value))}Array.isArray(x)?f.push(...x):f.push(x)}}}return f}}function Wc(e,n){e.position&&(n.position=Io(e))}function Zc(e,n){let t=n;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const s="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:s}}t.type==="element"&&i&&Object.assign(t.properties,Rt(i)),"children"in t&&t.children&&a!==null&&a!==void 0&&(t.children=a)}return t}function qc(e,n){const t=n.data||{},r="value"in n&&!(xn.call(t,"hProperties")||xn.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Gc(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function Yr(e){let n=0,t=e.charCodeAt(n);for(;t===9||t===32;)n++,t=e.charCodeAt(n);return e.slice(n)}function Xr(e,n){const t=Vc(e,n),r=t.one(e,void 0),a=Oc(t),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Yc(e,n){return e&&"run"in e?async function(t,r){const a=Xr(t,{file:r,...n});await e.run(a,r)}:function(t,r){return Xr(t,{file:r,...e||n})}}function Kr(e){if(e)throw e}var Tt=Object.prototype.hasOwnProperty,aa=Object.prototype.toString,Jr=Object.defineProperty,Qr=Object.getOwnPropertyDescriptor,ei=function(n){return typeof Array.isArray=="function"?Array.isArray(n):aa.call(n)==="[object Array]"},ti=function(n){if(!n||aa.call(n)!=="[object Object]")return!1;var t=Tt.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&Tt.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var a;for(a in n);return typeof a>"u"||Tt.call(n,a)},ni=function(n,t){Jr&&t.name==="__proto__"?Jr(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},ri=function(n,t){if(t==="__proto__")if(Tt.call(n,t)){if(Qr)return Qr(n,t).value}else return;return n[t]},Xc=function e(){var n,t,r,a,i,s,o=arguments[0],l=1,c=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(n=arguments[l],n!=null)for(t in n)r=ri(o,t),a=ri(n,t),o!==a&&(h&&a&&(ti(a)||(i=ei(a)))?(i?(i=!1,s=r&&ei(r)?r:[]):s=r&&ti(r)?r:{},ni(o,{name:t,newValue:e(h,s,a)})):typeof a<"u"&&ni(o,{name:t,newValue:a}));return o};const en=En(Xc);function bn(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kc(){const e=[],n={run:t,use:r};return n;function t(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...a);function o(l,...c){const h=e[++i];let f=-1;if(l){s(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,h?Jc(h,o)(...c):s(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),n}}function Jc(e,n){let t;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(a);try{l=e.apply(this,s)}catch(c){const h=c;if(o&&t)throw h;return a(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(s,...o){t||(t=!0,n(s,...o))}function i(s){a(null,s)}}const He={basename:Qc,dirname:eh,extname:th,join:nh,sep:"/"};function Qc(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');_t(e);let t=0,r=-1,a=e.length,i;if(n===void 0||n.length===0||n.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){t=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,o=n.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){t=a+1;break}}else s<0&&(i=!0,s=a+1),o>-1&&(e.codePointAt(a)===n.codePointAt(o--)?o<0&&(r=a):(o=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function eh(e){if(_t(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function th(e){_t(e);let n=e.length,t=-1,r=0,a=-1,i=0,s;for(;n--;){const o=e.codePointAt(n);if(o===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),o===46?a<0?a=n:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||t<0||i===0||i===1&&a===t-1&&a===r+1?"":e.slice(a,t)}function nh(...e){let n=-1,t;for(;++n<e.length;)_t(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":rh(t)}function rh(e){_t(e);const n=e.codePointAt(0)===47;let t=ih(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function ih(e,n){let t="",r=0,a=-1,i=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),a=s,i=0;continue}}else if(t.length>0){t="",r=0,a=s,i=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(a+1,s):t=e.slice(a+1,s),r=s-a-1;a=s,i=0}else o===46&&i>-1?i++:i=-1}return t}function _t(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ah={cwd:sh};function sh(){return"/"}function wn(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function oh(e){if(typeof e=="string")e=new URL(e);else if(!wn(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return lh(e)}function lh(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){const r=n.codePointAt(t+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}const tn=["history","path","basename","stem","extname","dirname"];class sa{constructor(n){let t;n?wn(n)?t={path:n}:typeof n=="string"||uh(n)?t={value:n}:t=n:t={},this.cwd="cwd"in t?"":ah.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<tn.length;){const i=tn[r];i in t&&t[i]!==void 0&&t[i]!==null&&(this[i]=i==="history"?[...t[i]]:t[i])}let a;for(a in t)tn.includes(a)||(this[a]=t[a])}get basename(){return typeof this.path=="string"?He.basename(this.path):void 0}set basename(n){rn(n,"basename"),nn(n,"basename"),this.path=He.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?He.dirname(this.path):void 0}set dirname(n){ii(this.basename,"dirname"),this.path=He.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?He.extname(this.path):void 0}set extname(n){if(nn(n,"extname"),ii(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=He.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){wn(n)&&(n=oh(n)),rn(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?He.basename(this.path,this.extname):void 0}set stem(n){rn(n,"stem"),nn(n,"stem"),this.path=He.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){const a=this.message(n,t,r);throw a.fatal=!0,a}info(n,t,r){const a=this.message(n,t,r);return a.fatal=void 0,a}message(n,t,r){const a=new Ie(n,t,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function nn(e,n){if(e&&e.includes(He.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+He.sep+"`")}function rn(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function ii(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function uh(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ch=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},hh={}.hasOwnProperty;class er extends ch{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kc()}copy(){const n=new er;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];n.use(...r)}return n.data(en(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(on("data",this.frozen),this.namespace[n]=t,this):hh.call(this.namespace,n)&&this.namespace[n]||void 0:n?(on("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=t.call(n,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const t=At(n),r=this.parser||this.Parser;return an("parse",r),r(String(t),t)}process(n,t){const r=this;return this.freeze(),an("process",this.parser||this.Parser),sn("process",this.compiler||this.Compiler),t?a(void 0,t):new Promise(a);function a(i,s){const o=At(n),l=r.parse(o);r.run(l,o,function(h,f,p){if(h||!f||!p)return c(h);const u=f,x=r.stringify(u,p);ph(x)?p.value=x:p.result=x,c(h,p)});function c(h,f){h||!f?s(h):i?i(f):t(void 0,f)}}}processSync(n){let t=!1,r;return this.freeze(),an("processSync",this.parser||this.Parser),sn("processSync",this.compiler||this.Compiler),this.process(n,a),si("processSync","process",t),r;function a(i,s){t=!0,Kr(i),r=s}}run(n,t,r){ai(n),this.freeze();const a=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?i(void 0,r):new Promise(i);function i(s,o){const l=At(t);a.run(n,l,c);function c(h,f,p){const u=f||n;h?o(h):s?s(u):r(void 0,u,p)}}}runSync(n,t){let r=!1,a;return this.run(n,t,i),si("runSync","run",r),a;function i(s,o){Kr(s),a=o,r=!0}}stringify(n,t){this.freeze();const r=At(t),a=this.compiler||this.Compiler;return sn("stringify",a),ai(n),a(n,r)}use(n,...t){const r=this.attachers,a=this.namespace;if(on("use",this.frozen),n!=null)if(typeof n=="function")l(n,t);else if(typeof n=="object")Array.isArray(n)?o(n):s(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...f]=c;l(h,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(a.settings=en(!0,a.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const f=c[h];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...h]);else if(h.length>0){let[u,...x]=h;const m=r[p][1];bn(m)&&bn(u)&&(u=en(!0,m,u)),r[p]=[c,u,...x]}}}}const fh=new er().freeze();function an(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function sn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function on(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ai(e){if(!bn(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function si(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function At(e){return dh(e)?e:new sa(e)}function dh(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ph(e){return typeof e=="string"||mh(e)}function mh(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gh="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",oi=[],li={allowDangerousHtml:!0},yh=/^(https?|ircs?|mailto|xmpp)$/i,xh=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function It(e){const n=bh(e),t=wh(e);return _h(n.runSync(n.parse(t),t),e)}function bh(e){const n=e.rehypePlugins||oi,t=e.remarkPlugins||oi,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...li}:li;return fh().use(ec).use(t).use(Yc,r).use(n)}function wh(e){const n=e.children||"",t=new sa;return typeof n=="string"&&(t.value=n),t}function _h(e,n){const t=n.allowedElements,r=n.allowElement,a=n.components,i=n.disallowedElements,s=n.skipHtml,o=n.unwrapDisallowed,l=n.urlTransform||kh;for(const h of xh)Object.hasOwn(n,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+gh+h.id,void 0);return ia(e,c),Oo(e,{Fragment:v.Fragment,components:a,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function c(h,f,p){if(h.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let u;for(u in Kt)if(Object.hasOwn(Kt,u)&&Object.hasOwn(h.properties,u)){const x=h.properties[u],m=Kt[u];(m===null||m.includes(h.tagName))&&(h.properties[u]=l(String(x||""),u,h))}}if(h.type==="element"){let u=t?!t.includes(h.tagName):i?i.includes(h.tagName):!1;if(!u&&r&&typeof f=="number"&&(u=!r(h,f,p)),u&&p&&typeof f=="number")return o&&h.children?p.children.splice(f,1,...h.children):p.children.splice(f,1),f}}}function kh(e){const n=e.indexOf(":"),t=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return n===-1||a!==-1&&n>a||t!==-1&&n>t||r!==-1&&n>r||yh.test(e.slice(0,n))?e:""}var tr={},vh=Ee;Object.defineProperty(tr,"__esModule",{value:!0});var oa=tr.default=void 0,Sh=vh(Ae()),Ch=v;oa=tr.default=(0,Sh.default)((0,Ch.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var nr={},Eh=Ee;Object.defineProperty(nr,"__esModule",{value:!0});var _n=nr.default=void 0,Ah=Eh(Ae()),Ih=v;_n=nr.default=(0,Ah.default)((0,Ih.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var rr={},zh=Ee;Object.defineProperty(rr,"__esModule",{value:!0});var la=rr.default=void 0,jh=zh(Ae()),Th=v;la=rr.default=(0,jh.default)((0,Th.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var ir={},Dh=Ee;Object.defineProperty(ir,"__esModule",{value:!0});var ua=ir.default=void 0,Oh=Dh(Ae()),Ph=v;ua=ir.default=(0,Oh.default)((0,Ph.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var ar={},Rh=Ee;Object.defineProperty(ar,"__esModule",{value:!0});var Dt=ar.default=void 0,Lh=Rh(Ae()),Bh=v;Dt=ar.default=(0,Lh.default)((0,Bh.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var sr={},Fh=Ee;Object.defineProperty(sr,"__esModule",{value:!0});var kn=sr.default=void 0,Mh=Fh(Ae()),Nh=v;kn=sr.default=(0,Mh.default)((0,Nh.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var or={},Uh=Ee;Object.defineProperty(or,"__esModule",{value:!0});var ca=or.default=void 0,$h=Uh(Ae()),Hh=v;ca=or.default=(0,$h.default)((0,Hh.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");const Vh=({onAssetImport:e,isFullPage:n=!1})=>{const[t,r]=he.useState(!1),[a,i]=he.useState(!1),[s,o]=he.useState(null),l=he.useRef(null),c=he.useRef(null),[h,f]=he.useState(!1),[p,u]=he.useState(!0),[x,m]=he.useState(0),[b,y]=he.useState([]),[w,_]=he.useState([]),[z,D]=he.useState([]),[I,B]=he.useState(!1),[$,P]=he.useState(!1),[V,G]=he.useState(null),{saveDataToIndexedDB:C,exportToZip:M}=Ue(),[g,N]=he.useState("audio"),[re,H]=he.useState(!1);he.useEffect(()=>{(async()=>{u(!0);const S=await me.hasAssets("audio"),k=await me.hasAssets("images"),T=await me.hasAssets("data");f(S||k||T),u(!1),await ie()})()},[]);const ie=async()=>{B(!0);try{const j=await me.getAssets("audio"),S=await me.getAssets("images"),k=await me.getAssets("data");y(j.map(T=>T.name)),_(S.map(T=>T.name)),D(k.map(T=>T.name)),B(!1)}catch(j){console.error("Error loading assets:",j),B(!1)}},Y=`
Your zip file should contain:

1. /audio folder - with mp3, wav, or ogg files
2. /images folder - with jpg, png, or gif files
3. /data folder - with JSON files:
   - locations.json: Array of location objects with id, name, description
   - characters.json: Array of character objects

Example locations.json:
[
  {
    "id": "tavern",
    "name": "The Rusty Tankard",
    "description": "A cozy tavern with a fireplace.",
    "backgroundMusic": "tavern_ambience.mp3"
  }
]
  `,A=j=>{j.preventDefault(),r(!0)},F=j=>{j.preventDefault(),r(!1)},R=async j=>{j.preventDefault(),r(!1);const S=j.dataTransfer.files;if(S.length===0)return;const k=S[0];await ee(k)},E=async j=>{const S=j.target.files;if(!S||S.length===0)return;const k=S[0];await ee(k)},ee=async j=>{if(!j.name.toLowerCase().endsWith(".zip")){o({success:!1,message:"Please upload a .zip file containing audio, images, and data folders."});return}i(!0),o(null);try{const S=await me.processZipFile(j);o(S),S.success&&(f(!0),await ie(),e&&e())}catch(S){o({success:!1,message:`Error processing file: ${S instanceof Error?S.message:String(S)}`})}finally{i(!1),l.current&&(l.current.value="")}},J=async()=>{i(!0);try{await me.clearAllAssets(),f(!1),y([]),_([]),D([]),o({success:!0,message:"All imported assets have been cleared."}),e&&e()}catch(j){o({success:!1,message:`Error clearing assets: ${j instanceof Error?j.message:String(j)}`})}finally{i(!1)}},ue=()=>{o(null)},ke=async()=>{i(!0),o(null);try{const j=await me.loadExampleData();o(j),j.success&&(f(!0),await ie(),e&&e())}catch(j){o({success:!1,message:`Error creating empty structure: ${j instanceof Error?j.message:String(j)}`})}finally{i(!1)}},oe=(j,S)=>{m(S)},ce=j=>{N(j),H(!0)},be=async j=>{const S=j.target.files;if(!S||S.length===0)return;const k=S[0];i(!0);try{const T=await me.addAsset(g,k);o(T),T.success&&(f(!0),await ie(),e&&e())}catch(T){o({success:!1,message:`Error adding asset: ${T instanceof Error?T.message:String(T)}`})}finally{i(!1),H(!1),c.current&&(c.current.value="")}},xe=async(j,S)=>{i(!0);try{const k=await me.deleteAsset(j,S);if(o(k),k.success){await ie();const T=await me.hasAssets("audio"),W=await me.hasAssets("images"),q=await me.hasAssets("data");f(T||W||q),e&&e()}}catch(k){o({success:!1,message:`Error deleting asset: ${k instanceof Error?k.message:String(k)}`})}finally{i(!1)}},je=async()=>{P(!0);try{const j=await C();o(j)}catch(j){o({success:!1,message:`Error saving data: ${j instanceof Error?j.message:String(j)}`})}finally{P(!1)}},ze=async()=>{P(!0);try{const j=await M();o({success:j.success,message:j.message}),j.success&&j.url&&G(j.url)}catch(j){o({success:!1,message:`Error exporting data: ${j instanceof Error?j.message:String(j)}`})}finally{P(!1)}},d=()=>{if(V){const j=document.createElement("a");j.href=V,j.download="campaign-data.zip",document.body.appendChild(j),j.click(),document.body.removeChild(j)}},U=(j,S)=>I?v.jsx(ye,{sx:{display:"flex",justifyContent:"center",p:2},children:v.jsx(zt,{size:30})}):S.length===0?v.jsxs(fe,{variant:"body2",sx:{p:2,textAlign:"center",color:"text.secondary"},children:["No ",j,' assets found. Add some using the "Add ',j,'" button.']}):v.jsx(xt,{dense:!0,children:S.map(k=>v.jsxs(it,{children:[v.jsx(pt,{primary:k,secondary:j==="data"?"JSON Data":`${j.charAt(0).toUpperCase()+j.slice(1)} File`}),v.jsx(La,{children:v.jsx(Oe,{edge:"end",onClick:()=>xe(j,k),children:v.jsx(_n,{})})})]},k))});return p?v.jsxs(Ot,{elevation:3,sx:{p:2,backgroundColor:"rgba(45, 45, 45, 0.9)",transition:"all 0.3s ease",position:"relative",width:n?"100%":"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:200},children:[v.jsx(zt,{size:40}),v.jsx(fe,{variant:"body1",sx:{mt:2},children:"Checking for stored assets..."})]}):v.jsxs(v.Fragment,{children:[v.jsxs(Ot,{elevation:3,sx:{p:2,backgroundColor:"rgba(45, 45, 45, 0.9)",transition:"all 0.3s ease",position:"relative",width:n?"100%":"auto"},children:[v.jsxs(ye,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[v.jsx(fe,{variant:"h6",children:"Asset Manager"}),v.jsx(Cn,{title:Y,arrow:!0,placement:"left",children:v.jsx(Oe,{size:"small",children:v.jsx(ua,{fontSize:"small"})})})]}),v.jsxs($t,{defaultExpanded:!h,sx:{mb:2,backgroundColor:"rgba(60, 60, 60, 0.7)"},children:[v.jsx(Ht,{expandIcon:v.jsx(Dt,{}),children:v.jsx(fe,{variant:"subtitle1",children:"Import ZIP File"})}),v.jsxs(Vt,{children:[v.jsxs(ye,{sx:{border:"2px dashed",borderColor:t?"primary.main":"grey.500",borderRadius:1,p:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:t?"rgba(25, 118, 210, 0.1)":"transparent",transition:"all 0.3s ease",position:"relative"},onDragOver:A,onDragLeave:F,onDrop:R,onClick:()=>{var j;return(j=l.current)==null?void 0:j.click()},children:[a?v.jsx(zt,{size:30,sx:{my:2}}):v.jsxs(v.Fragment,{children:[v.jsx(oa,{sx:{fontSize:40,color:"text.secondary",mb:1}}),v.jsx(fe,{variant:"body1",gutterBottom:!0,children:"Drag & Drop a ZIP file here, or click to select"}),v.jsx(fe,{variant:"body2",color:"textSecondary",children:"Your ZIP should contain audio/, images/, and data/ folders"})]}),v.jsx("input",{type:"file",ref:l,onChange:E,style:{display:"none"},accept:".zip"})]}),v.jsxs(ye,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[v.jsx(De,{variant:"outlined",color:"warning",startIcon:v.jsx(_n,{}),onClick:J,disabled:a||!h,children:"Clear All Assets"}),!h&&v.jsx(De,{variant:"outlined",color:"primary",onClick:ke,disabled:a,children:"Create Empty Structure"})]})]})]}),v.jsxs($t,{sx:{mb:2,backgroundColor:"rgba(60, 60, 60, 0.7)"},children:[v.jsx(Ht,{expandIcon:v.jsx(Dt,{}),children:v.jsx(fe,{variant:"subtitle1",children:"Export Campaign"})}),v.jsxs(Vt,{children:[v.jsxs(ye,{sx:{mb:2},children:[v.jsx(fe,{variant:"body2",paragraph:!0,children:"Export your entire campaign as a ZIP file to backup your work or share it with others."}),v.jsxs(Ke,{container:!0,spacing:2,children:[v.jsx(Ke,{item:!0,xs:12,sm:6,children:v.jsx(De,{variant:"contained",color:"primary",fullWidth:!0,startIcon:v.jsx(kn,{}),onClick:ze,disabled:$||!h,children:$?"Preparing ZIP...":"Export Campaign ZIP"})}),v.jsx(Ke,{item:!0,xs:12,sm:6,children:v.jsx(De,{variant:"outlined",color:"primary",fullWidth:!0,startIcon:v.jsx(kn,{}),onClick:d,disabled:!V,children:"Download ZIP"})})]})]}),v.jsx(De,{variant:"outlined",color:"success",fullWidth:!0,onClick:je,disabled:$,children:$?"Saving...":"Save Current Campaign State"})]})]}),v.jsxs($t,{sx:{backgroundColor:"rgba(60, 60, 60, 0.7)"},defaultExpanded:h,children:[v.jsx(Ht,{expandIcon:v.jsx(Dt,{}),children:v.jsx(fe,{variant:"subtitle1",children:"Manage Individual Assets"})}),v.jsx(Vt,{children:v.jsxs(ye,{sx:{width:"100%"},children:[v.jsx(ye,{sx:{borderBottom:1,borderColor:"divider"},children:v.jsxs(Oa,{value:x,onChange:oe,children:[v.jsx(Wt,{label:"Audio"}),v.jsx(Wt,{label:"Images"}),v.jsx(Wt,{label:"Data"})]})}),v.jsxs(ye,{sx:{p:1},children:[v.jsxs(De,{variant:"outlined",color:"primary",startIcon:v.jsx(ca,{}),sx:{mb:1},onClick:()=>ce(x===0?"audio":x===1?"images":"data"),children:["Add ",x===0?"Audio":x===1?"Image":"Data"," File"]}),v.jsx(ye,{role:"tabpanel",hidden:x!==0,children:x===0&&U("audio",b)}),v.jsx(ye,{role:"tabpanel",hidden:x!==1,children:x===1&&U("images",w)}),v.jsx(ye,{role:"tabpanel",hidden:x!==2,children:x===2&&U("data",z)})]})]})})]}),s&&v.jsxs(Pa,{severity:s.success?"success":"error",sx:{mt:2},action:v.jsx(Oe,{size:"small",onClick:ue,children:v.jsx(la,{fontSize:"small"})}),children:[v.jsx(Ra,{children:s.success?"Success":"Error"}),s.message]})]}),v.jsxs(vn,{open:re,onClose:()=>H(!1),children:[v.jsxs(ci,{children:["Add ",g==="audio"?"Audio":g==="images"?"Image":"Data"," File"]}),v.jsxs(Sn,{children:[v.jsxs(fe,{variant:"body2",sx:{mb:2},children:[g==="audio"&&"Select an audio file (MP3, WAV, OGG)",g==="images"&&"Select an image file (PNG, JPG, GIF)",g==="data"&&"Select a JSON data file"]}),v.jsxs(De,{variant:"contained",component:"label",fullWidth:!0,children:["Choose File",v.jsx("input",{type:"file",ref:c,hidden:!0,onChange:be,accept:g==="audio"?"audio/*":g==="images"?"image/*":".json"})]})]}),v.jsx(hi,{children:v.jsx(De,{onClick:()=>H(!1),children:"Cancel"})})]})]})},Wh=e=>[/^#+\s/,/\*\*.*\*\*/,/\*.*\*/,/\[.*\]\(.*\)/,/!\[.*\]\(.*\)/,/^\s*[\*\-\+]\s/,/^\s*\d+\.\s/,/^\s*>\s/,/`.*`/,/```[\s\S]*```/,/\|.*\|.*\|/].some(t=>t.test(e)),ui=({content:e})=>{const t=(r=>{let a=r;return a=a.replace(/^# (.*)$/gm,"<h1>$1</h1>"),a=a.replace(/^## (.*)$/gm,"<h2>$1</h2>"),a=a.replace(/^### (.*)$/gm,"<h3>$1</h3>"),a=a.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),a=a.replace(/\*(.*?)\*/g,"<em>$1</em>"),a=a.replace(/^\* (.*)$/gm,"<li>$1</li>"),a=a.replace(/\n/g,"<br />"),a})(e);return v.jsx("div",{dangerouslySetInnerHTML:{__html:t}})},Zh=({content:e,sx:n,debug:t=!1})=>{const[r,a]=he.useState(!1),[i,s]=he.useState(!1),[o,l]=he.useState(!1);if(he.useEffect(()=>{typeof It!="function"&&(console.error("ReactMarkdown is not available"),a(!0),l(!0)),s(Wh(e))},[e]),t&&console.log("MarkdownContent debug:",{content:(e==null?void 0:e.substring(0,100))+"...",markdownDetected:i,reactMarkdownAvailable:typeof It=="function",reactMarkdownType:typeof It,window:window.ReactMarkdownLoaded?"ReactMarkdown is loaded globally":"No global ReactMarkdown"}),o)return v.jsx(ye,{sx:n,children:v.jsx(ui,{content:e})});if(r)return v.jsx(fe,{sx:{whiteSpace:"pre-wrap",...n},children:e});try{return v.jsx(ye,{sx:{"& h1, & h2, & h3, & h4, & h5, & h6":{fontWeight:"bold",mt:2,mb:1},"& h1":{fontSize:"1.8rem"},"& h2":{fontSize:"1.6rem"},"& h3":{fontSize:"1.4rem"},"& h4":{fontSize:"1.2rem"},"& h5":{fontSize:"1.1rem"},"& h6":{fontSize:"1rem"},"& p":{mb:1.5,lineHeight:1.6},"& ul, & ol":{pl:3,mb:1.5},"& li":{mb:.5},"& a":{color:c=>c.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& blockquote":{borderLeft:"4px solid",borderColor:"grey.300",pl:2,py:1,my:2,bgcolor:"grey.50",fontStyle:"italic"},"& code":{fontFamily:"monospace",bgcolor:"grey.100",p:.5,borderRadius:1},"& pre":{fontFamily:"monospace",bgcolor:"grey.900",color:"white",p:2,borderRadius:1,overflow:"auto"},"& table":{borderCollapse:"collapse",width:"100%",mb:2},"& th, & td":{border:"1px solid",borderColor:"grey.300",p:1},"& th":{bgcolor:"grey.100",fontWeight:"bold"},...n},children:v.jsx(It,{children:e})})}catch(c){return console.error("Failed to render markdown:",c),v.jsx(ye,{sx:n,children:v.jsx(ui,{content:e})})}},qh=()=>{const{locations:e,characters:n,combats:t}=Ue(),[r,a]=he.useState(!1),[i,s]=he.useState(0),o=`# Markdown Examples
  
## Basic Formatting
**Bold text** and *italic text*

## Lists
* Item 1
* Item 2
  * Nested item

## Links
[Example Link](https://example.com)

## Code
\`\`\`
function example() {
  return "This is code";
}
\`\`\`
`;he.useEffect(()=>{(async()=>{const p=await me.getAssets("audio");s(p.length)})()},[]);const l=[{label:"Total Locations",value:e.length},{label:"Total Characters",value:n.length},{label:"Available Music Tracks",value:i},{label:"Combat Encounters",value:t.length}],c=()=>{a(!1)},h=async()=>{const f=await me.getAssets("audio");s(f.length)};return v.jsxs(ye,{sx:{p:3},children:[v.jsxs(ye,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[v.jsx(fe,{variant:"h4",children:"Campaign Dashboard"}),v.jsx(De,{variant:"contained",color:"primary",onClick:()=>a(!0),children:"Manage Assets"})]}),v.jsx(Ke,{container:!0,spacing:3,children:l.map(f=>v.jsx(Ke,{item:!0,xs:12,sm:4,children:v.jsx(Zt,{children:v.jsxs(qt,{children:[v.jsx(fe,{variant:"h6",gutterBottom:!0,children:f.label}),v.jsx(fe,{variant:"h3",color:"primary",children:f.value})]})})},f.label))}),v.jsxs(Ke,{container:!0,spacing:3,sx:{mt:3},children:[v.jsx(Ke,{item:!0,xs:12,md:6,children:v.jsx(Zt,{children:v.jsxs(qt,{children:[v.jsx(fe,{variant:"h6",gutterBottom:!0,children:"Recent Locations"}),e.slice(0,5).map(f=>v.jsx(fe,{variant:"body1",sx:{mb:1},children:f.name},f.id))]})})}),v.jsx(Ke,{item:!0,xs:12,md:6,children:v.jsx(Zt,{children:v.jsxs(qt,{children:[v.jsx(fe,{variant:"h6",gutterBottom:!0,children:"Recent Characters"}),n.slice(0,5).map(f=>v.jsxs(fe,{variant:"body1",sx:{mb:1},children:[f.name," - ",f.type]},f.id))]})})})]}),v.jsx(vi,{}),v.jsx(vn,{open:r,onClose:c,maxWidth:"md",fullWidth:!0,children:v.jsx(Sn,{children:v.jsx(Vh,{onAssetImport:h})})}),v.jsx(Lt,{sx:{my:2}}),v.jsx(fe,{variant:"h6",gutterBottom:!0,children:"Preview:"}),v.jsx(Ot,{sx:{p:2,bgcolor:"background.default"},children:v.jsx(Zh,{content:o,debug:!0})}),v.jsxs(ye,{sx:{mt:2,p:2,bgcolor:"rgba(0,0,0,0.05)",borderRadius:1},children:[v.jsx(fe,{variant:"subtitle2",gutterBottom:!0,children:"Troubleshooting Markdown Display:"}),v.jsx(fe,{variant:"body2",children:"If markdown isn't displaying correctly in the deployed version, please:"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(fe,{variant:"body2",children:"Check the browser console for any errors (F12 > Console)"})}),v.jsx("li",{children:v.jsx(fe,{variant:"body2",children:"Try refreshing the page with cache clearing (Ctrl+F5 or Cmd+Shift+R)"})}),v.jsx("li",{children:v.jsx(fe,{variant:"body2",children:"Temporarily disable any browser extensions that might interfere"})})]})]})]})},kt=(e,n)=>he.lazy(()=>e().then(t=>t[n]?{default:t[n]}:(console.error(`Component ${n} not found in the module`),{default:()=>v.jsxs(ye,{sx:{p:3,textAlign:"center"},children:[v.jsx(fe,{variant:"h5",color:"error",gutterBottom:!0,children:"Failed to load component"}),v.jsx(De,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload Page"})]})})).catch(t=>(console.error(`Error loading component ${n}:`,t),{default:()=>v.jsxs(ye,{sx:{p:3,textAlign:"center"},children:[v.jsx(fe,{variant:"h5",color:"error",gutterBottom:!0,children:"Failed to load component"}),v.jsxs(fe,{variant:"body1",paragraph:!0,children:["Error: ",t.message]}),v.jsx(De,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload Page"})]})}))),Gh=kt(()=>Ve(()=>import("./MapView-udtEL_-O.js"),__vite__mapDeps([0,1,2,3,4])),"MapView"),Yh=kt(()=>Ve(()=>import("./LocationsView-BVK9eHty.js"),__vite__mapDeps([5,1,2,6,4,3])),"LocationsView"),Xh=kt(()=>Ve(()=>import("./CharactersView-C6BXhL6R.js"),__vite__mapDeps([7,1,2,6,4,3])),"CharactersView"),Kh=kt(()=>Ve(()=>import("./CombatsView-CUtPhVB0.js"),__vite__mapDeps([8,1,2,6,4,3])),"CombatsView"),Jh=kt(()=>Ve(()=>import("./CombatSessionView-CY1CFTVY.js"),__vite__mapDeps([9,1,2,4,3])),"CombatSessionView"),Qh=()=>v.jsx(ye,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:v.jsx(zt,{})});window.ReactMarkdownLoaded=!0;const ef=()=>null;function tf(){return v.jsxs(Ba,{theme:Za,children:[v.jsx(Fa,{}),v.jsxs($a,{basename:"/penandpaperproject",children:[v.jsxs(ye,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[v.jsx(vs,{}),v.jsx(ye,{sx:{flexGrow:1,overflow:"auto",position:"relative"},children:v.jsx(he.Suspense,{fallback:v.jsx(Qh,{}),children:v.jsxs(Ha,{children:[v.jsx(nt,{path:"/",element:v.jsx(qh,{})}),v.jsx(nt,{path:"/map",element:v.jsx(Gh,{})}),v.jsx(nt,{path:"/locations",element:v.jsx(Yh,{})}),v.jsx(nt,{path:"/characters",element:v.jsx(Xh,{})}),v.jsx(nt,{path:"/combats",element:v.jsx(Kh,{})}),v.jsx(nt,{path:"/combat-session",element:v.jsx(Jh,{})})]})})}),v.jsx(vi,{})]}),v.jsx(ef,{})]})]})}function nf(){Ve(()=>import("./MapView-udtEL_-O.js"),__vite__mapDeps([0,1,2,3,4])),Ve(()=>import("./LocationsView-BVK9eHty.js"),__vite__mapDeps([5,1,2,6,4,3])),Ve(()=>import("./CharactersView-C6BXhL6R.js"),__vite__mapDeps([7,1,2,6,4,3])),Ve(()=>import("./CombatsView-CUtPhVB0.js"),__vite__mapDeps([8,1,2,6,4,3])),Ve(()=>import("./CombatSessionView-CY1CFTVY.js"),__vite__mapDeps([9,1,2,4,3])),console.log("Preloading critical components...")}setTimeout(()=>{nf()},2e3);ln.createRoot(document.getElementById("root")).render(v.jsx(An.StrictMode,{children:v.jsx(tf,{})}));export{Vh as A,Zh as M,vi as a,me as b,xi as c,la as d,wi as e,un as f,ua as g,ki as h,_n as i,Dt as j,It as k,gi as l,mi as m,Ae as r,Ue as u};
//# sourceMappingURL=index-j4jQxGJR.js.map
