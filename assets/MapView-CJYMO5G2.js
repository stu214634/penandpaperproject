import{i as Li,j as a,B as j,G as Si,d as A,P as Ci,O as wi,Q as Pe,L as U,I as Q,a0 as Cn,a1 as wn,a2 as Fe,M as ji,a3 as Ve,e as I,l as Ae,m as $e,a4 as jn,n as Ke,a5 as Pn,o as ee,a6 as Qe,a7 as qe,a8 as Ue,a9 as he,F as An,aa as Tn,r as Pi,ab as Ai,f as R,ac as Yn,g as de,h as H,z as Ge,ad as Je,ae as Ti,k as ge,q as Yi,E as Di,y as Xi}from"./mui-vendor-uU3VvFzt.js";import{a as ne,r as T,i as Dn}from"./react-vendor-BzdEknB4.js";import{r as Zi,u as X,A as zi,d as We,a as Ne,b as be,c as Xn}from"./index-B-leRY4h.js";import{h as zn}from"./utilities-BTDtKTyc.js";import"./map-vendor-CMk8R3PE.js";var $=function(e,r){return Number(e.toFixed(r))},kn=function(e,r){return r},k=function(e,r,i){i&&typeof i=="function"&&i(e,r)},En=function(e){return-Math.cos(e*Math.PI)/2+.5},Wn=function(e){return e},Nn=function(e){return e*e},_n=function(e){return e*(2-e)},Mn=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},Bn=function(e){return e*e*e},On=function(e){return--e*e*e+1},Ln=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},Zn=function(e){return e*e*e*e},Rn=function(e){return 1- --e*e*e*e},Hn=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},Fn=function(e){return e*e*e*e*e},Vn=function(e){return 1+--e*e*e*e*e},$n=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},Ri={easeOut:En,linear:Wn,easeInQuad:Nn,easeOutQuad:_n,easeInOutQuad:Mn,easeInCubic:Bn,easeOutCubic:On,easeInOutCubic:Ln,easeInQuart:Zn,easeOutQuart:Rn,easeInOutQuart:Hn,easeInQuint:Fn,easeOutQuint:Vn,easeInOutQuint:$n},Hi=function(e){typeof e=="number"&&cancelAnimationFrame(e)},q=function(e){e.mounted&&(Hi(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Fi(e,r,i,n){if(e.mounted){var t=new Date().getTime(),o=1;q(e),e.animation=function(){if(!e.mounted)return Hi(e.animation);var s=new Date().getTime()-t,l=s/i,c=Ri[r],m=c(l);s>=i?(n(o),e.animation=null):e.animation&&(n(m),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Kn(e){var r=e.scale,i=e.positionX,n=e.positionY;return!(Number.isNaN(r)||Number.isNaN(i)||Number.isNaN(n))}function ae(e,r,i,n){var t=Kn(r);if(!(!e.mounted||!t)){var o=e.setTransformState,s=e.transformState,l=s.scale,c=s.positionX,m=s.positionY,p=r.scale-l,d=r.positionX-c,h=r.positionY-m;i===0?o(r.scale,r.positionX,r.positionY):Fi(e,n,i,function(b){var x=l+p*b,P=c+d*b,Y=m+h*b;o(x,P,Y)})}}function Qn(e,r,i){var n=e.offsetWidth,t=e.offsetHeight,o=r.offsetWidth,s=r.offsetHeight,l=o*i,c=s*i,m=n-l,p=t-c;return{wrapperWidth:n,wrapperHeight:t,newContentWidth:l,newDiffWidth:m,newContentHeight:c,newDiffHeight:p}}var qn=function(e,r,i,n,t,o,s){var l=e>r?i*(s?1:.5):0,c=n>t?o*(s?1:.5):0,m=e-r-l,p=l,d=n-t-c,h=c;return{minPositionX:m,maxPositionX:p,minPositionY:d,maxPositionY:h}},ti=function(e,r){var i=e.wrapperComponent,n=e.contentComponent,t=e.setup.centerZoomedOut;if(!i||!n)throw new Error("Components are not mounted");var o=Qn(i,n,r),s=o.wrapperWidth,l=o.wrapperHeight,c=o.newContentWidth,m=o.newDiffWidth,p=o.newContentHeight,d=o.newDiffHeight,h=qn(s,c,m,l,p,d,!!t);return h},ii=function(e,r,i,n){return n?e<r?$(r,2):e>i?$(i,2):$(e,2):$(e,2)},ue=function(e,r){var i=ti(e,r);return e.bounds=i,i};function Ye(e,r,i,n,t,o,s){var l=i.minPositionX,c=i.minPositionY,m=i.maxPositionX,p=i.maxPositionY,d=0,h=0;s&&(d=t,h=o);var b=ii(e,l-d,m+d,n),x=ii(r,c-h,p+h,n);return{x:b,y:x}}function Be(e,r,i,n,t,o){var s=e.transformState,l=s.scale,c=s.positionX,m=s.positionY,p=n-l;if(typeof r!="number"||typeof i!="number")return console.error("Mouse X and Y position were not provided!"),{x:c,y:m};var d=c-r*p,h=m-i*p,b=Ye(d,h,t,o,0,0,null);return b}function De(e,r,i,n,t){var o=t?n:0,s=r-o;return!Number.isNaN(i)&&e>=i?i:!Number.isNaN(r)&&e<=s?s:e}var ki=function(e,r){var i=e.setup.panning.excluded,n=e.isInitialized,t=e.wrapperComponent,o=r.target,s="shadowRoot"in o&&"composedPath"in r,l=s?r.composedPath().some(function(p){return p instanceof Element?t==null?void 0:t.contains(p):!1}):t==null?void 0:t.contains(o),c=n&&o&&l;if(!c)return!1;var m=Oe(o,i);return!m},Ei=function(e){var r=e.isInitialized,i=e.isPanning,n=e.setup,t=n.panning.disabled,o=r&&i&&!t;return!!o},Un=function(e,r){var i=e.transformState,n=i.positionX,t=i.positionY;e.isPanning=!0;var o=r.clientX,s=r.clientY;e.startCoords={x:o-n,y:s-t}},Gn=function(e,r){var i=r.touches,n=e.transformState,t=n.positionX,o=n.positionY;e.isPanning=!0;var s=i.length===1;if(s){var l=i[0].clientX,c=i[0].clientY;e.startCoords={x:l-t,y:c-o}}};function Jn(e){var r=e.transformState,i=r.positionX,n=r.positionY,t=r.scale,o=e.setup,s=o.disabled,l=o.limitToBounds,c=o.centerZoomedOut,m=e.wrapperComponent;if(!(s||!m||!e.bounds)){var p=e.bounds,d=p.maxPositionX,h=p.minPositionX,b=p.maxPositionY,x=p.minPositionY,P=i>d||i<h,Y=n>b||n<x,S=i>d?m.offsetWidth:e.setup.minPositionX||0,M=n>b?m.offsetHeight:e.setup.minPositionY||0,W=Be(e,S,M,t,e.bounds,l||c),F=W.x,C=W.y;return{scale:t,positionX:P?F:i,positionY:Y?C:n}}}function Vi(e,r,i,n,t){var o=e.setup.limitToBounds,s=e.wrapperComponent,l=e.bounds,c=e.transformState,m=c.scale,p=c.positionX,d=c.positionY;if(!(s===null||l===null||r===p&&i===d)){var h=Ye(r,i,l,o,n,t,s),b=h.x,x=h.y;e.setTransformState(m,b,x)}}var In=function(e,r,i){var n=e.startCoords,t=e.transformState,o=e.setup.panning,s=o.lockAxisX,l=o.lockAxisY,c=t.positionX,m=t.positionY;if(!n)return{x:c,y:m};var p=r-n.x,d=i-n.y,h=s?c:p,b=l?m:d;return{x:h,y:b}},re=function(e,r){var i=e.setup,n=e.transformState,t=n.scale,o=i.minScale,s=i.disablePadding;return r>0&&t>=o&&!s?r:0},er=function(e){var r=e.mounted,i=e.setup,n=i.disabled,t=i.velocityAnimation,o=e.transformState.scale,s=t.disabled,l=!s||o>1||!n||r;return!!l},ir=function(e){var r=e.mounted,i=e.velocity,n=e.bounds,t=e.setup,o=t.disabled,s=t.velocityAnimation,l=e.transformState.scale,c=s.disabled,m=!c||l>1||!o||r;return!(!m||!i||!n)};function nr(e,r){var i=e.setup.velocityAnimation,n=i.equalToMove,t=i.animationTime,o=i.sensitivity;return n?t*r*o:t}function Wi(e,r,i,n,t,o,s,l,c,m){if(t){if(r>s&&i>s){var p=s+(e-s)*m;return p>c?c:p<s?s:p}if(r<o&&i<o){var p=o+(e-o)*m;return p<l?l:p>o?o:p}}return n?r:ii(e,o,s,t)}function rr(e,r){var i=1;return r?Math.min(i,e.offsetWidth/window.innerWidth):i}function ar(e,r){var i=er(e);if(i){var n=e.lastMousePosition,t=e.velocityTime,o=e.setup,s=e.wrapperComponent,l=o.velocityAnimation.equalToMove,c=Date.now();if(n&&t&&s){var m=rr(s,l),p=r.x-n.x,d=r.y-n.y,h=p/m,b=d/m,x=c-t,P=p*p+d*d,Y=Math.sqrt(P)/x;e.velocity={velocityX:h,velocityY:b,total:Y}}e.lastMousePosition=r,e.velocityTime=c}}function tr(e){var r=e.velocity,i=e.bounds,n=e.setup,t=e.wrapperComponent,o=ir(e);if(!(!o||!r||!i||!t)){var s=r.velocityX,l=r.velocityY,c=r.total,m=i.maxPositionX,p=i.minPositionX,d=i.maxPositionY,h=i.minPositionY,b=n.limitToBounds,x=n.alignmentAnimation,P=n.zoomAnimation,Y=n.panning,S=Y.lockAxisY,M=Y.lockAxisX,W=P.animationType,F=x.sizeX,C=x.sizeY,N=x.velocityAlignmentTime,L=N,B=nr(e,c),V=Math.max(B,L),Z=re(e,F),G=re(e,C),K=Z*t.offsetWidth/100,te=G*t.offsetHeight/100,ce=m+K,pe=p-K,fe=d+te,me=h-te,ye=e.transformState,xe=new Date().getTime();Fi(e,W,V,function(Xe){var Se=e.transformState,E=Se.scale,J=Se.positionX,Ce=Se.positionY,we=new Date().getTime()-xe,O=we/L,Le=Ri[x.animationType],ze=1-Le(Math.min(1,O)),oe=1-Xe,se=J+s*oe,ke=Ce+l*oe,Ze=Wi(se,ye.positionX,J,M,b,p,m,pe,ce,ze),ve=Wi(ke,ye.positionY,Ce,S,b,h,d,me,fe,ze);(J!==se||Ce!==ke)&&e.setTransformState(E,Ze,ve)})}}function Ni(e,r){var i=e.transformState.scale;q(e),ue(e,i),window.TouchEvent!==void 0&&r instanceof TouchEvent?Gn(e,r):Un(e,r)}function oi(e,r){var i=e.transformState.scale,n=e.setup,t=n.minScale,o=n.alignmentAnimation,s=o.disabled,l=o.sizeX,c=o.sizeY,m=o.animationTime,p=o.animationType,d=s||i<t||!l&&!c;if(!d){var h=Jn(e);h&&ae(e,h,r??m,p)}}function _i(e,r,i){var n=e.startCoords,t=e.setup,o=t.alignmentAnimation,s=o.sizeX,l=o.sizeY;if(n){var c=In(e,r,i),m=c.x,p=c.y,d=re(e,s),h=re(e,l);ar(e,{x:m,y:p}),Vi(e,m,p,d,h)}}function or(e){if(e.isPanning){var r=e.setup.panning.velocityDisabled,i=e.velocity,n=e.wrapperComponent,t=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=n==null?void 0:n.getBoundingClientRect(),s=t==null?void 0:t.getBoundingClientRect(),l=(o==null?void 0:o.width)||0,c=(o==null?void 0:o.height)||0,m=(s==null?void 0:s.width)||0,p=(s==null?void 0:s.height)||0,d=l<m||c<p,h=!r&&i&&(i==null?void 0:i.total)>.1&&d;h?tr(e):oi(e)}}function si(e,r,i,n){var t=e.setup,o=t.minScale,s=t.maxScale,l=t.limitToBounds,c=De($(r,2),o,s,0,!1),m=ue(e,c),p=Be(e,i,n,c,m,l),d=p.x,h=p.y;return{scale:c,positionX:d,positionY:h}}function $i(e,r,i){var n=e.transformState.scale,t=e.wrapperComponent,o=e.setup,s=o.minScale,l=o.limitToBounds,c=o.zoomAnimation,m=c.disabled,p=c.animationTime,d=c.animationType,h=m||n>=s;if((n>=1||l)&&oi(e),!(h||!t||!e.mounted)){var b=r||t.offsetWidth/2,x=i||t.offsetHeight/2,P=si(e,s,b,x);P&&ae(e,P,p,d)}}var ie=function(){return ie=Object.assign||function(r){for(var i,n=1,t=arguments.length;n<t;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},ie.apply(this,arguments)};function Mi(e,r,i){for(var n=0,t=r.length,o;n<t;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var _e={scale:1,positionX:0,positionY:0},Te={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},ni={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Ki=function(e){var r,i,n,t;return{previousScale:(r=e.initialScale)!==null&&r!==void 0?r:_e.scale,scale:(i=e.initialScale)!==null&&i!==void 0?i:_e.scale,positionX:(n=e.initialPositionX)!==null&&n!==void 0?n:_e.positionX,positionY:(t=e.initialPositionY)!==null&&t!==void 0?t:_e.positionY}},Bi=function(e){var r=ie({},Te);return Object.keys(e).forEach(function(i){var n=typeof e[i]<"u",t=typeof Te[i]<"u";if(t&&n){var o=Object.prototype.toString.call(Te[i]),s=o==="[object Object]",l=o==="[object Array]";s?r[i]=ie(ie({},Te[i]),e[i]):l?r[i]=Mi(Mi([],Te[i],!0),e[i]):r[i]=e[i]}}),r},Qi=function(e,r,i){var n=e.transformState.scale,t=e.wrapperComponent,o=e.setup,s=o.maxScale,l=o.minScale,c=o.zoomAnimation,m=o.smooth,p=c.size;if(!t)throw new Error("Wrapper is not mounted");var d=m?n*Math.exp(r*i):n+r*i,h=De($(d,3),l,s,p,!1);return h};function qi(e,r,i,n,t){var o=e.wrapperComponent,s=e.transformState,l=s.scale,c=s.positionX,m=s.positionY;if(!o)return console.error("No WrapperComponent found");var p=o.offsetWidth,d=o.offsetHeight,h=(p/2-c)/l,b=(d/2-m)/l,x=Qi(e,r,i),P=si(e,x,h,b);if(!P)return console.error("Error during zoom event. New transformation state was not calculated.");ae(e,P,n,t)}function Ui(e,r,i,n){var t=e.setup,o=e.wrapperComponent,s=t.limitToBounds,l=Ki(e.props),c=e.transformState,m=c.scale,p=c.positionX,d=c.positionY;if(o){var h=ti(e,l.scale),b=Ye(l.positionX,l.positionY,h,s,0,0,o),x={scale:l.scale,positionX:b.x,positionY:b.y};m===l.scale&&p===l.positionX&&d===l.positionY||(n==null||n(),ae(e,x,r,i))}}function sr(e,r,i,n){var t=e.getBoundingClientRect(),o=r.getBoundingClientRect(),s=i.getBoundingClientRect(),l=o.x*n.scale,c=o.y*n.scale;return{x:(t.x-s.x+l)/n.scale,y:(t.y-s.y+c)/n.scale}}function lr(e,r,i){var n=e.wrapperComponent,t=e.contentComponent,o=e.transformState,s=e.setup,l=s.limitToBounds,c=s.minScale,m=s.maxScale;if(!n||!t)return o;var p=n.getBoundingClientRect(),d=r.getBoundingClientRect(),h=sr(r,n,t,o),b=h.x,x=h.y,P=d.width/o.scale,Y=d.height/o.scale,S=n.offsetWidth/P,M=n.offsetHeight/Y,W=De(i||Math.min(S,M),c,m,0,!1),F=(p.width-P*W)/2,C=(p.height-Y*W)/2,N=(p.left-b)*W+F,L=(p.top-x)*W+C,B=ti(e,W),V=Ye(N,L,B,l,0,0,n),Z=V.x,G=V.y;return{positionX:Z,positionY:G,scale:W}}var dr=function(e){return function(r,i,n){r===void 0&&(r=.5),i===void 0&&(i=300),n===void 0&&(n="easeOut"),qi(e,1,r,i,n)}},ur=function(e){return function(r,i,n){r===void 0&&(r=.5),i===void 0&&(i=300),n===void 0&&(n="easeOut"),qi(e,-1,r,i,n)}},cr=function(e){return function(r,i,n,t,o){t===void 0&&(t=300),o===void 0&&(o="easeOut");var s=e.transformState,l=s.positionX,c=s.positionY,m=s.scale,p=e.wrapperComponent,d=e.contentComponent,h=e.setup.disabled;if(!(h||!p||!d)){var b={positionX:Number.isNaN(r)?l:r,positionY:Number.isNaN(i)?c:i,scale:Number.isNaN(n)?m:n};ae(e,b,t,o)}}},pr=function(e){return function(r,i){r===void 0&&(r=200),i===void 0&&(i="easeOut"),Ui(e,r,i)}},fr=function(e){return function(r,i,n){i===void 0&&(i=200),n===void 0&&(n="easeOut");var t=e.transformState,o=e.wrapperComponent,s=e.contentComponent;if(o&&s){var l=Gi(r||t.scale,o,s);ae(e,l,i,n)}}},mr=function(e){return function(r,i,n,t){n===void 0&&(n=600),t===void 0&&(t="easeOut"),q(e);var o=e.wrapperComponent,s=typeof r=="string"?document.getElementById(r):r;if(o&&s&&o.contains(s)){var l=lr(e,s,i);ae(e,l,n,t)}}},ri=function(e){return{instance:e,zoomIn:dr(e),zoomOut:ur(e),setTransform:cr(e),resetTransform:pr(e),centerView:fr(e),zoomToElement:mr(e)}},vr=function(e){return{instance:e,state:e.transformState}},z=function(e){var r={};return Object.assign(r,vr(e)),Object.assign(r,ri(e)),r},Ie=!1;function ei(){try{var e={get passive(){return Ie=!0,!1}};return e}catch{return Ie=!1,Ie}}var Me=".".concat(ni.wrapperClass),Oe=function(e,r){return r.some(function(i){return e.matches("".concat(Me," ").concat(i,", ").concat(Me," .").concat(i,", ").concat(Me," ").concat(i," *, ").concat(Me," .").concat(i," *"))})},ai=function(e){e&&clearTimeout(e)},hr=function(e,r,i){return"translate(".concat(e,"px, ").concat(r,"px) scale(").concat(i,")")},Gi=function(e,r,i){var n=i.offsetWidth*e,t=i.offsetHeight*e,o=(r.offsetWidth-n)/2,s=(r.offsetHeight-t)/2;return{scale:e,positionX:o,positionY:s}};function gr(e){return function(r){e.forEach(function(i){typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var br=function(e,r){var i=e.setup.wheel,n=i.disabled,t=i.wheelDisabled,o=i.touchPadDisabled,s=i.excluded,l=e.isInitialized,c=e.isPanning,m=r.target,p=l&&!c&&!n&&m;if(!p||t&&!r.ctrlKey||o&&r.ctrlKey)return!1;var d=Oe(m,s);return!d},yr=function(e){return e?e.deltaY<0?1:-1:0};function xr(e,r){var i=yr(e),n=kn(r,i);return n}function Ji(e,r,i){var n=r.getBoundingClientRect(),t=0,o=0;if("clientX"in e)t=(e.clientX-n.left)/i,o=(e.clientY-n.top)/i;else{var s=e.touches[0];t=(s.clientX-n.left)/i,o=(s.clientY-n.top)/i}return(Number.isNaN(t)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:t,y:o}}var Sr=function(e,r,i,n,t){var o=e.transformState.scale,s=e.wrapperComponent,l=e.setup,c=l.maxScale,m=l.minScale,p=l.zoomAnimation,d=l.disablePadding,h=p.size,b=p.disabled;if(!s)throw new Error("Wrapper is not mounted");var x=o+r*i,P=n?!1:!b,Y=De($(x,3),m,c,h,P&&!d);return Y},Cr=function(e,r){var i=e.previousWheelEvent,n=e.transformState.scale,t=e.setup,o=t.maxScale,s=t.minScale;return i?n<o||n>s||Math.sign(i.deltaY)!==Math.sign(r.deltaY)||i.deltaY>0&&i.deltaY<r.deltaY||i.deltaY<0&&i.deltaY>r.deltaY||Math.sign(i.deltaY)!==Math.sign(r.deltaY):!1},wr=function(e,r){var i=e.setup.pinch,n=i.disabled,t=i.excluded,o=e.isInitialized,s=r.target,l=o&&!n&&s;if(!l)return!1;var c=Oe(s,t);return!c},jr=function(e){var r=e.setup.pinch.disabled,i=e.isInitialized,n=e.pinchStartDistance,t=i&&!r&&n;return!!t},Pr=function(e,r,i){var n=i.getBoundingClientRect(),t=e.touches,o=$(t[0].clientX-n.left,5),s=$(t[0].clientY-n.top,5),l=$(t[1].clientX-n.left,5),c=$(t[1].clientY-n.top,5);return{x:(o+l)/2/r,y:(s+c)/2/r}},Ii=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Ar=function(e,r){var i=e.pinchStartScale,n=e.pinchStartDistance,t=e.setup,o=t.maxScale,s=t.minScale,l=t.zoomAnimation,c=t.disablePadding,m=l.size,p=l.disabled;if(!i||n===null||!r)throw new Error("Pinch touches distance was not provided");if(r<0)return e.transformState.scale;var d=r/n,h=d*i;return De($(h,2),s,o,m,!p&&!c)},Tr=160,Yr=100,Dr=function(e,r){var i=e.props,n=i.onWheelStart,t=i.onZoomStart;e.wheelStopEventTimer||(q(e),k(z(e),r,n),k(z(e),r,t))},Xr=function(e,r){var i=e.props,n=i.onWheel,t=i.onZoom,o=e.contentComponent,s=e.setup,l=e.transformState,c=l.scale,m=s.limitToBounds,p=s.centerZoomedOut,d=s.zoomAnimation,h=s.wheel,b=s.disablePadding,x=s.smooth,P=d.size,Y=d.disabled,S=h.step,M=h.smoothStep;if(!o)throw new Error("Component not mounted");r.preventDefault(),r.stopPropagation();var W=xr(r,null),F=x?M*Math.abs(r.deltaY):S,C=Sr(e,W,F,!r.ctrlKey);if(c!==C){var N=ue(e,C),L=Ji(r,o,c),B=Y||P===0||p||b,V=m&&B,Z=Be(e,L.x,L.y,C,N,V),G=Z.x,K=Z.y;e.previousWheelEvent=r,e.setTransformState(C,G,K),k(z(e),r,n),k(z(e),r,t)}},zr=function(e,r){var i=e.props,n=i.onWheelStop,t=i.onZoomStop;ai(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&($i(e,r.x,r.y),e.wheelAnimationTimer=null)},Yr);var o=Cr(e,r);o&&(ai(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,k(z(e),r,n),k(z(e),r,t))},Tr))},en=function(e){for(var r=0,i=0,n=0;n<2;n+=1)r+=e.touches[n].clientX,i+=e.touches[n].clientY;var t=r/2,o=i/2;return{x:t,y:o}},kr=function(e,r){var i=Ii(r);e.pinchStartDistance=i,e.lastDistance=i,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var n=en(r);e.pinchLastCenterX=n.x,e.pinchLastCenterY=n.y,q(e)},Er=function(e,r){var i=e.contentComponent,n=e.pinchStartDistance,t=e.wrapperComponent,o=e.transformState.scale,s=e.setup,l=s.limitToBounds,c=s.centerZoomedOut,m=s.zoomAnimation,p=s.alignmentAnimation,d=m.disabled,h=m.size;if(!(n===null||!i)){var b=Pr(r,o,i);if(!(!Number.isFinite(b.x)||!Number.isFinite(b.y))){var x=Ii(r),P=Ar(e,x),Y=en(r),S=Y.x-(e.pinchLastCenterX||0),M=Y.y-(e.pinchLastCenterY||0);if(!(P===o&&S===0&&M===0)){e.pinchLastCenterX=Y.x,e.pinchLastCenterY=Y.y;var W=ue(e,P),F=d||h===0||c,C=l&&F,N=Be(e,b.x,b.y,P,W,C),L=N.x,B=N.y;e.pinchMidpoint=b,e.lastDistance=x;var V=p.sizeX,Z=p.sizeY,G=re(e,V),K=re(e,Z),te=L+S,ce=B+M,pe=Ye(te,ce,W,l,G,K,t),fe=pe.x,me=pe.y;e.setTransformState(P,fe,me)}}}},Wr=function(e){var r=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,$i(e,r==null?void 0:r.x,r==null?void 0:r.y)},nn=function(e,r){var i=e.props.onZoomStop,n=e.setup.doubleClick.animationTime;ai(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,k(z(e),r,i)},n)},Nr=function(e,r){var i=e.props,n=i.onZoomStart,t=i.onZoom,o=e.setup.doubleClick,s=o.animationTime,l=o.animationType;k(z(e),r,n),Ui(e,s,l,function(){return k(z(e),r,t)}),nn(e,r)};function _r(e,r){return e==="toggle"?r===1?1:-1:e==="zoomOut"?-1:1}function Mr(e,r){var i=e.setup,n=e.doubleClickStopEventTimer,t=e.transformState,o=e.contentComponent,s=t.scale,l=e.props,c=l.onZoomStart,m=l.onZoom,p=i.doubleClick,d=p.disabled,h=p.mode,b=p.step,x=p.animationTime,P=p.animationType;if(!d&&!n){if(h==="reset")return Nr(e,r);if(!o)return console.error("No ContentComponent found");var Y=_r(h,e.transformState.scale),S=Qi(e,Y,b);if(s!==S){k(z(e),r,c);var M=Ji(r,o,s),W=si(e,S,M.x,M.y);if(!W)return console.error("Error during zoom event. New transformation state was not calculated.");k(z(e),r,m),ae(e,W,x,P),nn(e,r)}}}var Br=function(e,r){var i=e.isInitialized,n=e.setup,t=e.wrapperComponent,o=n.doubleClick,s=o.disabled,l=o.excluded,c=r.target,m=t==null?void 0:t.contains(c),p=i&&c&&m&&!s;if(!p)return!1;var d=Oe(c,l);return!d},Or=function(){function e(r){var i=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){i.initializeWindowEvents()},this.unmount=function(){i.cleanupWindowEvents()},this.update=function(n){i.props=n,ue(i,i.transformState.scale),i.setup=Bi(n)},this.initializeWindowEvents=function(){var n,t,o=ei(),s=(n=i.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,l=s==null?void 0:s.defaultView;(t=i.wrapperComponent)===null||t===void 0||t.addEventListener("wheel",i.onWheelPanning,o),l==null||l.addEventListener("mousedown",i.onPanningStart,o),l==null||l.addEventListener("mousemove",i.onPanning,o),l==null||l.addEventListener("mouseup",i.onPanningStop,o),s==null||s.addEventListener("mouseleave",i.clearPanning,o),l==null||l.addEventListener("keyup",i.setKeyUnPressed,o),l==null||l.addEventListener("keydown",i.setKeyPressed,o)},this.cleanupWindowEvents=function(){var n,t,o=ei(),s=(n=i.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,l=s==null?void 0:s.defaultView;l==null||l.removeEventListener("mousedown",i.onPanningStart,o),l==null||l.removeEventListener("mousemove",i.onPanning,o),l==null||l.removeEventListener("mouseup",i.onPanningStop,o),s==null||s.removeEventListener("mouseleave",i.clearPanning,o),l==null||l.removeEventListener("keyup",i.setKeyUnPressed,o),l==null||l.removeEventListener("keydown",i.setKeyPressed,o),document.removeEventListener("mouseleave",i.clearPanning,o),q(i),(t=i.observer)===null||t===void 0||t.disconnect()},this.handleInitializeWrapperEvents=function(n){var t=ei();n.addEventListener("wheel",i.onWheelZoom,t),n.addEventListener("dblclick",i.onDoubleClick,t),n.addEventListener("touchstart",i.onTouchPanningStart,t),n.addEventListener("touchmove",i.onTouchPanning,t),n.addEventListener("touchend",i.onTouchPanningStop,t)},this.handleInitialize=function(n,t){var o=!1,s=i.setup.centerOnInit,l=function(c,m){for(var p=0,d=c;p<d.length;p++){var h=d[p];if(h.target===m)return!0}return!1};i.applyTransformation(),i.onInitCallbacks.forEach(function(c){c(z(i))}),i.observer=new ResizeObserver(function(c){if(l(c,n)||l(c,t))if(s&&!o){var m=t.offsetWidth,p=t.offsetHeight;(m>0||p>0)&&(o=!0,i.setCenter())}else q(i),ue(i,i.transformState.scale),oi(i,0)}),i.observer.observe(n),i.observer.observe(t)},this.onWheelZoom=function(n){var t=i.setup.disabled;if(!t){var o=br(i,n);if(o){var s=i.isPressingKeys(i.setup.wheel.activationKeys);s&&(Dr(i,n),Xr(i,n),zr(i,n))}}},this.onWheelPanning=function(n){var t=i.setup,o=t.disabled,s=t.wheel,l=t.panning;if(!(!i.wrapperComponent||!i.contentComponent||o||!s.wheelDisabled||l.disabled||!l.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var c=i.transformState,m=c.positionX,p=c.positionY,d=m-n.deltaX,h=p-n.deltaY,b=l.lockAxisX?m:d,x=l.lockAxisY?p:h,P=i.setup.alignmentAnimation,Y=P.sizeX,S=P.sizeY,M=re(i,Y),W=re(i,S);b===m&&x===p||Vi(i,b,x,M,W)}},this.onPanningStart=function(n){var t=i.setup.disabled,o=i.props.onPanningStart;if(!t){var s=ki(i,n);if(s){var l=i.isPressingKeys(i.setup.panning.activationKeys);l&&(n.button===0&&!i.setup.panning.allowLeftClickPan||n.button===1&&!i.setup.panning.allowMiddleClickPan||n.button===2&&!i.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),q(i),Ni(i,n),k(z(i),n,o)))}}},this.onPanning=function(n){var t=i.setup.disabled,o=i.props.onPanning;if(!t){var s=Ei(i);if(s){var l=i.isPressingKeys(i.setup.panning.activationKeys);l&&(n.preventDefault(),n.stopPropagation(),_i(i,n.clientX,n.clientY),k(z(i),n,o))}}},this.onPanningStop=function(n){var t=i.props.onPanningStop;i.isPanning&&(or(i),k(z(i),n,t))},this.onPinchStart=function(n){var t=i.setup.disabled,o=i.props,s=o.onPinchingStart,l=o.onZoomStart;if(!t){var c=wr(i,n);c&&(kr(i,n),q(i),k(z(i),n,s),k(z(i),n,l))}},this.onPinch=function(n){var t=i.setup.disabled,o=i.props,s=o.onPinching,l=o.onZoom;if(!t){var c=jr(i);c&&(n.preventDefault(),n.stopPropagation(),Er(i,n),k(z(i),n,s),k(z(i),n,l))}},this.onPinchStop=function(n){var t=i.props,o=t.onPinchingStop,s=t.onZoomStop;i.pinchStartScale&&(Wr(i),k(z(i),n,o),k(z(i),n,s))},this.onTouchPanningStart=function(n){var t=i.setup.disabled,o=i.props.onPanningStart;if(!t){var s=ki(i,n);if(s){var l=i.lastTouch&&+new Date-i.lastTouch<200&&n.touches.length===1;if(!l){i.lastTouch=+new Date,q(i);var c=n.touches,m=c.length===1,p=c.length===2;m&&(q(i),Ni(i,n),k(z(i),n,o)),p&&i.onPinchStart(n)}}}},this.onTouchPanning=function(n){var t=i.setup.disabled,o=i.props.onPanning;if(i.isPanning&&n.touches.length===1){if(t)return;var s=Ei(i);if(!s)return;n.preventDefault(),n.stopPropagation();var l=n.touches[0];_i(i,l.clientX,l.clientY),k(z(i),n,o)}else n.touches.length>1&&i.onPinch(n)},this.onTouchPanningStop=function(n){i.onPanningStop(n),i.onPinchStop(n)},this.onDoubleClick=function(n){var t=i.setup.disabled;if(!t){var o=Br(i,n);o&&Mr(i,n)}},this.clearPanning=function(n){i.isPanning&&i.onPanningStop(n)},this.setKeyPressed=function(n){i.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){i.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(t){return i.pressedKeys[t]}):!0},this.setTransformState=function(n,t,o){var s=i.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(t)&&!Number.isNaN(o)){n!==i.transformState.scale&&(i.transformState.previousScale=i.transformState.scale,i.transformState.scale=n),i.transformState.positionX=t,i.transformState.positionY=o,i.applyTransformation();var l=z(i);i.onChangeCallbacks.forEach(function(c){return c(l)}),k(l,{scale:n,positionX:t,positionY:o},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(i.wrapperComponent&&i.contentComponent){var n=Gi(i.transformState.scale,i.wrapperComponent,i.contentComponent);i.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,t,o){return i.props.customTransform?i.props.customTransform(n,t,o):hr(n,t,o)},this.applyTransformation=function(){if(!(!i.mounted||!i.contentComponent)){var n=i.transformState,t=n.scale,o=n.positionX,s=n.positionY,l=i.handleTransformStyles(o,s,t);i.contentComponent.style.transform=l}},this.getContext=function(){return z(i)},this.onChange=function(n){return i.onChangeCallbacks.has(n)||i.onChangeCallbacks.add(n),function(){i.onChangeCallbacks.delete(n)}},this.onInit=function(n){return i.onInitCallbacks.has(n)||i.onInitCallbacks.add(n),function(){i.onInitCallbacks.delete(n)}},this.init=function(n,t){i.cleanupWindowEvents(),i.wrapperComponent=n,i.contentComponent=t,ue(i,i.transformState.scale),i.handleInitializeWrapperEvents(n),i.handleInitialize(n,t),i.initializeWindowEvents(),i.isInitialized=!0;var o=z(i);k(o,void 0,i.props.onInit)},this.props=r,this.setup=Bi(this.props),this.transformState=Ki(this.props)}return e}(),li=ne.createContext(null),Lr=function(e,r){return typeof e=="function"?e(r):e},Zr=ne.forwardRef(function(e,r){var i=T.useRef(new Or(e)).current,n=Lr(e.children,ri(i));return T.useImperativeHandle(r,function(){return ri(i)},[i]),T.useEffect(function(){i.update(e)},[i,e]),ne.createElement(li.Provider,{value:i},n)});ne.forwardRef(function(e,r){var i=T.useRef(null),n=T.useContext(li);return T.useEffect(function(){return n.onChange(function(t){if(i.current){var o=0,s=0;i.current.style.transform=n.handleTransformStyles(o,s,1/t.instance.transformState.scale)}})},[n]),ne.createElement("div",ie({},e,{ref:gr([i,r])}))});function Rr(e,r){r===void 0&&(r={});var i=r.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",i==="top"&&n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}}var Hr=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Oi={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Rr(Hr);var Fr=function(e){var r=e.children,i=e.wrapperClass,n=i===void 0?"":i,t=e.contentClass,o=t===void 0?"":t,s=e.wrapperStyle,l=e.contentStyle,c=e.wrapperProps,m=c===void 0?{}:c,p=e.contentProps,d=p===void 0?{}:p,h=T.useContext(li),b=h.init,x=h.cleanupWindowEvents,P=T.useRef(null),Y=T.useRef(null);return T.useEffect(function(){var S=P.current,M=Y.current;return S!==null&&M!==null&&b&&(b==null||b(S,M)),function(){x==null||x()}},[]),ne.createElement("div",ie({},m,{ref:P,className:"".concat(ni.wrapperClass," ").concat(Oi.wrapper," ").concat(n),style:s}),ne.createElement("div",ie({},d,{ref:Y,className:"".concat(ni.contentClass," ").concat(Oi.content," ").concat(o),style:l}),r))},di={},Vr=Li;Object.defineProperty(di,"__esModule",{value:!0});var rn=di.default=void 0,$r=Vr(Zi()),Kr=a;rn=di.default=(0,$r.default)((0,Kr.jsx)("path",{d:"m5 9 1.41 1.41L11 5.83V22h2V5.83l4.59 4.59L19 9l-7-7z"}),"North");var ui={},Qr=Li;Object.defineProperty(ui,"__esModule",{value:!0});var an=ui.default=void 0,qr=Qr(Zi()),Ur=a;an=ui.default=(0,qr.default)((0,Ur.jsx)("path",{d:"m21.9 21.9-8.49-8.49-9.82-9.82L2.1 2.1.69 3.51 3 5.83V19c0 1.1.9 2 2 2h13.17l2.31 2.31zM5 18l3.5-4.5 2.5 3.01L12.17 15l3 3zm16 .17L5.83 3H19c1.1 0 2 .9 2 2z"}),"ImageNotSupported");const na=()=>{const e=Dn(),r=X(u=>u.locations),i=X(u=>u.playTrack);X(u=>u.stopTrack);const n=X(u=>u.getSublocationsByParentId),t=X(u=>u.getAllTopLevelLocations),o=X(u=>u.refreshAssets);X(u=>u.hasAssets);const s=X(u=>u.isLoading),l=X(u=>u.characters),c=X(u=>u.combats);X(u=>u.saveDataToIndexedDB);const m=X(u=>u.selectedLocationId),p=X(u=>u.setSelectedLocationId),[d,h]=T.useState(null),[b,x]=T.useState(!1),[P,Y]=T.useState(!1),[S,M]=T.useState(!1),[W,F]=T.useState(!1),[C,N]=T.useState(null),[L,B]=T.useState(!1),V=T.useRef(null),Z=T.useRef(null),[G,K]=T.useState(!1),[te,ce]=T.useState([]),[pe,fe]=T.useState([]),me=r.length>0,[ye,xe]=T.useState(""),[Xe,Se]=T.useState({}),[E,J]=T.useState(null),[Ce,we]=T.useState(!1),[O,Le]=T.useState(null),[ze,oe]=T.useState(!1),[se,ke]=T.useState(0),[Ze,ve]=T.useState(!1);T.useEffect(()=>{if(r.length>0)if(m){const u=r.find(f=>f.id===m);if(u)h(u),x(!0);else{const f=t();f.length>0&&(h(f[0]),p(f[0].id))}}else{const u=t();u.length>0&&(h(u[0]),p(u[0].id))}},[r,m]),T.useEffect(()=>{d&&((async()=>{K(!0);try{if(d.imageUrl){const f=await Ne.getAssetUrl("images",d.imageUrl);xe(f)}else xe("")}catch(f){console.error("Error loading image:",f),xe("")}finally{K(!1)}})(),p(d.id))},[d==null?void 0:d.id,d==null?void 0:d.imageUrl]),T.useEffect(()=>{if(L){const u=async()=>{try{const v=await Ne.getAssets("audio");ce(v.map(g=>g.name))}catch(v){console.error("Failed to load audio assets:",v),ce([])}},f=async()=>{try{const v=await Ne.getAssets("images");fe(v.map(g=>g.name))}catch(v){console.error("Failed to load image assets:",v),fe([])}};u(),f()}},[L]);const Ee=async(u,f)=>{if(f.stopPropagation(),S){N(u),B(!0);return}if((d==null?void 0:d.id)!==u.id){if(h(u),x(!0),u.entrySound){const v=await Ne.getAssetUrl("audio",u.entrySound);v&&new zn.Howl({src:[v],loop:!1,volume:X.getState().volume}).play()}if(u.backgroundMusic){const v=`/audio/${u.backgroundMusic}`,w=!(!!u.parentLocationId&&u.mixWithParent===!0);i(v,{replace:w,locationId:u.id})}}else x(!b)},ci=async()=>{if(await o(),d){const u=d.id;h(null),setTimeout(()=>{const f=r.find(v=>v.id===u);f&&h(f)},100)}},tn=u=>{if(!S||!d||!V.current||!Z.current)return;const f=Z.current.getBoundingClientRect(),v=(u.clientX-f.left)/f.width,g=(u.clientY-f.top)/f.height,w={name:"New Location",description:"Add a description",coordinates:[v,g],parentLocationId:d.id},_=X.getState().addLocation;_(w),X.getState().saveDataToIndexedDB()},on=(u,f)=>{if(!S)return;const v=new Image;v.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",f.dataTransfer.setDragImage(v,0,0),f.dataTransfer.setData("locationId",u),F(!0)},sn=u=>{S&&u.preventDefault()},ln=u=>{if(!S||!V.current||!Z.current)return;u.preventDefault();const f=u.dataTransfer.getData("locationId");if(!f||!X.getState().locations.find(le=>le.id===f))return;const w=Z.current.getBoundingClientRect(),_=(u.clientX-w.left)/w.width,y=(u.clientY-w.top)/w.height,D=X.getState().updateLocation;D(f,{coordinates:[_,y]}),X.getState().saveDataToIndexedDB(),F(!1)},dn=()=>{M(!S),L&&(B(!1),N(null))},un=()=>d?n(d.id).map(f=>{if(!f.coordinates)return null;const[v,g]=f.coordinates,w=(d==null?void 0:d.id)===f.id;return a.jsx(Yi,{title:S?"Drag to move, click to edit":f.name,arrow:!0,placement:"top",children:a.jsxs(j,{sx:{position:"absolute",left:`${v*100}%`,top:`${g*100}%`,transform:"translate(-50%, -50%)",zIndex:5,cursor:S?"move":"pointer",transition:"all 0.2s ease-in-out","&:hover":{transform:"translate(-50%, -50%) scale(1.2)"}},onClick:_=>Ee(f,_),draggable:S,onDragStart:_=>on(f.id,_),children:[a.jsx(Ve,{color:w?"primary":S?"secondary":"error",sx:{fontSize:w?"2.5rem":"2rem",filter:"drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.9))"}}),a.jsx(A,{variant:"caption",sx:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textAlign:"center",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",filter:"drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.5))"},children:f.name})]})},f.id)}):null,pi=(u,f=0)=>{const v=n(u.id),g=v.length>0;return a.jsxs(ne.Fragment,{children:[a.jsx(R,{disablePadding:!0,sx:{pl:f*2},children:a.jsxs(Yn,{selected:(d==null?void 0:d.id)===u.id,onClick:w=>Ee(u,w),children:[a.jsx(de,{sx:{minWidth:36},children:a.jsx(Ve,{})}),a.jsx(H,{primary:u.name}),g&&a.jsx(Q,{size:"small"})]})}),g&&a.jsx(Ge,{in:(d==null?void 0:d.id)===u.id,timeout:"auto",unmountOnExit:!0,children:a.jsx(U,{disablePadding:!0,children:v.map(w=>pi(w,f+1))})})]},u.id)},cn=()=>{if(!d)return null;X.getState().mapConfig.worldWidth,X.getState().mapConfig.worldHeight;const u=.3;return r.filter(f=>{var v;return((v=d.connectedLocations)==null?void 0:v.includes(f.id))&&f.id!==d.id}).map(f=>{if(!d.coordinates||!f.coordinates)return null;const[v,g]=d.coordinates,[w,_]=f.coordinates,y=w-v,D=_-g,je=Math.atan2(D,y)*(180/Math.PI)+90,He=Math.sqrt(y*y+D*D),hn=y/He,gn=D/He,bn=.5,yn=.5,xn=bn+hn*u,Sn=yn+gn*u;return a.jsx(Yi,{title:`${f.name} (${He.toFixed(1)} meters)`,placement:"top",arrow:!0,children:a.jsx(Q,{onClick:xi=>{xi.stopPropagation(),Ee(f,xi)},sx:{position:"absolute",zIndex:10,color:"white",backgroundColor:"rgba(0,0,0,0.5)","&:hover":{backgroundColor:"rgba(0,0,0,0.8)"},left:`${xn*100}%`,top:`${Sn*100}%`,transform:"translate(-50%, -50%)"},children:a.jsx(rn,{fontSize:"large",sx:{transform:`rotate(${je}deg)`}})})},`tooltip-${f.id}`)})},fi=u=>{Se(f=>({...f,[u]:!f[u]}))},Re=u=>l.filter(f=>f.locationId===u),mi=u=>{const f=Re(u),v=n(u);let g=[...f];return v.forEach(w=>{const _=mi(w.id);g=[...g,..._]}),g},vi=(u,f)=>{f.stopPropagation(),J(u),we(!0)},pn=()=>{if(!d)return null;const u=Re(d.id),f=mi(d.id),v=f.length>u.length;return f.length===0?a.jsx(j,{sx:{p:2},children:a.jsx(A,{variant:"body2",color:"text.secondary",children:"No NPCs in this location"})}):a.jsx(j,{children:a.jsxs(U,{dense:!0,children:[u.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(R,{children:a.jsx(H,{primary:`NPCs in ${d.name}`,primaryTypographyProps:{variant:"subtitle1",fontWeight:"bold"}})}),u.map(g=>a.jsxs(R,{button:!0,onClick:w=>vi(g,w),sx:{cursor:"pointer"},children:[a.jsx(de,{children:g.type==="npc"?a.jsx(Je,{fontSize:"small"}):g.type==="merchant"?a.jsx(Ti,{fontSize:"small"}):a.jsx(be,{color:"error",fontSize:"small"})}),a.jsx(H,{primary:g.name,secondary:g.description})]},g.id)),v&&a.jsx(ge,{sx:{my:1}})]}),v&&hi(d.id)]})})},hi=u=>{const f=n(u);return a.jsx(a.Fragment,{children:f.map(v=>{const g=Re(v.id);if(g.length===0)return null;const w=`npc-section-${v.id}`,_=Xe[w]||!1;return a.jsxs(j,{children:[a.jsxs(R,{button:!0,onClick:()=>fi(w),sx:{pl:2},children:[a.jsx(H,{primary:v.name,primaryTypographyProps:{variant:"subtitle2"}}),_?a.jsx(Di,{}):a.jsx(Xi,{})]}),a.jsx(Ge,{in:_,timeout:"auto",unmountOnExit:!0,children:a.jsx(U,{component:"div",disablePadding:!0,children:g.map(y=>a.jsxs(R,{button:!0,onClick:D=>vi(y,D),sx:{pl:4,cursor:"pointer"},children:[a.jsx(de,{children:y.type==="npc"?a.jsx(Je,{fontSize:"small"}):y.type==="merchant"?a.jsx(Ti,{fontSize:"small"}):a.jsx(be,{color:"error",fontSize:"small"})}),a.jsx(H,{primary:y.name})]},y.id))})}),hi(v.id)]},v.id)})})},fn=()=>{var _;if(!E)return null;const u=((_=r.find(y=>y.id===E.locationId))==null?void 0:_.name)||"Unknown",f=X.getState().updateCharacter,v=()=>{if(!E||!S)return;const y={id:crypto.randomUUID(),name:"New Item",description:"Item description",quantity:1},D=[...E.inventory||[],y];f(E.id,{inventory:D}),J({...E,inventory:D})},g=(y,D)=>{if(!E||!S)return;const le=(E.inventory||[]).map(je=>je.id===y?{...je,...D}:je);f(E.id,{inventory:le}),J({...E,inventory:le})},w=y=>{if(!E||!S)return;const D=(E.inventory||[]).filter(le=>le.id!==y);f(E.id,{inventory:D}),J({...E,inventory:D})};return a.jsxs(j,{sx:{p:2,minWidth:300,maxWidth:400},children:[a.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[a.jsx(A,{variant:"h6",children:E.name}),a.jsx(Q,{onClick:()=>we(!1),size:"small",children:a.jsx(We,{})})]}),a.jsx(A,{variant:"subtitle1",color:"text.secondary",children:E.type==="npc"?"NPC":E.type==="merchant"?"Merchant":"Enemy"}),a.jsx(A,{variant:"body2",paragraph:!0,children:E.description}),a.jsxs(j,{sx:{mb:2},children:[a.jsx(A,{variant:"subtitle2",children:"Location:"}),a.jsx(A,{variant:"body2",children:u})]}),a.jsx(ge,{sx:{my:2}}),a.jsxs(j,{sx:{mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(A,{variant:"h6",children:"Inventory"}),S&&a.jsx(Q,{size:"small",onClick:v,color:"primary",children:a.jsx(Xn,{})})]}),!E.inventory||E.inventory.length===0?a.jsx(A,{variant:"body2",color:"text.secondary",children:"No items in inventory"}):a.jsx(U,{dense:!0,children:E.inventory.map(y=>a.jsx(R,{secondaryAction:S?a.jsx(Q,{edge:"end",size:"small",onClick:()=>w(y.id),children:a.jsx(Ai,{fontSize:"small"})}):null,children:a.jsx(H,{primary:S?a.jsx(ee,{size:"small",value:y.name,onChange:D=>g(y.id,{name:D.target.value}),fullWidth:!0,variant:"standard",margin:"dense"}):y.name,secondary:a.jsxs(a.Fragment,{children:[S?a.jsx(ee,{size:"small",value:y.description,onChange:D=>g(y.id,{description:D.target.value}),fullWidth:!0,variant:"standard",margin:"dense",multiline:!0}):y.description,a.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[a.jsxs(j,{children:["Qty: ",S?a.jsx(ee,{size:"small",type:"number",value:y.quantity,onChange:D=>g(y.id,{quantity:parseInt(D.target.value)||0}),variant:"standard",sx:{width:50}}):y.quantity]}),y.price!==void 0&&a.jsxs(j,{children:["Price: ",S?a.jsx(ee,{size:"small",type:"number",value:y.price,onChange:D=>g(y.id,{price:parseInt(D.target.value)||0}),variant:"standard",sx:{width:60}}):y.price]}),S&&y.price===void 0&&a.jsx(I,{size:"small",onClick:()=>g(y.id,{price:0}),children:"Add Price"})]})]})})},y.id))})]})},gi=u=>{const f=c.filter(w=>w.locationId===u),v=n(u);let g=[...f];return v.forEach(w=>{const _=gi(w.id);g=[...g,..._]}),g},bi=(u,f)=>{f.stopPropagation(),Le(u),oe(!0)},mn=()=>{if(!d)return null;const u=c.filter(g=>g.locationId===d.id),f=gi(d.id),v=f.length>u.length;return f.length===0?a.jsx(j,{sx:{p:2},children:a.jsx(A,{variant:"body2",color:"text.secondary",children:"No combats in this location"})}):a.jsx(j,{children:a.jsxs(U,{dense:!0,children:[u.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(R,{children:a.jsx(H,{primary:`Combats in ${d.name}`,primaryTypographyProps:{variant:"subtitle1",fontWeight:"bold"}})}),u.map(g=>a.jsxs(R,{button:!0,onClick:w=>bi(g,w),sx:{cursor:"pointer"},children:[a.jsx(de,{children:a.jsx(be,{color:"primary",fontSize:"small"})}),a.jsx(H,{primary:g.name,secondary:`Difficulty: ${g.difficulty||"Medium"}`})]},g.id)),v&&a.jsx(ge,{sx:{my:1}})]}),v&&yi(d.id)]})})},yi=u=>{const f=n(u);return a.jsx(a.Fragment,{children:f.map(v=>{const g=c.filter(y=>y.locationId===v.id);if(g.length===0)return null;const w=`combat-section-${v.id}`,_=Xe[w]||!1;return a.jsxs(j,{children:[a.jsxs(R,{button:!0,onClick:()=>fi(w),sx:{pl:2},children:[a.jsx(H,{primary:v.name,primaryTypographyProps:{variant:"subtitle2"}}),_?a.jsx(Di,{}):a.jsx(Xi,{})]}),a.jsx(Ge,{in:_,timeout:"auto",unmountOnExit:!0,children:a.jsx(U,{component:"div",disablePadding:!0,children:g.map(y=>a.jsxs(R,{button:!0,onClick:D=>bi(y,D),sx:{pl:4,cursor:"pointer"},children:[a.jsx(de,{children:a.jsx(be,{color:"primary",fontSize:"small"})}),a.jsx(H,{primary:y.name,secondary:`Difficulty: ${y.difficulty||"Medium"}`})]},y.id))})}),yi(v.id)]},v.id)})})},vn=()=>{var f;if(!O)return null;const u=((f=r.find(v=>v.id===O.locationId))==null?void 0:f.name)||"Unknown";return a.jsxs(j,{sx:{p:2,minWidth:300,maxWidth:400},children:[a.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[a.jsx(A,{variant:"h6",children:O.name}),a.jsx(Q,{onClick:()=>oe(!1),size:"small",children:a.jsx(We,{})})]}),a.jsxs(A,{variant:"subtitle1",color:"text.secondary",children:["Difficulty: ",O.difficulty||"Medium"]}),a.jsx(A,{variant:"body2",paragraph:!0,children:O.description}),a.jsxs(j,{sx:{mb:2},children:[a.jsx(A,{variant:"subtitle2",children:"Location:"}),a.jsx(A,{variant:"body2",children:u})]}),a.jsx(I,{variant:"contained",color:"primary",fullWidth:!0,startIcon:a.jsx(be,{}),onClick:()=>{oe(!1),e("/combat-session",{state:{combatId:O.id}})},sx:{mb:3},children:"Start Combat"}),a.jsx(ge,{sx:{my:2}}),a.jsx(A,{variant:"subtitle2",children:"Player Characters:"}),O.playerCharacters.length===0?a.jsx(A,{variant:"body2",color:"text.secondary",children:"No player characters assigned"}):a.jsx(U,{dense:!0,children:O.playerCharacters.map(v=>a.jsxs(R,{children:[a.jsx(de,{children:a.jsx(Je,{fontSize:"small"})}),a.jsx(H,{primary:v.name})]},v.id))}),a.jsx(ge,{sx:{my:2}}),a.jsx(A,{variant:"subtitle2",children:"Enemies:"}),O.enemies.length===0?a.jsx(A,{variant:"body2",color:"text.secondary",children:"No enemies assigned"}):a.jsx(U,{dense:!0,children:Object.entries(O.enemies.reduce((v,g)=>(v[g.id]=v[g.id]||{enemy:g,count:0},v[g.id].count++,v),{})).map(([v,{enemy:g,count:w}])=>a.jsxs(R,{children:[a.jsx(de,{children:a.jsx(be,{color:"error",fontSize:"small"})}),a.jsx(H,{primary:`${g.name} ${w>1?`(x${w})`:""}`,secondary:`HP: ${g.hp}`})]},v))}),O.rewards&&O.rewards.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(ge,{sx:{my:2}}),a.jsx(A,{variant:"subtitle2",children:"Rewards:"}),a.jsx(U,{dense:!0,children:O.rewards.map(v=>a.jsx(R,{children:a.jsx(H,{primary:v.name,secondary:`Quantity: ${v.quantity}`})},v.id))})]})]})};return s?a.jsxs(j,{sx:{height:"calc(100vh - 64px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"background.default"},children:[a.jsx(Si,{size:60}),a.jsx(A,{variant:"h6",sx:{mt:2},children:"Loading your campaign..."})]}):me?a.jsxs(j,{sx:{display:"flex",height:"100%",overflow:"hidden"},children:[a.jsxs(Ci,{elevation:3,sx:{width:280,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",zIndex:1},children:[a.jsxs(wi,{value:b?1:0,onChange:(u,f)=>x(f===1),variant:"fullWidth",children:[a.jsx(Pe,{label:"Locations"}),a.jsx(Pe,{label:"Details",disabled:!d})]}),b?a.jsxs(j,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[a.jsxs(j,{sx:{p:2,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[a.jsxs(j,{sx:{display:"flex",alignItems:"center",mb:1},children:[a.jsx(Q,{size:"small",onClick:()=>x(!1),sx:{mr:1},children:a.jsx(Cn,{fontSize:"small"})}),a.jsx(A,{variant:"h6",noWrap:!0,children:d==null?void 0:d.name}),S&&a.jsx(Q,{size:"small",color:"primary",onClick:()=>{d&&(N(d),B(!0))},sx:{ml:"auto"},children:a.jsx(wn,{fontSize:"small"})})]}),(d==null?void 0:d.description)&&a.jsxs(j,{onClick:()=>ve(!0),sx:{cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:1,p:1},children:[a.jsx(A,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:d.description}),d.description.length>200&&a.jsx(A,{variant:"caption",color:"primary",sx:{display:"block",mt:.5},children:"Click to view full description"})]})]}),a.jsxs(j,{sx:{overflow:"auto",flexGrow:1},children:[a.jsxs(wi,{value:se,onChange:(u,f)=>ke(f),variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:[a.jsx(Pe,{label:"Info"}),a.jsx(Pe,{label:"NPCs"}),a.jsx(Pe,{label:"Combats"})]}),se===0&&a.jsxs(j,{sx:{p:2},children:[(d==null?void 0:d.backgroundMusic)&&a.jsxs(j,{sx:{mb:2},children:[a.jsx(A,{variant:"subtitle2",children:"Background Music:"}),a.jsx(Fe,{icon:a.jsx(ji,{}),label:d.backgroundMusic,size:"small",color:"primary",variant:"outlined",onClick:()=>{d!=null&&d.backgroundMusic&&i(d.backgroundMusic,{replace:!0,locationId:d.id,loop:!0})}})]}),(d==null?void 0:d.entrySound)&&a.jsxs(j,{sx:{mb:2},children:[a.jsx(A,{variant:"subtitle2",children:"Entry Sound:"}),a.jsx(Fe,{icon:a.jsx(ji,{}),label:d.entrySound,size:"small",color:"secondary",variant:"outlined",onClick:()=>{d!=null&&d.entrySound&&i(d.entrySound,{replace:!1,locationId:d.id})}})]}),(d==null?void 0:d.connectedLocations)&&d.connectedLocations.length>0&&a.jsxs(j,{sx:{mb:2},children:[a.jsx(A,{variant:"subtitle2",children:"Connected Locations:"}),a.jsx(j,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:d.connectedLocations.map(u=>{const f=r.find(v=>v.id===u);return f?a.jsx(Fe,{icon:a.jsx(Ve,{}),label:f.name,size:"small",color:"info",variant:"outlined",onClick:()=>Ee(f,{})},u):null})})]})]}),se===1&&pn(),se===2&&mn()]})]}):a.jsx(U,{sx:{overflowY:"auto",flexGrow:1,"& .MuiListItemButton-root.Mui-selected":{bgcolor:"primary.light","&:hover":{bgcolor:"primary.light"}}},children:t().map(u=>pi(u))})]}),a.jsxs(j,{ref:Z,sx:{position:"relative",flex:1,height:"100%",overflow:"hidden",backgroundColor:"black",zIndex:1},onDragOver:sn,onDrop:ln,onClick:tn,children:[s?a.jsxs(j,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.2)"},children:[a.jsx(Si,{size:60}),a.jsx(A,{variant:"body1",sx:{mt:2},children:"Loading map..."})]}):!ye||!d?a.jsxs(j,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.1)"},children:[a.jsx(an,{sx:{fontSize:60,opacity:.7}}),a.jsx(A,{variant:"body1",sx:{mt:2,opacity:.7},children:"No map image available"})]}):a.jsx(Zr,{initialScale:1,initialPositionX:0,initialPositionY:0,minScale:.5,maxScale:5,wheel:{step:.1},limitToBounds:!1,disablePadding:!0,disabled:S,children:()=>a.jsx(a.Fragment,{children:a.jsx(Fr,{wrapperStyle:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0},contentStyle:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:a.jsxs(j,{sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:[a.jsx("img",{ref:V,src:ye,alt:(d==null?void 0:d.name)||"Map",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",position:"relative",zIndex:1},onLoad:()=>K(!1),onError:()=>K(!1)}),un(),cn()]})})})},"main-map"),!me&&!s&&a.jsx(j,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10},children:a.jsxs(j,{sx:{textAlign:"center",maxWidth:400,p:3,bgcolor:"rgba(0,0,0,0.8)",color:"white",borderRadius:2},children:[a.jsx(A,{variant:"h5",gutterBottom:!0,children:"No locations found"}),a.jsx(A,{variant:"body1",paragraph:!0,children:"Your campaign doesn't have any locations yet. Import data or create locations in edit mode."}),a.jsx(I,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>Y(!0),children:"Import Assets"}),a.jsx(I,{variant:"outlined",color:"secondary",onClick:dn,children:S?"Exit Edit Mode":"Enter Edit Mode"})]})})]}),a.jsxs(Ae,{open:L,onClose:()=>B(!1),maxWidth:"md",fullWidth:!0,children:[a.jsxs($e,{children:["Edit Location",a.jsx(Q,{"aria-label":"close",onClick:()=>B(!1),sx:{position:"absolute",right:8,top:8},children:a.jsx(jn,{})})]}),a.jsx(Ke,{dividers:!0,children:C&&a.jsxs(Pn,{spacing:2,children:[a.jsx(ee,{label:"Name",fullWidth:!0,value:C.name,onChange:u=>N({...C,name:u.target.value})}),a.jsx(ee,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:C.description,onChange:u=>N({...C,description:u.target.value})}),C&&C.coordinates&&a.jsxs(j,{sx:{display:"flex",gap:2},children:[a.jsx(ee,{label:"X Coordinate",type:"number",InputProps:{inputProps:{min:0,max:1,step:.01}},value:C.coordinates[0],onChange:u=>{if(C.coordinates){const f=parseFloat(u.target.value),v=C.coordinates[1];N({...C,coordinates:[f,v]})}}}),a.jsx(ee,{label:"Y Coordinate",type:"number",InputProps:{inputProps:{min:0,max:1,step:.01}},value:C.coordinates[1],onChange:u=>{if(C.coordinates){const f=C.coordinates[0],v=parseFloat(u.target.value);N({...C,coordinates:[f,v]})}}})]}),a.jsxs(Qe,{fullWidth:!0,children:[a.jsx(qe,{children:"Background Map Image"}),a.jsxs(Ue,{value:C.imageUrl||"",label:"Background Map Image",onChange:u=>N({...C,imageUrl:u.target.value||void 0}),children:[a.jsx(he,{value:"",children:"None"}),pe.map(u=>a.jsx(he,{value:u,children:u},u))]})]}),a.jsxs(Qe,{fullWidth:!0,children:[a.jsx(qe,{children:"Background Music"}),a.jsxs(Ue,{value:C.backgroundMusic||"",label:"Background Music",onChange:u=>N({...C,backgroundMusic:u.target.value||void 0}),children:[a.jsx(he,{value:"",children:"None"}),te.map(u=>a.jsx(he,{value:u,children:u},u))]})]}),a.jsxs(Qe,{fullWidth:!0,children:[a.jsx(qe,{children:"Entry Sound"}),a.jsxs(Ue,{value:C.entrySound||"",label:"Entry Sound",onChange:u=>N({...C,entrySound:u.target.value||void 0}),children:[a.jsx(he,{value:"",children:"None"}),te.map(u=>a.jsx(he,{value:u,children:u},u))]})]}),a.jsx(An,{control:a.jsx(Tn,{checked:C.mixWithParent||!1,onChange:u=>N({...C,mixWithParent:u.target.checked})}),label:"Mix audio with parent location"})]})}),a.jsxs(Pi,{children:[C&&a.jsx(I,{color:"error",startIcon:a.jsx(Ai,{}),onClick:()=>{if(window.confirm("Are you sure you want to delete this location? This cannot be undone.")){const u=X.getState().deleteLocation;u(C.id),X.getState().saveDataToIndexedDB(),B(!1),N(null)}},children:"Delete"}),a.jsx(I,{onClick:()=>B(!1),children:"Cancel"}),a.jsx(I,{onClick:()=>{if(C){const u=X.getState().updateLocation;u(C.id,C),X.getState().saveDataToIndexedDB(),B(!1),N(null)}},variant:"contained",children:"Save"})]})]}),a.jsxs(Ae,{open:P,onClose:()=>Y(!1),maxWidth:"md",fullWidth:!0,children:[a.jsx($e,{children:a.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Asset Manager",a.jsx(Q,{edge:"end",onClick:()=>Y(!1),children:a.jsx(We,{})})]})}),a.jsx(Ke,{dividers:!0,children:a.jsx(zi,{onAssetImport:ci})})]}),a.jsx(Ae,{open:Ce,onClose:()=>we(!1),maxWidth:"sm",fullWidth:!0,children:fn()}),a.jsx(Ae,{open:ze,onClose:()=>oe(!1),maxWidth:"sm",fullWidth:!0,children:vn()}),a.jsxs(Ae,{open:Ze,onClose:()=>ve(!1),maxWidth:"md",fullWidth:!0,children:[a.jsxs($e,{children:[d==null?void 0:d.name," - Description",a.jsx(Q,{"aria-label":"close",onClick:()=>ve(!1),sx:{position:"absolute",right:8,top:8},children:a.jsx(We,{})})]}),a.jsx(Ke,{dividers:!0,children:a.jsx(A,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d==null?void 0:d.description})}),a.jsx(Pi,{children:a.jsx(I,{onClick:()=>ve(!1),children:"Close"})})]})]}):a.jsx(j,{sx:{height:"calc(100vh - 64px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:4,backgroundColor:"background.default"},children:a.jsxs(Ci,{elevation:3,sx:{maxWidth:600,width:"100%",p:4,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"rgba(45, 45, 45, 0.9)"},children:[a.jsx(A,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:2},children:"Welcome to Pen & Paper Project"}),a.jsx(A,{variant:"body1",paragraph:!0,align:"center",children:"No campaign assets found. Please upload a zip file containing your campaign assets to get started."}),a.jsx(A,{variant:"body2",paragraph:!0,align:"center",color:"text.secondary",sx:{mb:3},children:'Your zip file should contain an "audio" folder for sound files, an "images" folder for location images, and a "data" folder with your "locations.json" and "characters.json" files.'}),a.jsx(zi,{onAssetImport:ci,isFullPage:!0})]})})};export{na as MapView};
