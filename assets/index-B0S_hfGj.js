const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapView-BYgOyPi9.js","assets/mui-vendor-BNyFSCPN.js","assets/react-vendor-BzdEknB4.js","assets/utilities-BTDtKTyc.js","assets/map-vendor-CMk8R3PE.js","assets/LocationsView-DjWO71Z1.js","assets/Edit-BJCRo16S.js","assets/CharactersView-22NB-tsY.js","assets/CombatsView-yuOhT75-.js","assets/CombatSessionView-2cfrWFmM.js"])))=>i.map(i=>d[i]);
import{c as uo,u as co,i as Ae,j as _,a as fo,b as ho,A as po,T as mo,I as Le,d as he,B as xe,e as Oe,D as go,L as St,f as ct,g as en,h as kt,k as Zt,l as Un,m as Fi,n as $n,o as yo,p as xo,F as bo,S as ko,q as Hn,r as Bi,Z as wo,M as vo,P as $t,s as _o,V as jr,t as Dr,v as Pr,w as So,x as Co,E as Eo,y as Ao,C as Io,z as zo,G as Bt,H as tn,J as nn,K as rn,N as et,O as To,Q as an,R as jo,U as Do,W as Po,X as on,Y as sn,_ as Ro,$ as Oo}from"./mui-vendor-BNyFSCPN.js";import{c as Lo,g as Fo,e as tt,d as Vn,a as Wn,u as Bo,L as Rr,r as fe,B as Mo,f as No,h as st}from"./react-vendor-BzdEknB4.js";import{_ as Ze}from"./map-vendor-CMk8R3PE.js";import{c as Uo,h as Or}from"./utilities-BTDtKTyc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Cn={},Lr=Lo;Cn.createRoot=Lr.createRoot,Cn.hydrateRoot=Lr.hydrateRoot;const $o={body:{"&::-webkit-scrollbar":{width:"6px",height:"6px"},"&::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"10px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.5)"}},scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1)","& *":{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1)"}}},Ho=uo({palette:{mode:"dark",primary:{main:"#7c4dff"},secondary:{main:"#ff9800"},background:{default:"#1a1a1a",paper:"#2d2d2d"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500}},components:{MuiCard:{styleOverrides:{root:{backgroundColor:"#2d2d2d",borderRadius:8}}},MuiCssBaseline:{styleOverrides:$o}}});var qn={},ln={};const Vo=Fo(co);var Fr;function Ie(){return Fr||(Fr=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Vo}(ln)),ln}var Wo=Ae;Object.defineProperty(qn,"__esModule",{value:!0});var Mi=qn.default=void 0,qo=Wo(Ie()),Zo=_;Mi=qn.default=(0,qo.default)((0,Zo.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Zn={},Go=Ae;Object.defineProperty(Zn,"__esModule",{value:!0});var Ni=Zn.default=void 0,Yo=Go(Ie()),Xo=_;Ni=Zn.default=(0,Yo.default)((0,Xo.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard");var Gn={},Ko=Ae;Object.defineProperty(Gn,"__esModule",{value:!0});var Ui=Gn.default=void 0,Jo=Ko(Ie()),Qo=_;Ui=Gn.default=(0,Jo.default)((0,Qo.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map");var Yn={},es=Ae;Object.defineProperty(Yn,"__esModule",{value:!0});var $i=Yn.default=void 0,ts=es(Ie()),ns=_;$i=Yn.default=(0,ts.default)((0,ns.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Place");var Xn={},rs=Ae;Object.defineProperty(Xn,"__esModule",{value:!0});var Hi=Xn.default=void 0,is=rs(Ie()),as=_;Hi=Xn.default=(0,is.default)((0,as.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Kn={},os=Ae;Object.defineProperty(Kn,"__esModule",{value:!0});var En=Kn.default=void 0,ss=os(Ie()),ls=_;En=Kn.default=(0,ss.default)((0,ls.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var Jn={},us=Ae;Object.defineProperty(Jn,"__esModule",{value:!0});var An=Jn.default=void 0,cs=us(Ie()),fs=_;An=Jn.default=(0,cs.default)((0,fs.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload");function Dt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vi={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,o){function a(u,h){if(!i[u]){if(!r[u]){var c=typeof Dt=="function"&&Dt;if(!h&&c)return c(u,!0);if(s)return s(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(m){var p=r[u][1][m];return a(p||m)},f,f.exports,t,r,i,o)}return i[u].exports}for(var s=typeof Dt=="function"&&Dt,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(t,r,i){var o=t("./utils"),a=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,h,c,d,f,m,p,b=[],y=0,k=l.length,w=k,T=o.getTypeOf(l)!=="string";y<l.length;)w=k-y,c=T?(u=l[y++],h=y<k?l[y++]:0,y<k?l[y++]:0):(u=l.charCodeAt(y++),h=y<k?l.charCodeAt(y++):0,y<k?l.charCodeAt(y++):0),d=u>>2,f=(3&u)<<4|h>>4,m=1<w?(15&h)<<2|c>>6:64,p=2<w?63&c:64,b.push(s.charAt(d)+s.charAt(f)+s.charAt(m)+s.charAt(p));return b.join("")},i.decode=function(l){var u,h,c,d,f,m,p=0,b=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var k,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&w--,l.charAt(l.length-2)===s.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=a.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)u=s.indexOf(l.charAt(p++))<<2|(d=s.indexOf(l.charAt(p++)))>>4,h=(15&d)<<4|(f=s.indexOf(l.charAt(p++)))>>2,c=(3&f)<<6|(m=s.indexOf(l.charAt(p++))),k[b++]=u,f!==64&&(k[b++]=h),m!==64&&(k[b++]=c);return k}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),a=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(h,c,d,f,m){this.compressedSize=h,this.uncompressedSize=c,this.crc32=d,this.compression=f,this.compressedContent=m}u.prototype={getContentWorker:function(){var h=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return h.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,c,d){return h.pipe(new s).pipe(new l("uncompressedSize")).pipe(c.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),a=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var h=0;h<8;h++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();r.exports=function(s,l){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(u,h,c,d){var f=a,m=d+c;u^=-1;for(var p=d;p<m;p++)u=u>>>8^f[255&(u^h[p])];return-1^u}(0|l,s,s.length,0):function(u,h,c,d){var f=a,m=d+c;u^=-1;for(var p=d;p<m;p++)u=u>>>8^f[255&(u^h.charCodeAt(p))];return-1^u}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),s=t("./utils"),l=t("./stream/GenericWorker"),u=o?"uint8array":"array";function h(c,d){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=d,this.meta={}}i.magic="\b\0",s.inherits(h,l),h.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,c.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(d){c.push({data:d,meta:c.meta})}},i.compressWorker=function(c){return new h("Deflate",c)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(f,m){var p,b="";for(p=0;p<m;p++)b+=String.fromCharCode(255&f),f>>>=8;return b}function a(f,m,p,b,y,k){var w,T,j=f.file,I=f.compression,L=k!==u.utf8encode,$=s.transformTo("string",k(j.name)),O=s.transformTo("string",u.utf8encode(j.name)),z=j.comment,q=s.transformTo("string",k(z)),C=s.transformTo("string",u.utf8encode(z)),N=O.length!==j.name.length,x=C.length!==z.length,U="",re="",V="",ie=j.dir,Y=j.date,A={crc32:0,compressedSize:0,uncompressedSize:0};m&&!p||(A.crc32=f.crc32,A.compressedSize=f.compressedSize,A.uncompressedSize=f.uncompressedSize);var M=0;m&&(M|=8),L||!N&&!x||(M|=2048);var F=0,E=0;ie&&(F|=16),y==="UNIX"?(E=798,F|=function(J,ue){var _e=J;return J||(_e=ue?16893:33204),(65535&_e)<<16}(j.unixPermissions,ie)):(E=20,F|=function(J){return 63&(J||0)}(j.dosPermissions)),w=Y.getUTCHours(),w<<=6,w|=Y.getUTCMinutes(),w<<=5,w|=Y.getUTCSeconds()/2,T=Y.getUTCFullYear()-1980,T<<=4,T|=Y.getUTCMonth()+1,T<<=5,T|=Y.getUTCDate(),N&&(re=o(1,1)+o(h($),4)+O,U+="up"+o(re.length,2)+re),x&&(V=o(1,1)+o(h(q),4)+C,U+="uc"+o(V.length,2)+V);var ee="";return ee+=`
\0`,ee+=o(M,2),ee+=I.magic,ee+=o(w,2),ee+=o(T,2),ee+=o(A.crc32,4),ee+=o(A.compressedSize,4),ee+=o(A.uncompressedSize,4),ee+=o($.length,2),ee+=o(U.length,2),{fileRecord:c.LOCAL_FILE_HEADER+ee+$+U,dirRecord:c.CENTRAL_FILE_HEADER+o(E,2)+ee+o(q.length,2)+"\0\0\0\0"+o(F,4)+o(b,4)+$+U+q}}var s=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),h=t("../crc32"),c=t("../signature");function d(f,m,p,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=p,this.encodeFileName=b,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(d,l),d.prototype.push=function(f){var m=f.meta.percent||0,p=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(m+100*(p-b-1))/p:100}}))},d.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var m=this.streamFiles&&!f.file.dir;if(m){var p=a(f,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(f){this.accumulate=!1;var m=this.streamFiles&&!f.file.dir,p=a(f,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),m)this.push({data:function(b){return c.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var f=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var p=this.bytesWritten-f,b=function(y,k,w,T,j){var I=s.transformTo("string",j(T));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(y,2)+o(y,2)+o(k,4)+o(w,4)+o(I.length,2)+I}(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(f){this._sources.push(f);var m=this;return f.on("data",function(p){m.processChunk(p)}),f.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),f.on("error",function(p){m.error(p)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(f){var m=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var p=0;p<m.length;p++)try{m[p].error(f)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,m=0;m<f.length;m++)f[m].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(s,l,u){var h=new a(l.streamFiles,u,l.platform,l.encodeFileName),c=0;try{s.forEach(function(d,f){c++;var m=function(k,w){var T=k||w,j=o[T];if(!j)throw new Error(T+" is not a valid compression method !");return j}(f.options.compression,l.compression),p=f.options.compressionOptions||l.compressionOptions||{},b=f.dir,y=f.date;f._compressWorker(m,p).withStreamInfo("file",{name:d,dir:b,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(h)}),h.entriesCount=c}catch(d){h.error(d)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),a=t("./external"),s=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function c(d){return new a.Promise(function(f,m){var p=d.decompressed.getContentWorker().pipe(new u);p.on("error",function(b){m(b)}).on("end",function(){p.streamInfo.crc32!==d.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(d,f){var m=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),h.isNode&&h.isStream(d)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",d,!0,f.optimizedBinaryString,f.base64).then(function(p){var b=new l(f);return b.load(p),b}).then(function(p){var b=[a.Promise.resolve(p)],y=p.files;if(f.checkCRC32)for(var k=0;k<y.length;k++)b.push(c(y[k]));return a.Promise.all(b)}).then(function(p){for(var b=p.shift(),y=b.files,k=0;k<y.length;k++){var w=y[k],T=w.fileNameStr,j=o.resolve(w.fileNameStr);m.file(j,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:f.createFolders}),w.dir||(m.file(j).unsafeOriginalName=T)}return b.zipComment.length&&(m.comment=b.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),a=t("../stream/GenericWorker");function s(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(s,a),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function a(s,l,u){o.call(this,l),this._helper=s;var h=this;s.on("data",function(c,d){h.push(c)||h._helper.pause(),u&&u(d)}).on("error",function(c){h.emit("error",c)}).on("end",function(){h.push(null)})}t("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(j,I,L){var $,O=s.getTypeOf(I),z=s.extend(L||{},h);z.date=z.date||new Date,z.compression!==null&&(z.compression=z.compression.toUpperCase()),typeof z.unixPermissions=="string"&&(z.unixPermissions=parseInt(z.unixPermissions,8)),z.unixPermissions&&16384&z.unixPermissions&&(z.dir=!0),z.dosPermissions&&16&z.dosPermissions&&(z.dir=!0),z.dir&&(j=y(j)),z.createFolders&&($=b(j))&&k.call(this,$,!0);var q=O==="string"&&z.binary===!1&&z.base64===!1;L&&L.binary!==void 0||(z.binary=!q),(I instanceof c&&I.uncompressedSize===0||z.dir||!I||I.length===0)&&(z.base64=!1,z.binary=!0,I="",z.compression="STORE",O="string");var C=null;C=I instanceof c||I instanceof l?I:m.isNode&&m.isStream(I)?new p(j,I):s.prepareContent(j,I,z.binary,z.optimizedBinaryString,z.base64);var N=new d(j,C,z);this.files[j]=N}var a=t("./utf8"),s=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),h=t("./defaults"),c=t("./compressedObject"),d=t("./zipObject"),f=t("./generate"),m=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),b=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var I=j.lastIndexOf("/");return 0<I?j.substring(0,I):""},y=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},k=function(j,I){return I=I!==void 0?I:h.createFolders,j=y(j),this.files[j]||o.call(this,j,null,{dir:!0,createFolders:I}),this.files[j]};function w(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var I,L,$;for(I in this.files)$=this.files[I],(L=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&j(L,$)},filter:function(j){var I=[];return this.forEach(function(L,$){j(L,$)&&I.push($)}),I},file:function(j,I,L){if(arguments.length!==1)return j=this.root+j,o.call(this,j,I,L),this;if(w(j)){var $=j;return this.filter(function(z,q){return!q.dir&&$.test(z)})}var O=this.files[this.root+j];return O&&!O.dir?O:null},folder:function(j){if(!j)return this;if(w(j))return this.filter(function(O,z){return z.dir&&j.test(O)});var I=this.root+j,L=k.call(this,I),$=this.clone();return $.root=L.name,$},remove:function(j){j=this.root+j;var I=this.files[j];if(I||(j.slice(-1)!=="/"&&(j+="/"),I=this.files[j]),I&&!I.dir)delete this.files[j];else for(var L=this.filter(function(O,z){return z.name.slice(0,j.length)===j}),$=0;$<L.length;$++)delete this.files[L[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var I,L={};try{if((L=s.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");s.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var $=L.comment||this.comment||"";I=f.generateWorker(this,L,$)}catch(O){(I=new l("error")).error(O)}return new u(I,L.type||"string",L.mimeType)},generateAsync:function(j,I){return this.generateInternalStream(j).accumulate(I)},generateNodeStream:function(j,I){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(I)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function a(s){o.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}t("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),h=s.charCodeAt(2),c=s.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===h&&this.data[d+3]===c)return d-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),h=s.charCodeAt(2),c=s.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&h===d[2]&&c===d[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function a(s){o.call(this,s)}t("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),a=t("../support"),s=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(c){var d=o.getTypeOf(c);return o.checkSupport(d),d!=="string"||a.uint8array?d==="nodebuffer"?new u(c):a.uint8array?new h(o.transformTo("uint8array",c)):new s(o.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),a=t("../utils");function s(l){o.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,o),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),a=t("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,o),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(s,a),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function s(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=o.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),a=t("./ConvertWorker"),s=t("./GenericWorker"),l=t("../base64"),u=t("../support"),h=t("../external"),c=null;if(u.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(m,p){return new h.Promise(function(b,y){var k=[],w=m._internalType,T=m._outputType,j=m._mimeType;m.on("data",function(I,L){k.push(I),p&&p(L)}).on("error",function(I){k=[],y(I)}).on("end",function(){try{var I=function(L,$,O){switch(L){case"blob":return o.newBlob(o.transformTo("arraybuffer",$),O);case"base64":return l.encode($);default:return o.transformTo(L,$)}}(T,function(L,$){var O,z=0,q=null,C=0;for(O=0;O<$.length;O++)C+=$[O].length;switch(L){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(q=new Uint8Array(C),O=0;O<$.length;O++)q.set($[O],z),z+=$[O].length;return q;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+L+"'")}}(w,k),j);b(I)}catch(L){y(L)}k=[]}).resume()})}function f(m,p,b){var y=p;switch(p){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=p,this._mimeType=b,o.checkSupport(y),this._worker=m.pipe(new a(y)),m.lock()}catch(k){this._worker=new s("error"),this._worker.error(k)}}f.prototype={accumulate:function(m){return d(this,m)},on:function(m,p){var b=this;return m==="data"?this._worker.on(m,function(y){p.call(b,y.data,y.meta)}):this._worker.on(m,function(){o.delay(p,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),a=t("./support"),s=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return a.nodebuffer?s.newBufferFrom(f,"utf-8"):function(m){var p,b,y,k,w,T=m.length,j=0;for(k=0;k<T;k++)(64512&(b=m.charCodeAt(k)))==55296&&k+1<T&&(64512&(y=m.charCodeAt(k+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),k++),j+=b<128?1:b<2048?2:b<65536?3:4;for(p=a.uint8array?new Uint8Array(j):new Array(j),k=w=0;w<j;k++)(64512&(b=m.charCodeAt(k)))==55296&&k+1<T&&(64512&(y=m.charCodeAt(k+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),k++),b<128?p[w++]=b:(b<2048?p[w++]=192|b>>>6:(b<65536?p[w++]=224|b>>>12:(p[w++]=240|b>>>18,p[w++]=128|b>>>12&63),p[w++]=128|b>>>6&63),p[w++]=128|63&b);return p}(f)},i.utf8decode=function(f){return a.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):function(m){var p,b,y,k,w=m.length,T=new Array(2*w);for(p=b=0;p<w;)if((y=m[p++])<128)T[b++]=y;else if(4<(k=u[y]))T[b++]=65533,p+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&p<w;)y=y<<6|63&m[p++],k--;1<k?T[b++]=65533:y<65536?T[b++]=y:(y-=65536,T[b++]=55296|y>>10&1023,T[b++]=56320|1023&y)}return T.length!==b&&(T.subarray?T=T.subarray(0,b):T.length=b),o.applyFromCharCode(T)}(f=o.transformTo(a.uint8array?"uint8array":"array",f))},o.inherits(c,l),c.prototype.processChunk=function(f){var m=o.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var p=m;(m=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),m.set(p,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var b=function(k,w){var T;for((w=w||k.length)>k.length&&(w=k.length),T=w-1;0<=T&&(192&k[T])==128;)T--;return T<0||T===0?w:T+u[k[T]]>w?T:w}(m),y=m;b!==m.length&&(a.uint8array?(y=m.subarray(0,b),this.leftOver=m.subarray(b,m.length)):(y=m.slice(0,b),this.leftOver=m.slice(b,m.length))),this.push({data:i.utf8decode(y),meta:f.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,o.inherits(d,l),d.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),a=t("./base64"),s=t("./nodejsUtils"),l=t("./external");function u(p){return p}function h(p,b){for(var y=0;y<p.length;++y)b[y]=255&p.charCodeAt(y);return b}t("setimmediate"),i.newBlob=function(p,b){i.checkSupport("blob");try{return new Blob([p],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(p),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(p,b,y){var k=[],w=0,T=p.length;if(T<=y)return String.fromCharCode.apply(null,p);for(;w<T;)b==="array"||b==="nodebuffer"?k.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+y,T)))):k.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+y,T)))),w+=y;return k.join("")},stringifyByChar:function(p){for(var b="",y=0;y<p.length;y++)b+=String.fromCharCode(p[y]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function d(p){var b=65536,y=i.getTypeOf(p),k=!0;if(y==="uint8array"?k=c.applyCanBeUsed.uint8array:y==="nodebuffer"&&(k=c.applyCanBeUsed.nodebuffer),k)for(;1<b;)try{return c.stringifyByChunk(p,y,b)}catch{b=Math.floor(b/2)}return c.stringifyByChar(p)}function f(p,b){for(var y=0;y<p.length;y++)b[y]=p[y];return b}i.applyFromCharCode=d;var m={};m.string={string:u,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return m.string.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:function(p){return h(p,s.allocBuffer(p.length))}},m.array={string:d,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return s.newBufferFrom(p)}},m.arraybuffer={string:function(p){return d(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return s.newBufferFrom(new Uint8Array(p))}},m.uint8array={string:d,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return s.newBufferFrom(p)}},m.nodebuffer={string:d,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return m.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,b){if(b=b||"",!p)return b;i.checkSupport(p);var y=i.getTypeOf(b);return m[y][p](b)},i.resolve=function(p){for(var b=p.split("/"),y=[],k=0;k<b.length;k++){var w=b[k];w==="."||w===""&&k!==0&&k!==b.length-1||(w===".."?y.pop():y.push(w))}return y.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(p)?"nodebuffer":o.uint8array&&p instanceof Uint8Array?"uint8array":o.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!o[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var b,y,k="";for(y=0;y<(p||"").length;y++)k+="\\x"+((b=p.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return k},i.delay=function(p,b,y){setImmediate(function(){p.apply(y||null,b||[])})},i.inherits=function(p,b){function y(){}y.prototype=b.prototype,p.prototype=new y},i.extend=function(){var p,b,y={};for(p=0;p<arguments.length;p++)for(b in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],b)&&y[b]===void 0&&(y[b]=arguments[p][b]);return y},i.prepareContent=function(p,b,y,k,w){return l.Promise.resolve(b).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(j,I){var L=new FileReader;L.onload=function($){j($.target.result)},L.onerror=function($){I($.target.error)},L.readAsArrayBuffer(T)}):T}).then(function(T){var j=i.getTypeOf(T);return j?(j==="arraybuffer"?T=i.transformTo("uint8array",T):j==="string"&&(w?T=a.decode(T):y&&k!==!0&&(T=function(I){return h(I,o.uint8array?new Uint8Array(I.length):new Array(I.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),s=t("./signature"),l=t("./zipEntry"),u=t("./support");function h(c){this.files=[],this.loadOptions=c}h.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(d)+", expected "+a.pretty(c)+")")}},isSignature:function(c,d){var f=this.reader.index;this.reader.setIndex(c);var m=this.reader.readString(4)===d;return this.reader.setIndex(f),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",f=a.transformTo(d,c);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,d,f,m=this.zip64EndOfCentralSize-44;0<m;)c=this.reader.readInt(2),d=this.reader.readInt(4),f=this.reader.readData(d),this.zip64ExtensibleData[c]={id:c,length:d,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,d;for(c=0;c<this.files.length;c++)d=this.files[c],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var d=c;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var m=d-f;if(0<m)this.isSignature(d,s.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(c){this.reader=o(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),s=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),h=t("./compressions"),c=t("./support");function d(f,m){this.options=f,this.loadOptions=m}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var m,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(b){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===b)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,m,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var m=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(m),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var m,p,b,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)m=f.readInt(2),p=f.readInt(2),b=f.readData(p),this.extraFields[m]={id:m,length:p,value:b};f.setIndex(y)},handleUTF8:function(){var f=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var p=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var m=o(f.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var m=o(f.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(m,p,b){this.name=m,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=p,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),h=t("./stream/GenericWorker");o.prototype={internalStream:function(m){var p=null,b="string";try{if(!m)throw new Error("No output type specified.");var y=(b=m.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),p=this._decompressWorker();var k=!this._dataBinary;k&&!y&&(p=p.pipe(new l.Utf8EncodeWorker)),!k&&y&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new h("error")).error(w)}return new a(p,b,"")},async:function(m,p){return this.internalStream(m).accumulate(p)},nodeStream:function(m,p){return this.internalStream(m||"nodebuffer").toNodejsStream(p)},_compressWorker:function(m,p){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,m,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)o.prototype[c[f]]=d;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var a,s,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,h=new l(m),c=o.document.createTextNode("");h.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var p=o.document.createElement("script");p.onreadystatechange=function(){m(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},o.document.documentElement.appendChild(p)}:function(){setTimeout(m,0)};else{var d=new o.MessageChannel;d.port1.onmessage=m,a=function(){d.port2.postMessage(0)}}var f=[];function m(){var p,b;s=!0;for(var y=f.length;y;){for(b=f,f=[],p=-1;++p<y;)b[p]();y=f.length}s=!1}r.exports=function(p){f.push(p)!==1||s||a()}}).call(this,typeof tt<"u"?tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function a(){}var s={},l=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function c(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==a&&p(this,y)}function d(y,k,w){this.promise=y,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function f(y,k,w){o(function(){var T;try{T=k(w)}catch(j){return s.reject(y,j)}T===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,T)})}function m(y){var k=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof k=="function")return function(){k.apply(y,arguments)}}function p(y,k){var w=!1;function T(L){w||(w=!0,s.reject(y,L))}function j(L){w||(w=!0,s.resolve(y,L))}var I=b(function(){k(j,T)});I.status==="error"&&T(I.value)}function b(y,k){var w={};try{w.value=y(k),w.status="success"}catch(T){w.status="error",w.value=T}return w}(r.exports=c).prototype.finally=function(y){if(typeof y!="function")return this;var k=this.constructor;return this.then(function(w){return k.resolve(y()).then(function(){return w})},function(w){return k.resolve(y()).then(function(){throw w})})},c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,k){if(typeof y!="function"&&this.state===u||typeof k!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==h?f(w,this.state===u?y:k,this.outcome):this.queue.push(new d(w,y,k)),w},d.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},d.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},d.prototype.callRejected=function(y){s.reject(this.promise,y)},d.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},s.resolve=function(y,k){var w=b(m,k);if(w.status==="error")return s.reject(y,w.value);var T=w.value;if(T)p(y,T);else{y.state=u,y.outcome=k;for(var j=-1,I=y.queue.length;++j<I;)y.queue[j].callFulfilled(k)}return y},s.reject=function(y,k){y.state=l,y.outcome=k;for(var w=-1,T=y.queue.length;++w<T;)y.queue[w].callRejected(k);return y},c.resolve=function(y){return y instanceof this?y:s.resolve(new this(a),y)},c.reject=function(y){var k=new this(a);return s.reject(k,y)},c.all=function(y){var k=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,T=!1;if(!w)return this.resolve([]);for(var j=new Array(w),I=0,L=-1,$=new this(a);++L<w;)O(y[L],L);return $;function O(z,q){k.resolve(z).then(function(C){j[q]=C,++I!==w||T||(T=!0,s.resolve($,j))},function(C){T||(T=!0,s.reject($,C))})}},c.race=function(y){var k=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,T=!1;if(!w)return this.resolve([]);for(var j=-1,I=new this(a);++j<w;)L=y[j],k.resolve(L).then(function($){T||(T=!0,s.resolve(I,$))},function($){T||(T=!0,s.reject(I,$))});var L;return I}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),h=Object.prototype.toString,c=0,d=-1,f=0,m=8;function p(y){if(!(this instanceof p))return new p(y);this.options=a.assign({level:d,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(w!==c)throw new Error(l[w]);if(k.header&&o.deflateSetHeader(this.strm,k.header),k.dictionary){var T;if(T=typeof k.dictionary=="string"?s.string2buf(k.dictionary):h.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(w=o.deflateSetDictionary(this.strm,T))!==c)throw new Error(l[w]);this._dict_set=!0}}function b(y,k){var w=new p(k);if(w.push(y,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(y,k){var w,T,j=this.strm,I=this.options.chunkSize;if(this.ended)return!1;T=k===~~k?k:k===!0?4:0,typeof y=="string"?j.input=s.string2buf(y):h.call(y)==="[object ArrayBuffer]"?j.input=new Uint8Array(y):j.input=y,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new a.Buf8(I),j.next_out=0,j.avail_out=I),(w=o.deflate(j,T))!==1&&w!==c)return this.onEnd(w),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(j.output,j.next_out))):this.onData(a.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&w!==1);return T===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c):T!==2||(this.onEnd(c),!(j.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=p,i.deflate=b,i.deflateRaw=function(y,k){return(k=k||{}).raw=!0,b(y,k)},i.gzip=function(y,k){return(k=k||{}).gzip=!0,b(y,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),h=t("./zlib/zstream"),c=t("./zlib/gzheader"),d=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},p||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||p&&p.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=o.inflateInit2(this.strm,b.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new c,o.inflateGetHeader(this.strm,this.header)}function m(p,b){var y=new f(b);if(y.push(p,!0),y.err)throw y.msg||u[y.err];return y.result}f.prototype.push=function(p,b){var y,k,w,T,j,I,L=this.strm,$=this.options.chunkSize,O=this.options.dictionary,z=!1;if(this.ended)return!1;k=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?L.input=s.binstring2buf(p):d.call(p)==="[object ArrayBuffer]"?L.input=new Uint8Array(p):L.input=p,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new a.Buf8($),L.next_out=0,L.avail_out=$),(y=o.inflate(L,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(I=typeof O=="string"?s.string2buf(O):d.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,y=o.inflateSetDictionary(this.strm,I)),y===l.Z_BUF_ERROR&&z===!0&&(y=l.Z_OK,z=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&y!==l.Z_STREAM_END&&(L.avail_in!==0||k!==l.Z_FINISH&&k!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=s.utf8border(L.output,L.next_out),T=L.next_out-w,j=s.buf2string(L.output,w),L.next_out=T,L.avail_out=$-T,T&&a.arraySet(L.output,L.output,w,T,0),this.onData(j)):this.onData(a.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(z=!0)}while((0<L.avail_in||L.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(k=l.Z_FINISH),k===l.Z_FINISH?(y=o.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):k!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(L.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=f,i.inflate=m,i.inflateRaw=function(p,b){return(b=b||{}).raw=!0,m(p,b)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var c in h)h.hasOwnProperty(c)&&(l[c]=h[c])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,h,c,d){if(u.subarray&&l.subarray)l.set(u.subarray(h,h+c),d);else for(var f=0;f<c;f++)l[d+f]=u[h+f]},flattenChunks:function(l){var u,h,c,d,f,m;for(u=c=0,h=l.length;u<h;u++)c+=l[u].length;for(m=new Uint8Array(c),u=d=0,h=l.length;u<h;u++)f=l[u],m.set(f,d),d+=f.length;return m}},s={arraySet:function(l,u,h,c,d){for(var f=0;f<c;f++)l[d+f]=u[h+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(c,d){if(d<65537&&(c.subarray&&s||!c.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(c,d));for(var f="",m=0;m<d;m++)f+=String.fromCharCode(c[m]);return f}l[254]=l[254]=1,i.string2buf=function(c){var d,f,m,p,b,y=c.length,k=0;for(p=0;p<y;p++)(64512&(f=c.charCodeAt(p)))==55296&&p+1<y&&(64512&(m=c.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),p++),k+=f<128?1:f<2048?2:f<65536?3:4;for(d=new o.Buf8(k),p=b=0;b<k;p++)(64512&(f=c.charCodeAt(p)))==55296&&p+1<y&&(64512&(m=c.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),p++),f<128?d[b++]=f:(f<2048?d[b++]=192|f>>>6:(f<65536?d[b++]=224|f>>>12:(d[b++]=240|f>>>18,d[b++]=128|f>>>12&63),d[b++]=128|f>>>6&63),d[b++]=128|63&f);return d},i.buf2binstring=function(c){return h(c,c.length)},i.binstring2buf=function(c){for(var d=new o.Buf8(c.length),f=0,m=d.length;f<m;f++)d[f]=c.charCodeAt(f);return d},i.buf2string=function(c,d){var f,m,p,b,y=d||c.length,k=new Array(2*y);for(f=m=0;f<y;)if((p=c[f++])<128)k[m++]=p;else if(4<(b=l[p]))k[m++]=65533,f+=b-1;else{for(p&=b===2?31:b===3?15:7;1<b&&f<y;)p=p<<6|63&c[f++],b--;1<b?k[m++]=65533:p<65536?k[m++]=p:(p-=65536,k[m++]=55296|p>>10&1023,k[m++]=56320|1023&p)}return h(k,m)},i.utf8border=function(c,d){var f;for((d=d||c.length)>c.length&&(d=c.length),f=d-1;0<=f&&(192&c[f])==128;)f--;return f<0||f===0?d:f+l[c[f]]>d?f:d}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,a,s,l){for(var u=65535&o|0,h=o>>>16&65535|0,c=0;s!==0;){for(s-=c=2e3<s?2e3:s;h=h+(u=u+a[l++]|0)|0,--c;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s}();r.exports=function(a,s,l,u){var h=o,c=u+l;a^=-1;for(var d=u;d<c;d++)a=a>>>8^h[255&(a^s[d])];return-1^a}},{}],46:[function(t,r,i){var o,a=t("../utils/common"),s=t("./trees"),l=t("./adler32"),u=t("./crc32"),h=t("./messages"),c=0,d=4,f=0,m=-2,p=-1,b=4,y=2,k=8,w=9,T=286,j=30,I=19,L=2*T+1,$=15,O=3,z=258,q=z+O+1,C=42,N=113,x=1,U=2,re=3,V=4;function ie(g,H){return g.msg=h[H],H}function Y(g){return(g<<1)-(4<g?9:0)}function A(g){for(var H=g.length;0<=--H;)g[H]=0}function M(g){var H=g.state,D=H.pending;D>g.avail_out&&(D=g.avail_out),D!==0&&(a.arraySet(g.output,H.pending_buf,H.pending_out,D,g.next_out),g.next_out+=D,H.pending_out+=D,g.total_out+=D,g.avail_out-=D,H.pending-=D,H.pending===0&&(H.pending_out=0))}function F(g,H){s._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,H),g.block_start=g.strstart,M(g.strm)}function E(g,H){g.pending_buf[g.pending++]=H}function ee(g,H){g.pending_buf[g.pending++]=H>>>8&255,g.pending_buf[g.pending++]=255&H}function J(g,H){var D,S,v=g.max_chain_length,P=g.strstart,W=g.prev_length,G=g.nice_match,B=g.strstart>g.w_size-q?g.strstart-(g.w_size-q):0,K=g.window,ne=g.w_mask,Q=g.prev,R=g.strstart+z,Z=K[P+W-1],te=K[P+W];g.prev_length>=g.good_match&&(v>>=2),G>g.lookahead&&(G=g.lookahead);do if(K[(D=H)+W]===te&&K[D+W-1]===Z&&K[D]===K[P]&&K[++D]===K[P+1]){P+=2,D++;do;while(K[++P]===K[++D]&&K[++P]===K[++D]&&K[++P]===K[++D]&&K[++P]===K[++D]&&K[++P]===K[++D]&&K[++P]===K[++D]&&K[++P]===K[++D]&&K[++P]===K[++D]&&P<R);if(S=z-(R-P),P=R-z,W<S){if(g.match_start=H,G<=(W=S))break;Z=K[P+W-1],te=K[P+W]}}while((H=Q[H&ne])>B&&--v!=0);return W<=g.lookahead?W:g.lookahead}function ue(g){var H,D,S,v,P,W,G,B,K,ne,Q=g.w_size;do{if(v=g.window_size-g.lookahead-g.strstart,g.strstart>=Q+(Q-q)){for(a.arraySet(g.window,g.window,Q,Q,0),g.match_start-=Q,g.strstart-=Q,g.block_start-=Q,H=D=g.hash_size;S=g.head[--H],g.head[H]=Q<=S?S-Q:0,--D;);for(H=D=Q;S=g.prev[--H],g.prev[H]=Q<=S?S-Q:0,--D;);v+=Q}if(g.strm.avail_in===0)break;if(W=g.strm,G=g.window,B=g.strstart+g.lookahead,K=v,ne=void 0,ne=W.avail_in,K<ne&&(ne=K),D=ne===0?0:(W.avail_in-=ne,a.arraySet(G,W.input,W.next_in,ne,B),W.state.wrap===1?W.adler=l(W.adler,G,ne,B):W.state.wrap===2&&(W.adler=u(W.adler,G,ne,B)),W.next_in+=ne,W.total_in+=ne,ne),g.lookahead+=D,g.lookahead+g.insert>=O)for(P=g.strstart-g.insert,g.ins_h=g.window[P],g.ins_h=(g.ins_h<<g.hash_shift^g.window[P+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[P+O-1])&g.hash_mask,g.prev[P&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=P,P++,g.insert--,!(g.lookahead+g.insert<O)););}while(g.lookahead<q&&g.strm.avail_in!==0)}function _e(g,H){for(var D,S;;){if(g.lookahead<q){if(ue(g),g.lookahead<q&&H===c)return x;if(g.lookahead===0)break}if(D=0,g.lookahead>=O&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),D!==0&&g.strstart-D<=g.w_size-q&&(g.match_length=J(g,D)),g.match_length>=O)if(S=s._tr_tally(g,g.strstart-g.match_start,g.match_length-O),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=O){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else S=s._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(S&&(F(g,!1),g.strm.avail_out===0))return x}return g.insert=g.strstart<O-1?g.strstart:O-1,H===d?(F(g,!0),g.strm.avail_out===0?re:V):g.last_lit&&(F(g,!1),g.strm.avail_out===0)?x:U}function se(g,H){for(var D,S,v;;){if(g.lookahead<q){if(ue(g),g.lookahead<q&&H===c)return x;if(g.lookahead===0)break}if(D=0,g.lookahead>=O&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=O-1,D!==0&&g.prev_length<g.max_lazy_match&&g.strstart-D<=g.w_size-q&&(g.match_length=J(g,D),g.match_length<=5&&(g.strategy===1||g.match_length===O&&4096<g.strstart-g.match_start)&&(g.match_length=O-1)),g.prev_length>=O&&g.match_length<=g.prev_length){for(v=g.strstart+g.lookahead-O,S=s._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-O),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=v&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,D=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=O-1,g.strstart++,S&&(F(g,!1),g.strm.avail_out===0))return x}else if(g.match_available){if((S=s._tr_tally(g,0,g.window[g.strstart-1]))&&F(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return x}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(S=s._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<O-1?g.strstart:O-1,H===d?(F(g,!0),g.strm.avail_out===0?re:V):g.last_lit&&(F(g,!1),g.strm.avail_out===0)?x:U}function ce(g,H,D,S,v){this.good_length=g,this.max_lazy=H,this.nice_length=D,this.max_chain=S,this.func=v}function ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*L),this.dyn_dtree=new a.Buf16(2*(2*j+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16($+1),this.heap=new a.Buf16(2*T+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(g){var H;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=y,(H=g.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?C:N,g.adler=H.wrap===2?0:1,H.last_flush=c,s._tr_init(H),f):ie(g,m)}function Pe(g){var H=be(g);return H===f&&function(D){D.window_size=2*D.w_size,A(D.head),D.max_lazy_match=o[D.level].max_lazy,D.good_match=o[D.level].good_length,D.nice_match=o[D.level].nice_length,D.max_chain_length=o[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=O-1,D.match_available=0,D.ins_h=0}(g.state),H}function je(g,H,D,S,v,P){if(!g)return m;var W=1;if(H===p&&(H=6),S<0?(W=0,S=-S):15<S&&(W=2,S-=16),v<1||w<v||D!==k||S<8||15<S||H<0||9<H||P<0||b<P)return ie(g,m);S===8&&(S=9);var G=new ke;return(g.state=G).strm=g,G.wrap=W,G.gzhead=null,G.w_bits=S,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=v+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+O-1)/O),G.window=new a.Buf8(2*G.w_size),G.head=new a.Buf16(G.hash_size),G.prev=new a.Buf16(G.w_size),G.lit_bufsize=1<<v+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new a.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=H,G.strategy=P,G.method=D,Pe(g)}o=[new ce(0,0,0,0,function(g,H){var D=65535;for(D>g.pending_buf_size-5&&(D=g.pending_buf_size-5);;){if(g.lookahead<=1){if(ue(g),g.lookahead===0&&H===c)return x;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var S=g.block_start+D;if((g.strstart===0||g.strstart>=S)&&(g.lookahead=g.strstart-S,g.strstart=S,F(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-q&&(F(g,!1),g.strm.avail_out===0))return x}return g.insert=0,H===d?(F(g,!0),g.strm.avail_out===0?re:V):(g.strstart>g.block_start&&(F(g,!1),g.strm.avail_out),x)}),new ce(4,4,8,4,_e),new ce(4,5,16,8,_e),new ce(4,6,32,32,_e),new ce(4,4,16,16,se),new ce(8,16,32,32,se),new ce(8,16,128,128,se),new ce(8,32,128,256,se),new ce(32,128,258,1024,se),new ce(32,258,258,4096,se)],i.deflateInit=function(g,H){return je(g,H,k,15,8,0)},i.deflateInit2=je,i.deflateReset=Pe,i.deflateResetKeep=be,i.deflateSetHeader=function(g,H){return g&&g.state?g.state.wrap!==2?m:(g.state.gzhead=H,f):m},i.deflate=function(g,H){var D,S,v,P;if(!g||!g.state||5<H||H<0)return g?ie(g,m):m;if(S=g.state,!g.output||!g.input&&g.avail_in!==0||S.status===666&&H!==d)return ie(g,g.avail_out===0?-5:m);if(S.strm=g,D=S.last_flush,S.last_flush=H,S.status===C)if(S.wrap===2)g.adler=0,E(S,31),E(S,139),E(S,8),S.gzhead?(E(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),E(S,255&S.gzhead.time),E(S,S.gzhead.time>>8&255),E(S,S.gzhead.time>>16&255),E(S,S.gzhead.time>>24&255),E(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),E(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(E(S,255&S.gzhead.extra.length),E(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(g.adler=u(g.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(E(S,0),E(S,0),E(S,0),E(S,0),E(S,0),E(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),E(S,3),S.status=N);else{var W=k+(S.w_bits-8<<4)<<8;W|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(W|=32),W+=31-W%31,S.status=N,ee(S,W),S.strstart!==0&&(ee(S,g.adler>>>16),ee(S,65535&g.adler)),g.adler=1}if(S.status===69)if(S.gzhead.extra){for(v=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>v&&(g.adler=u(g.adler,S.pending_buf,S.pending-v,v)),M(g),v=S.pending,S.pending!==S.pending_buf_size));)E(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>v&&(g.adler=u(g.adler,S.pending_buf,S.pending-v,v)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){v=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>v&&(g.adler=u(g.adler,S.pending_buf,S.pending-v,v)),M(g),v=S.pending,S.pending===S.pending_buf_size)){P=1;break}P=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,E(S,P)}while(P!==0);S.gzhead.hcrc&&S.pending>v&&(g.adler=u(g.adler,S.pending_buf,S.pending-v,v)),P===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){v=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>v&&(g.adler=u(g.adler,S.pending_buf,S.pending-v,v)),M(g),v=S.pending,S.pending===S.pending_buf_size)){P=1;break}P=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,E(S,P)}while(P!==0);S.gzhead.hcrc&&S.pending>v&&(g.adler=u(g.adler,S.pending_buf,S.pending-v,v)),P===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&M(g),S.pending+2<=S.pending_buf_size&&(E(S,255&g.adler),E(S,g.adler>>8&255),g.adler=0,S.status=N)):S.status=N),S.pending!==0){if(M(g),g.avail_out===0)return S.last_flush=-1,f}else if(g.avail_in===0&&Y(H)<=Y(D)&&H!==d)return ie(g,-5);if(S.status===666&&g.avail_in!==0)return ie(g,-5);if(g.avail_in!==0||S.lookahead!==0||H!==c&&S.status!==666){var G=S.strategy===2?function(B,K){for(var ne;;){if(B.lookahead===0&&(ue(B),B.lookahead===0)){if(K===c)return x;break}if(B.match_length=0,ne=s._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ne&&(F(B,!1),B.strm.avail_out===0))return x}return B.insert=0,K===d?(F(B,!0),B.strm.avail_out===0?re:V):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?x:U}(S,H):S.strategy===3?function(B,K){for(var ne,Q,R,Z,te=B.window;;){if(B.lookahead<=z){if(ue(B),B.lookahead<=z&&K===c)return x;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=O&&0<B.strstart&&(Q=te[R=B.strstart-1])===te[++R]&&Q===te[++R]&&Q===te[++R]){Z=B.strstart+z;do;while(Q===te[++R]&&Q===te[++R]&&Q===te[++R]&&Q===te[++R]&&Q===te[++R]&&Q===te[++R]&&Q===te[++R]&&Q===te[++R]&&R<Z);B.match_length=z-(Z-R),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=O?(ne=s._tr_tally(B,1,B.match_length-O),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ne=s._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ne&&(F(B,!1),B.strm.avail_out===0))return x}return B.insert=0,K===d?(F(B,!0),B.strm.avail_out===0?re:V):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?x:U}(S,H):o[S.level].func(S,H);if(G!==re&&G!==V||(S.status=666),G===x||G===re)return g.avail_out===0&&(S.last_flush=-1),f;if(G===U&&(H===1?s._tr_align(S):H!==5&&(s._tr_stored_block(S,0,0,!1),H===3&&(A(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),M(g),g.avail_out===0))return S.last_flush=-1,f}return H!==d?f:S.wrap<=0?1:(S.wrap===2?(E(S,255&g.adler),E(S,g.adler>>8&255),E(S,g.adler>>16&255),E(S,g.adler>>24&255),E(S,255&g.total_in),E(S,g.total_in>>8&255),E(S,g.total_in>>16&255),E(S,g.total_in>>24&255)):(ee(S,g.adler>>>16),ee(S,65535&g.adler)),M(g),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?f:1)},i.deflateEnd=function(g){var H;return g&&g.state?(H=g.state.status)!==C&&H!==69&&H!==73&&H!==91&&H!==103&&H!==N&&H!==666?ie(g,m):(g.state=null,H===N?ie(g,-3):f):m},i.deflateSetDictionary=function(g,H){var D,S,v,P,W,G,B,K,ne=H.length;if(!g||!g.state||(P=(D=g.state).wrap)===2||P===1&&D.status!==C||D.lookahead)return m;for(P===1&&(g.adler=l(g.adler,H,ne,0)),D.wrap=0,ne>=D.w_size&&(P===0&&(A(D.head),D.strstart=0,D.block_start=0,D.insert=0),K=new a.Buf8(D.w_size),a.arraySet(K,H,ne-D.w_size,D.w_size,0),H=K,ne=D.w_size),W=g.avail_in,G=g.next_in,B=g.input,g.avail_in=ne,g.next_in=0,g.input=H,ue(D);D.lookahead>=O;){for(S=D.strstart,v=D.lookahead-(O-1);D.ins_h=(D.ins_h<<D.hash_shift^D.window[S+O-1])&D.hash_mask,D.prev[S&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=S,S++,--v;);D.strstart=S,D.lookahead=O-1,ue(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=O-1,D.match_available=0,g.next_in=G,g.input=B,g.avail_in=W,D.wrap=P,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,a){var s,l,u,h,c,d,f,m,p,b,y,k,w,T,j,I,L,$,O,z,q,C,N,x,U;s=o.state,l=o.next_in,x=o.input,u=l+(o.avail_in-5),h=o.next_out,U=o.output,c=h-(a-o.avail_out),d=h+(o.avail_out-257),f=s.dmax,m=s.wsize,p=s.whave,b=s.wnext,y=s.window,k=s.hold,w=s.bits,T=s.lencode,j=s.distcode,I=(1<<s.lenbits)-1,L=(1<<s.distbits)-1;e:do{w<15&&(k+=x[l++]<<w,w+=8,k+=x[l++]<<w,w+=8),$=T[k&I];t:for(;;){if(k>>>=O=$>>>24,w-=O,(O=$>>>16&255)===0)U[h++]=65535&$;else{if(!(16&O)){if(!(64&O)){$=T[(65535&$)+(k&(1<<O)-1)];continue t}if(32&O){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}z=65535&$,(O&=15)&&(w<O&&(k+=x[l++]<<w,w+=8),z+=k&(1<<O)-1,k>>>=O,w-=O),w<15&&(k+=x[l++]<<w,w+=8,k+=x[l++]<<w,w+=8),$=j[k&L];n:for(;;){if(k>>>=O=$>>>24,w-=O,!(16&(O=$>>>16&255))){if(!(64&O)){$=j[(65535&$)+(k&(1<<O)-1)];continue n}o.msg="invalid distance code",s.mode=30;break e}if(q=65535&$,w<(O&=15)&&(k+=x[l++]<<w,(w+=8)<O&&(k+=x[l++]<<w,w+=8)),f<(q+=k&(1<<O)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(k>>>=O,w-=O,(O=h-c)<q){if(p<(O=q-O)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(N=y,(C=0)===b){if(C+=m-O,O<z){for(z-=O;U[h++]=y[C++],--O;);C=h-q,N=U}}else if(b<O){if(C+=m+b-O,(O-=b)<z){for(z-=O;U[h++]=y[C++],--O;);if(C=0,b<z){for(z-=O=b;U[h++]=y[C++],--O;);C=h-q,N=U}}}else if(C+=b-O,O<z){for(z-=O;U[h++]=y[C++],--O;);C=h-q,N=U}for(;2<z;)U[h++]=N[C++],U[h++]=N[C++],U[h++]=N[C++],z-=3;z&&(U[h++]=N[C++],1<z&&(U[h++]=N[C++]))}else{for(C=h-q;U[h++]=U[C++],U[h++]=U[C++],U[h++]=U[C++],2<(z-=3););z&&(U[h++]=U[C++],1<z&&(U[h++]=U[C++]))}break}}break}}while(l<u&&h<d);l-=z=w>>3,k&=(1<<(w-=z<<3))-1,o.next_in=l,o.next_out=h,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=h<d?d-h+257:257-(h-d),s.hold=k,s.bits=w}},{}],49:[function(t,r,i){var o=t("../utils/common"),a=t("./adler32"),s=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),h=1,c=2,d=0,f=-2,m=1,p=852,b=592;function y(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(C){var N;return C&&C.state?(N=C.state,C.total_in=C.total_out=N.total=0,C.msg="",N.wrap&&(C.adler=1&N.wrap),N.mode=m,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new o.Buf32(p),N.distcode=N.distdyn=new o.Buf32(b),N.sane=1,N.back=-1,d):f}function T(C){var N;return C&&C.state?((N=C.state).wsize=0,N.whave=0,N.wnext=0,w(C)):f}function j(C,N){var x,U;return C&&C.state?(U=C.state,N<0?(x=0,N=-N):(x=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?f:(U.window!==null&&U.wbits!==N&&(U.window=null),U.wrap=x,U.wbits=N,T(C))):f}function I(C,N){var x,U;return C?(U=new k,(C.state=U).window=null,(x=j(C,N))!==d&&(C.state=null),x):f}var L,$,O=!0;function z(C){if(O){var N;for(L=new o.Buf32(512),$=new o.Buf32(32),N=0;N<144;)C.lens[N++]=8;for(;N<256;)C.lens[N++]=9;for(;N<280;)C.lens[N++]=7;for(;N<288;)C.lens[N++]=8;for(u(h,C.lens,0,288,L,0,C.work,{bits:9}),N=0;N<32;)C.lens[N++]=5;u(c,C.lens,0,32,$,0,C.work,{bits:5}),O=!1}C.lencode=L,C.lenbits=9,C.distcode=$,C.distbits=5}function q(C,N,x,U){var re,V=C.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new o.Buf8(V.wsize)),U>=V.wsize?(o.arraySet(V.window,N,x-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(U<(re=V.wsize-V.wnext)&&(re=U),o.arraySet(V.window,N,x-U,re,V.wnext),(U-=re)?(o.arraySet(V.window,N,x-U,U,0),V.wnext=U,V.whave=V.wsize):(V.wnext+=re,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=re))),0}i.inflateReset=T,i.inflateReset2=j,i.inflateResetKeep=w,i.inflateInit=function(C){return I(C,15)},i.inflateInit2=I,i.inflate=function(C,N){var x,U,re,V,ie,Y,A,M,F,E,ee,J,ue,_e,se,ce,ke,be,Pe,je,g,H,D,S,v=0,P=new o.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return f;(x=C.state).mode===12&&(x.mode=13),ie=C.next_out,re=C.output,A=C.avail_out,V=C.next_in,U=C.input,Y=C.avail_in,M=x.hold,F=x.bits,E=Y,ee=A,H=d;e:for(;;)switch(x.mode){case m:if(x.wrap===0){x.mode=13;break}for(;F<16;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(2&x.wrap&&M===35615){P[x.check=0]=255&M,P[1]=M>>>8&255,x.check=s(x.check,P,2,0),F=M=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&M)<<8)+(M>>8))%31){C.msg="incorrect header check",x.mode=30;break}if((15&M)!=8){C.msg="unknown compression method",x.mode=30;break}if(F-=4,g=8+(15&(M>>>=4)),x.wbits===0)x.wbits=g;else if(g>x.wbits){C.msg="invalid window size",x.mode=30;break}x.dmax=1<<g,C.adler=x.check=1,x.mode=512&M?10:12,F=M=0;break;case 2:for(;F<16;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(x.flags=M,(255&x.flags)!=8){C.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){C.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=M>>8&1),512&x.flags&&(P[0]=255&M,P[1]=M>>>8&255,x.check=s(x.check,P,2,0)),F=M=0,x.mode=3;case 3:for(;F<32;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}x.head&&(x.head.time=M),512&x.flags&&(P[0]=255&M,P[1]=M>>>8&255,P[2]=M>>>16&255,P[3]=M>>>24&255,x.check=s(x.check,P,4,0)),F=M=0,x.mode=4;case 4:for(;F<16;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}x.head&&(x.head.xflags=255&M,x.head.os=M>>8),512&x.flags&&(P[0]=255&M,P[1]=M>>>8&255,x.check=s(x.check,P,2,0)),F=M=0,x.mode=5;case 5:if(1024&x.flags){for(;F<16;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}x.length=M,x.head&&(x.head.extra_len=M),512&x.flags&&(P[0]=255&M,P[1]=M>>>8&255,x.check=s(x.check,P,2,0)),F=M=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(Y<(J=x.length)&&(J=Y),J&&(x.head&&(g=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),o.arraySet(x.head.extra,U,V,J,g)),512&x.flags&&(x.check=s(x.check,U,J,V)),Y-=J,V+=J,x.length-=J),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(Y===0)break e;for(J=0;g=U[V+J++],x.head&&g&&x.length<65536&&(x.head.name+=String.fromCharCode(g)),g&&J<Y;);if(512&x.flags&&(x.check=s(x.check,U,J,V)),Y-=J,V+=J,g)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(Y===0)break e;for(J=0;g=U[V+J++],x.head&&g&&x.length<65536&&(x.head.comment+=String.fromCharCode(g)),g&&J<Y;);if(512&x.flags&&(x.check=s(x.check,U,J,V)),Y-=J,V+=J,g)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;F<16;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(M!==(65535&x.check)){C.msg="header crc mismatch",x.mode=30;break}F=M=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),C.adler=x.check=0,x.mode=12;break;case 10:for(;F<32;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}C.adler=x.check=y(M),F=M=0,x.mode=11;case 11:if(x.havedict===0)return C.next_out=ie,C.avail_out=A,C.next_in=V,C.avail_in=Y,x.hold=M,x.bits=F,2;C.adler=x.check=1,x.mode=12;case 12:if(N===5||N===6)break e;case 13:if(x.last){M>>>=7&F,F-=7&F,x.mode=27;break}for(;F<3;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}switch(x.last=1&M,F-=1,3&(M>>>=1)){case 0:x.mode=14;break;case 1:if(z(x),x.mode=20,N!==6)break;M>>>=2,F-=2;break e;case 2:x.mode=17;break;case 3:C.msg="invalid block type",x.mode=30}M>>>=2,F-=2;break;case 14:for(M>>>=7&F,F-=7&F;F<32;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if((65535&M)!=(M>>>16^65535)){C.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&M,F=M=0,x.mode=15,N===6)break e;case 15:x.mode=16;case 16:if(J=x.length){if(Y<J&&(J=Y),A<J&&(J=A),J===0)break e;o.arraySet(re,U,V,J,ie),Y-=J,V+=J,A-=J,ie+=J,x.length-=J;break}x.mode=12;break;case 17:for(;F<14;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(x.nlen=257+(31&M),M>>>=5,F-=5,x.ndist=1+(31&M),M>>>=5,F-=5,x.ncode=4+(15&M),M>>>=4,F-=4,286<x.nlen||30<x.ndist){C.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;F<3;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}x.lens[W[x.have++]]=7&M,M>>>=3,F-=3}for(;x.have<19;)x.lens[W[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,D={bits:x.lenbits},H=u(0,x.lens,0,19,x.lencode,0,x.work,D),x.lenbits=D.bits,H){C.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;ce=(v=x.lencode[M&(1<<x.lenbits)-1])>>>16&255,ke=65535&v,!((se=v>>>24)<=F);){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(ke<16)M>>>=se,F-=se,x.lens[x.have++]=ke;else{if(ke===16){for(S=se+2;F<S;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(M>>>=se,F-=se,x.have===0){C.msg="invalid bit length repeat",x.mode=30;break}g=x.lens[x.have-1],J=3+(3&M),M>>>=2,F-=2}else if(ke===17){for(S=se+3;F<S;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}F-=se,g=0,J=3+(7&(M>>>=se)),M>>>=3,F-=3}else{for(S=se+7;F<S;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}F-=se,g=0,J=11+(127&(M>>>=se)),M>>>=7,F-=7}if(x.have+J>x.nlen+x.ndist){C.msg="invalid bit length repeat",x.mode=30;break}for(;J--;)x.lens[x.have++]=g}}if(x.mode===30)break;if(x.lens[256]===0){C.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,D={bits:x.lenbits},H=u(h,x.lens,0,x.nlen,x.lencode,0,x.work,D),x.lenbits=D.bits,H){C.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,D={bits:x.distbits},H=u(c,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,D),x.distbits=D.bits,H){C.msg="invalid distances set",x.mode=30;break}if(x.mode=20,N===6)break e;case 20:x.mode=21;case 21:if(6<=Y&&258<=A){C.next_out=ie,C.avail_out=A,C.next_in=V,C.avail_in=Y,x.hold=M,x.bits=F,l(C,ee),ie=C.next_out,re=C.output,A=C.avail_out,V=C.next_in,U=C.input,Y=C.avail_in,M=x.hold,F=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;ce=(v=x.lencode[M&(1<<x.lenbits)-1])>>>16&255,ke=65535&v,!((se=v>>>24)<=F);){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(ce&&!(240&ce)){for(be=se,Pe=ce,je=ke;ce=(v=x.lencode[je+((M&(1<<be+Pe)-1)>>be)])>>>16&255,ke=65535&v,!(be+(se=v>>>24)<=F);){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}M>>>=be,F-=be,x.back+=be}if(M>>>=se,F-=se,x.back+=se,x.length=ke,ce===0){x.mode=26;break}if(32&ce){x.back=-1,x.mode=12;break}if(64&ce){C.msg="invalid literal/length code",x.mode=30;break}x.extra=15&ce,x.mode=22;case 22:if(x.extra){for(S=x.extra;F<S;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}x.length+=M&(1<<x.extra)-1,M>>>=x.extra,F-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;ce=(v=x.distcode[M&(1<<x.distbits)-1])>>>16&255,ke=65535&v,!((se=v>>>24)<=F);){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(!(240&ce)){for(be=se,Pe=ce,je=ke;ce=(v=x.distcode[je+((M&(1<<be+Pe)-1)>>be)])>>>16&255,ke=65535&v,!(be+(se=v>>>24)<=F);){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}M>>>=be,F-=be,x.back+=be}if(M>>>=se,F-=se,x.back+=se,64&ce){C.msg="invalid distance code",x.mode=30;break}x.offset=ke,x.extra=15&ce,x.mode=24;case 24:if(x.extra){for(S=x.extra;F<S;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}x.offset+=M&(1<<x.extra)-1,M>>>=x.extra,F-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){C.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(A===0)break e;if(J=ee-A,x.offset>J){if((J=x.offset-J)>x.whave&&x.sane){C.msg="invalid distance too far back",x.mode=30;break}ue=J>x.wnext?(J-=x.wnext,x.wsize-J):x.wnext-J,J>x.length&&(J=x.length),_e=x.window}else _e=re,ue=ie-x.offset,J=x.length;for(A<J&&(J=A),A-=J,x.length-=J;re[ie++]=_e[ue++],--J;);x.length===0&&(x.mode=21);break;case 26:if(A===0)break e;re[ie++]=x.length,A--,x.mode=21;break;case 27:if(x.wrap){for(;F<32;){if(Y===0)break e;Y--,M|=U[V++]<<F,F+=8}if(ee-=A,C.total_out+=ee,x.total+=ee,ee&&(C.adler=x.check=x.flags?s(x.check,re,ee,ie-ee):a(x.check,re,ee,ie-ee)),ee=A,(x.flags?M:y(M))!==x.check){C.msg="incorrect data check",x.mode=30;break}F=M=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;F<32;){if(Y===0)break e;Y--,M+=U[V++]<<F,F+=8}if(M!==(4294967295&x.total)){C.msg="incorrect length check",x.mode=30;break}F=M=0}x.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return f}return C.next_out=ie,C.avail_out=A,C.next_in=V,C.avail_in=Y,x.hold=M,x.bits=F,(x.wsize||ee!==C.avail_out&&x.mode<30&&(x.mode<27||N!==4))&&q(C,C.output,C.next_out,ee-C.avail_out)?(x.mode=31,-4):(E-=C.avail_in,ee-=C.avail_out,C.total_in+=E,C.total_out+=ee,x.total+=ee,x.wrap&&ee&&(C.adler=x.check=x.flags?s(x.check,re,ee,C.next_out-ee):a(x.check,re,ee,C.next_out-ee)),C.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(E==0&&ee===0||N===4)&&H===d&&(H=-5),H)},i.inflateEnd=function(C){if(!C||!C.state)return f;var N=C.state;return N.window&&(N.window=null),C.state=null,d},i.inflateGetHeader=function(C,N){var x;return C&&C.state&&2&(x=C.state).wrap?((x.head=N).done=!1,d):f},i.inflateSetDictionary=function(C,N){var x,U=N.length;return C&&C.state?(x=C.state).wrap!==0&&x.mode!==11?f:x.mode===11&&a(1,N,U,0)!==x.check?-3:q(C,N,U,U)?(x.mode=31,-4):(x.havedict=1,d):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,c,d,f,m,p,b,y){var k,w,T,j,I,L,$,O,z,q=y.bits,C=0,N=0,x=0,U=0,re=0,V=0,ie=0,Y=0,A=0,M=0,F=null,E=0,ee=new o.Buf16(16),J=new o.Buf16(16),ue=null,_e=0;for(C=0;C<=15;C++)ee[C]=0;for(N=0;N<f;N++)ee[c[d+N]]++;for(re=q,U=15;1<=U&&ee[U]===0;U--);if(U<re&&(re=U),U===0)return m[p++]=20971520,m[p++]=20971520,y.bits=1,0;for(x=1;x<U&&ee[x]===0;x++);for(re<x&&(re=x),C=Y=1;C<=15;C++)if(Y<<=1,(Y-=ee[C])<0)return-1;if(0<Y&&(h===0||U!==1))return-1;for(J[1]=0,C=1;C<15;C++)J[C+1]=J[C]+ee[C];for(N=0;N<f;N++)c[d+N]!==0&&(b[J[c[d+N]]++]=N);if(L=h===0?(F=ue=b,19):h===1?(F=a,E-=257,ue=s,_e-=257,256):(F=l,ue=u,-1),C=x,I=p,ie=N=M=0,T=-1,j=(A=1<<(V=re))-1,h===1&&852<A||h===2&&592<A)return 1;for(;;){for($=C-ie,z=b[N]<L?(O=0,b[N]):b[N]>L?(O=ue[_e+b[N]],F[E+b[N]]):(O=96,0),k=1<<C-ie,x=w=1<<V;m[I+(M>>ie)+(w-=k)]=$<<24|O<<16|z|0,w!==0;);for(k=1<<C-1;M&k;)k>>=1;if(k!==0?(M&=k-1,M+=k):M=0,N++,--ee[C]==0){if(C===U)break;C=c[d+b[N]]}if(re<C&&(M&j)!==T){for(ie===0&&(ie=re),I+=x,Y=1<<(V=C-ie);V+ie<U&&!((Y-=ee[V+ie])<=0);)V++,Y<<=1;if(A+=1<<V,h===1&&852<A||h===2&&592<A)return 1;m[T=M&j]=re<<24|V<<16|I-p|0}}return M!==0&&(m[I+M]=C-ie<<24|64<<16|0),y.bits=re,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),a=0,s=1;function l(v){for(var P=v.length;0<=--P;)v[P]=0}var u=0,h=29,c=256,d=c+1+h,f=30,m=19,p=2*d+1,b=15,y=16,k=7,w=256,T=16,j=17,I=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(d+2));l(q);var C=new Array(2*f);l(C);var N=new Array(512);l(N);var x=new Array(256);l(x);var U=new Array(h);l(U);var re,V,ie,Y=new Array(f);function A(v,P,W,G,B){this.static_tree=v,this.extra_bits=P,this.extra_base=W,this.elems=G,this.max_length=B,this.has_stree=v&&v.length}function M(v,P){this.dyn_tree=v,this.max_code=0,this.stat_desc=P}function F(v){return v<256?N[v]:N[256+(v>>>7)]}function E(v,P){v.pending_buf[v.pending++]=255&P,v.pending_buf[v.pending++]=P>>>8&255}function ee(v,P,W){v.bi_valid>y-W?(v.bi_buf|=P<<v.bi_valid&65535,E(v,v.bi_buf),v.bi_buf=P>>y-v.bi_valid,v.bi_valid+=W-y):(v.bi_buf|=P<<v.bi_valid&65535,v.bi_valid+=W)}function J(v,P,W){ee(v,W[2*P],W[2*P+1])}function ue(v,P){for(var W=0;W|=1&v,v>>>=1,W<<=1,0<--P;);return W>>>1}function _e(v,P,W){var G,B,K=new Array(b+1),ne=0;for(G=1;G<=b;G++)K[G]=ne=ne+W[G-1]<<1;for(B=0;B<=P;B++){var Q=v[2*B+1];Q!==0&&(v[2*B]=ue(K[Q]++,Q))}}function se(v){var P;for(P=0;P<d;P++)v.dyn_ltree[2*P]=0;for(P=0;P<f;P++)v.dyn_dtree[2*P]=0;for(P=0;P<m;P++)v.bl_tree[2*P]=0;v.dyn_ltree[2*w]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ce(v){8<v.bi_valid?E(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function ke(v,P,W,G){var B=2*P,K=2*W;return v[B]<v[K]||v[B]===v[K]&&G[P]<=G[W]}function be(v,P,W){for(var G=v.heap[W],B=W<<1;B<=v.heap_len&&(B<v.heap_len&&ke(P,v.heap[B+1],v.heap[B],v.depth)&&B++,!ke(P,G,v.heap[B],v.depth));)v.heap[W]=v.heap[B],W=B,B<<=1;v.heap[W]=G}function Pe(v,P,W){var G,B,K,ne,Q=0;if(v.last_lit!==0)for(;G=v.pending_buf[v.d_buf+2*Q]<<8|v.pending_buf[v.d_buf+2*Q+1],B=v.pending_buf[v.l_buf+Q],Q++,G===0?J(v,B,P):(J(v,(K=x[B])+c+1,P),(ne=L[K])!==0&&ee(v,B-=U[K],ne),J(v,K=F(--G),W),(ne=$[K])!==0&&ee(v,G-=Y[K],ne)),Q<v.last_lit;);J(v,w,P)}function je(v,P){var W,G,B,K=P.dyn_tree,ne=P.stat_desc.static_tree,Q=P.stat_desc.has_stree,R=P.stat_desc.elems,Z=-1;for(v.heap_len=0,v.heap_max=p,W=0;W<R;W++)K[2*W]!==0?(v.heap[++v.heap_len]=Z=W,v.depth[W]=0):K[2*W+1]=0;for(;v.heap_len<2;)K[2*(B=v.heap[++v.heap_len]=Z<2?++Z:0)]=1,v.depth[B]=0,v.opt_len--,Q&&(v.static_len-=ne[2*B+1]);for(P.max_code=Z,W=v.heap_len>>1;1<=W;W--)be(v,K,W);for(B=R;W=v.heap[1],v.heap[1]=v.heap[v.heap_len--],be(v,K,1),G=v.heap[1],v.heap[--v.heap_max]=W,v.heap[--v.heap_max]=G,K[2*B]=K[2*W]+K[2*G],v.depth[B]=(v.depth[W]>=v.depth[G]?v.depth[W]:v.depth[G])+1,K[2*W+1]=K[2*G+1]=B,v.heap[1]=B++,be(v,K,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(te,oe){var me,Ce,Be,ge,We,Ye,Se=oe.dyn_tree,Xe=oe.max_code,$e=oe.stat_desc.static_tree,so=oe.stat_desc.has_stree,lo=oe.stat_desc.extra_bits,Tr=oe.stat_desc.extra_base,mt=oe.stat_desc.max_length,jt=0;for(ge=0;ge<=b;ge++)te.bl_count[ge]=0;for(Se[2*te.heap[te.heap_max]+1]=0,me=te.heap_max+1;me<p;me++)mt<(ge=Se[2*Se[2*(Ce=te.heap[me])+1]+1]+1)&&(ge=mt,jt++),Se[2*Ce+1]=ge,Xe<Ce||(te.bl_count[ge]++,We=0,Tr<=Ce&&(We=lo[Ce-Tr]),Ye=Se[2*Ce],te.opt_len+=Ye*(ge+We),so&&(te.static_len+=Ye*($e[2*Ce+1]+We)));if(jt!==0){do{for(ge=mt-1;te.bl_count[ge]===0;)ge--;te.bl_count[ge]--,te.bl_count[ge+1]+=2,te.bl_count[mt]--,jt-=2}while(0<jt);for(ge=mt;ge!==0;ge--)for(Ce=te.bl_count[ge];Ce!==0;)Xe<(Be=te.heap[--me])||(Se[2*Be+1]!==ge&&(te.opt_len+=(ge-Se[2*Be+1])*Se[2*Be],Se[2*Be+1]=ge),Ce--)}}(v,P),_e(K,Z,v.bl_count)}function g(v,P,W){var G,B,K=-1,ne=P[1],Q=0,R=7,Z=4;for(ne===0&&(R=138,Z=3),P[2*(W+1)+1]=65535,G=0;G<=W;G++)B=ne,ne=P[2*(G+1)+1],++Q<R&&B===ne||(Q<Z?v.bl_tree[2*B]+=Q:B!==0?(B!==K&&v.bl_tree[2*B]++,v.bl_tree[2*T]++):Q<=10?v.bl_tree[2*j]++:v.bl_tree[2*I]++,K=B,Z=(Q=0)===ne?(R=138,3):B===ne?(R=6,3):(R=7,4))}function H(v,P,W){var G,B,K=-1,ne=P[1],Q=0,R=7,Z=4;for(ne===0&&(R=138,Z=3),G=0;G<=W;G++)if(B=ne,ne=P[2*(G+1)+1],!(++Q<R&&B===ne)){if(Q<Z)for(;J(v,B,v.bl_tree),--Q!=0;);else B!==0?(B!==K&&(J(v,B,v.bl_tree),Q--),J(v,T,v.bl_tree),ee(v,Q-3,2)):Q<=10?(J(v,j,v.bl_tree),ee(v,Q-3,3)):(J(v,I,v.bl_tree),ee(v,Q-11,7));K=B,Z=(Q=0)===ne?(R=138,3):B===ne?(R=6,3):(R=7,4)}}l(Y);var D=!1;function S(v,P,W,G){ee(v,(u<<1)+(G?1:0),3),function(B,K,ne,Q){ce(B),E(B,ne),E(B,~ne),o.arraySet(B.pending_buf,B.window,K,ne,B.pending),B.pending+=ne}(v,P,W)}i._tr_init=function(v){D||(function(){var P,W,G,B,K,ne=new Array(b+1);for(B=G=0;B<h-1;B++)for(U[B]=G,P=0;P<1<<L[B];P++)x[G++]=B;for(x[G-1]=B,B=K=0;B<16;B++)for(Y[B]=K,P=0;P<1<<$[B];P++)N[K++]=B;for(K>>=7;B<f;B++)for(Y[B]=K<<7,P=0;P<1<<$[B]-7;P++)N[256+K++]=B;for(W=0;W<=b;W++)ne[W]=0;for(P=0;P<=143;)q[2*P+1]=8,P++,ne[8]++;for(;P<=255;)q[2*P+1]=9,P++,ne[9]++;for(;P<=279;)q[2*P+1]=7,P++,ne[7]++;for(;P<=287;)q[2*P+1]=8,P++,ne[8]++;for(_e(q,d+1,ne),P=0;P<f;P++)C[2*P+1]=5,C[2*P]=ue(P,5);re=new A(q,L,c+1,d,b),V=new A(C,$,0,f,b),ie=new A(new Array(0),O,0,m,k)}(),D=!0),v.l_desc=new M(v.dyn_ltree,re),v.d_desc=new M(v.dyn_dtree,V),v.bl_desc=new M(v.bl_tree,ie),v.bi_buf=0,v.bi_valid=0,se(v)},i._tr_stored_block=S,i._tr_flush_block=function(v,P,W,G){var B,K,ne=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(Q){var R,Z=4093624447;for(R=0;R<=31;R++,Z>>>=1)if(1&Z&&Q.dyn_ltree[2*R]!==0)return a;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return s;for(R=32;R<c;R++)if(Q.dyn_ltree[2*R]!==0)return s;return a}(v)),je(v,v.l_desc),je(v,v.d_desc),ne=function(Q){var R;for(g(Q,Q.dyn_ltree,Q.l_desc.max_code),g(Q,Q.dyn_dtree,Q.d_desc.max_code),je(Q,Q.bl_desc),R=m-1;3<=R&&Q.bl_tree[2*z[R]+1]===0;R--);return Q.opt_len+=3*(R+1)+5+5+4,R}(v),B=v.opt_len+3+7>>>3,(K=v.static_len+3+7>>>3)<=B&&(B=K)):B=K=W+5,W+4<=B&&P!==-1?S(v,P,W,G):v.strategy===4||K===B?(ee(v,2+(G?1:0),3),Pe(v,q,C)):(ee(v,4+(G?1:0),3),function(Q,R,Z,te){var oe;for(ee(Q,R-257,5),ee(Q,Z-1,5),ee(Q,te-4,4),oe=0;oe<te;oe++)ee(Q,Q.bl_tree[2*z[oe]+1],3);H(Q,Q.dyn_ltree,R-1),H(Q,Q.dyn_dtree,Z-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,ne+1),Pe(v,v.dyn_ltree,v.dyn_dtree)),se(v),G&&ce(v)},i._tr_tally=function(v,P,W){return v.pending_buf[v.d_buf+2*v.last_lit]=P>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&P,v.pending_buf[v.l_buf+v.last_lit]=255&W,v.last_lit++,P===0?v.dyn_ltree[2*W]++:(v.matches++,P--,v.dyn_ltree[2*(x[W]+c+1)]++,v.dyn_dtree[2*F(P)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){ee(v,2,3),J(v,w,q),function(P){P.bi_valid===16?(E(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(a,s){if(!a.setImmediate){var l,u,h,c,d=1,f={},m=!1,p=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(T){process.nextTick(function(){k(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,j=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=j,T}}()?(c="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(T){a.postMessage(c+T,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(T){k(T.data)},function(T){h.port2.postMessage(T)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(T){var j=p.createElement("script");j.onreadystatechange=function(){k(T),j.onreadystatechange=null,u.removeChild(j),j=null},u.appendChild(j)}):function(T){setTimeout(k,0,T)},b.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var j=new Array(arguments.length-1),I=0;I<j.length;I++)j[I]=arguments[I+1];var L={callback:T,args:j};return f[d]=L,l(d),d++},b.clearImmediate=y}function y(T){delete f[T]}function k(T){if(m)setTimeout(k,0,T);else{var j=f[T];if(j){m=!0;try{(function(I){var L=I.callback,$=I.args;switch($.length){case 0:L();break;case 1:L($[0]);break;case 2:L($[0],$[1]);break;case 3:L($[0],$[1],$[2]);break;default:L.apply(s,$)}})(j)}finally{y(T),m=!1}}}}function w(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(c)===0&&k(+T.data.slice(c.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof tt<"u"?tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Vi);var hs=Vi.exports;const Br=Vn(hs),ds="PenAndPaperDB",ps=1,gt="audio",yt="images",Je="data";class ye{static async openDB(){return new Promise((n,t)=>{const r=indexedDB.open(ds,ps);r.onerror=i=>{t(new Error("Failed to open IndexedDB"))},r.onsuccess=i=>{n(r.result)},r.onupgradeneeded=i=>{const o=r.result;o.objectStoreNames.contains(gt)||o.createObjectStore(gt,{keyPath:"name"}),o.objectStoreNames.contains(yt)||o.createObjectStore(yt,{keyPath:"name"}),o.objectStoreNames.contains(Je)||o.createObjectStore(Je,{keyPath:"name"})}})}static async processZipFile(n){try{const r=await new Br().loadAsync(n),i=[],o=[],a=[],s=async(u,h,c)=>{const d=r.folder(u);if(!d){console.warn(`Folder '${u}' not found in the zip file.`);return}const f=Object.keys(d.files).filter(m=>!d.files[m].dir&&m.startsWith(`${u}/`)).map(async m=>{const p=m.split("/").pop()||"";if(!p)return;const b=await d.files[m].async("base64"),y=this.getMimeType(p);c.push({name:p,data:b,type:y,lastModified:Date.now()})});await Promise.all(f)};if(await s("audio","audio",i),await s("images","images",o),await s("data","data",a),i.length===0&&o.length===0&&a.length===0)return{success:!1,message:"The zip file does not contain any recognized files in the required folders (audio, images, data)."};const l=await this.openDB();return i.length>0&&await this.storeAssets(l,gt,i),o.length>0&&await this.storeAssets(l,yt,o),a.length>0&&await this.storeAssets(l,Je,a),l.close(),{success:!0,message:`Successfully imported ${i.length} audio files, ${o.length} image files, and ${a.length} data files.`}}catch(t){return console.error("Error processing zip file:",t),{success:!1,message:`Error processing zip file: ${t instanceof Error?t.message:String(t)}`}}}static async storeAssets(n,t,r){return new Promise((i,o)=>{const a=n.transaction(t,"readwrite"),s=a.objectStore(t);a.oncomplete=()=>i(),a.onerror=u=>o(new Error("Transaction failed"));const l=s.clear();l.onsuccess=()=>{r.forEach(u=>{s.add(u)})}})}static async getAssets(n){try{const t=await this.openDB(),r=this.getStoreName(n);return new Promise((i,o)=>{const l=t.transaction(r,"readonly").objectStore(r).getAll();l.onsuccess=()=>{t.close(),i(l.result||[])},l.onerror=()=>{t.close(),o(new Error(`Failed to get assets from ${r}`))}})}catch(t){return console.error("Error getting assets:",t),[]}}static async hasAssets(n){try{return(await this.getAssets(n)).length>0}catch(t){return console.error("Error checking for assets:",t),!1}}static async getAssetByName(n,t){if(!t)return null;try{const r=await this.openDB(),i=this.getStoreName(n);return new Promise((o,a)=>{const u=r.transaction(i,"readonly").objectStore(i).get(t);u.onsuccess=()=>{r.close(),o(u.result||null)},u.onerror=()=>{r.close(),a(new Error(`Failed to get asset ${t} from ${i}`))}})}catch(r){return console.error(`Error getting asset ${t}:`,r),null}}static async clearAllAssets(){try{const n=await this.openDB();await Promise.all([this.clearStore(n,gt),this.clearStore(n,yt),this.clearStore(n,Je)]),n.close()}catch(n){console.error("Error clearing assets:",n)}}static clearStore(n,t){return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).clear();s.onsuccess=()=>r(),s.onerror=()=>i(new Error(`Failed to clear ${t}`))})}static getStoreName(n){switch(n){case"audio":return gt;case"images":return yt;case"data":return Je}}static getMimeType(n){var r;switch(((r=n.split(".").pop())==null?void 0:r.toLowerCase())||""){case"mp3":return"audio/mpeg";case"wav":return"audio/wav";case"ogg":return"audio/ogg";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"svg":return"image/svg+xml";case"json":return"application/json";case"txt":return"text/plain";default:return"application/octet-stream"}}static async getAssetUrl(n,t){if(!t)return"";try{const r=await this.getAssetByName(n,t);return r?`data:${r.type};base64,${r.data}`:""}catch(r){return console.error(`Error getting asset URL for ${t}:`,r),""}}static encodeUnicode(n){return window.btoa(unescape(encodeURIComponent(n)))}static decodeUnicode(n){try{return decodeURIComponent(escape(window.atob(n)))}catch{console.warn("Failed to decode with Unicode method, trying direct decode");try{return window.atob(n)}catch{return console.warn("Direct decode failed too, returning as-is"),n}}}static async saveDataObject(n,t){try{const r=JSON.stringify(t,null,2),i=this.encodeUnicode(r),o={name:n,data:i,type:"application/json",lastModified:Date.now()},a=await this.openDB(),s=Je;return new Promise((l,u)=>{const h=a.transaction(s,"readwrite"),c=h.objectStore(s);h.oncomplete=()=>{a.close(),l({success:!0,message:`Successfully saved ${n} data.`})},h.onerror=d=>{a.close(),u(new Error(`Failed to save data ${n}`))},c.put(o)})}catch(r){return console.error(`Error saving data object ${n}:`,r),{success:!1,message:`Error saving data: ${r instanceof Error?r.message:String(r)}`}}}static async getDataObject(n){if(!n)return null;try{const t=await this.getAssetByName("data",n);if(!t)return null;let r="",i=null;try{return r=this.decodeUnicode(t.data),i=JSON.parse(r),i}catch(o){console.warn(`Unicode decode failed for ${n}:`,o)}try{return r=window.atob(t.data),i=JSON.parse(r),i}catch(o){console.warn(`Direct atob decode failed for ${n}:`,o)}if(t.data.startsWith("{")||t.data.startsWith("["))try{return i=JSON.parse(t.data),i}catch(o){console.warn(`Direct JSON parse failed for ${n}:`,o)}return console.error(`All decoding methods failed for ${n}`),null}catch(t){return console.error(`Error getting data object ${n}:`,t),null}}static async exportToZip(){try{const n=new Br,t=n.folder("audio"),r=n.folder("images"),i=n.folder("data");if(!t||!r||!i)throw new Error("Failed to create folders in the zip file");const o=await this.getAssets("audio"),a=await this.getAssets("images"),s=await this.getAssets("data");for(const u of o)t.file(u.name,u.data,{base64:!0});for(const u of a)r.file(u.name,u.data,{base64:!0});for(const u of s)i.file(u.name,u.data,{base64:!0});const l=await n.generateAsync({type:"blob"});return{success:!0,message:`Successfully exported ${o.length} audio files, ${a.length} image files, and ${s.length} data files.`,zipBlob:l}}catch(n){return console.error("Error exporting assets to zip:",n),{success:!1,message:`Error exporting assets: ${n instanceof Error?n.message:String(n)}`}}}static async addAsset(n,t){try{const r=new FileReader,o=await new Promise((h,c)=>{r.onload=()=>{const d=r.result.split(",")[1];h(d)},r.onerror=()=>c(new Error("Failed to read file")),r.readAsDataURL(t)}),a=this.getMimeType(t.name),s={name:t.name,data:o,type:a,lastModified:Date.now()},l=await this.openDB(),u=this.getStoreName(n);return new Promise((h,c)=>{const d=l.transaction(u,"readwrite"),f=d.objectStore(u);d.oncomplete=()=>{l.close(),h({success:!0,message:`Successfully added ${t.name} to ${n} assets.`})},d.onerror=m=>{l.close(),c(new Error(`Failed to add asset ${t.name} to ${u}`))},f.put(s)})}catch(r){return console.error(`Error adding asset ${t.name}:`,r),{success:!1,message:`Error adding asset: ${r instanceof Error?r.message:String(r)}`}}}static async deleteAsset(n,t){try{const r=await this.openDB(),i=this.getStoreName(n);return new Promise((o,a)=>{const s=r.transaction(i,"readwrite"),l=s.objectStore(i);s.oncomplete=()=>{r.close(),o({success:!0,message:`Successfully deleted ${t} from ${n} assets.`})},s.onerror=u=>{r.close(),a(new Error(`Failed to delete asset ${t} from ${i}`))},l.delete(t)})}catch(r){return console.error(`Error deleting asset ${t}:`,r),{success:!1,message:`Error deleting asset: ${r instanceof Error?r.message:String(r)}`}}}static async loadExampleData(){try{const n=[],t=await this.openDB(),r=t.transaction(Je,"readwrite").objectStore(Je),i=JSON.stringify(n),o=this.encodeUnicode(i);return r.add({name:"locations.json",data:o,type:"application/json",lastModified:Date.now()}),t.close(),{success:!0,message:"Created empty locations data. You can now start adding your own locations."}}catch(n){return console.error("Error creating example data:",n),{success:!1,message:`Error creating example data: ${n instanceof Error?n.message:String(n)}`}}}}const Mr=async()=>await ye.getDataObject("locations.json")||[],Nr=async()=>await ye.getDataObject("characters.json")||[],ms=async()=>await ye.getDataObject("combats.json")||[],gs=[],ys=[],He=Uo((e,n)=>((async()=>{try{e({isLoading:!0});const r=await ye.hasAssets("audio"),i=await ye.hasAssets("images"),o=await ye.hasAssets("data"),a=r||i||o;if(e({hasAssets:a}),a){const s=await Mr(),l=await Nr(),u=await ms();e({locations:s,characters:l,combats:u,isLoading:!1})}else e({isLoading:!1})}catch(r){console.error("Error initializing store:",r),e({isLoading:!1})}})(),{locations:gs,mapConfig:{worldWidth:1920,worldHeight:1080},selectedLocationId:null,characters:ys,combats:[],audioTracks:[],currentLocation:void 0,currentHowl:null,volume:.7,isPlaying:!1,activeTracks:[],hasAssets:!1,isLoading:!0,addLocation:r=>{const i={...r,id:crypto.randomUUID()};e(o=>({locations:[...o.locations,i]}))},updateLocation:(r,i)=>{e(o=>({locations:o.locations.map(a=>a.id===r?{...a,...i}:a)}))},deleteLocation:r=>{e(i=>{var a;const o=(s,l)=>s.filter(u=>u.id===l?!1:(u.sublocations&&u.sublocations.length>0&&(u.sublocations=o(u.sublocations,l)),!0));return{locations:o(i.locations,r),currentLocation:((a=i.currentLocation)==null?void 0:a.id)===r?void 0:i.currentLocation}})},addCharacter:r=>{const i={...r,id:crypto.randomUUID()};e(o=>({characters:[...o.characters,i]}))},updateCharacter:(r,i)=>{e(o=>({characters:o.characters.map(a=>a.id===r?{...a,...i}:a)}))},deleteCharacter:r=>{e(i=>({characters:i.characters.filter(o=>o.id!==r)}))},addCombat:r=>{const i={...r,id:crypto.randomUUID()};e(o=>({combats:[...o.combats,i]}))},updateCombat:(r,i)=>{e(o=>({combats:o.combats.map(a=>a.id===r?{...a,...i}:a)}))},deleteCombat:r=>{e(i=>({combats:i.combats.filter(o=>o.id!==r)}))},addAudioTrack:r=>{const i={...r,id:crypto.randomUUID(),howl:new Or.Howl({src:[r.url],html5:!0})};e(o=>({audioTracks:[...o.audioTracks,i]}))},setCurrentLocation:r=>{const i=n().locations.find(o=>o.id===r);e({currentLocation:i})},setVolume:r=>{const{currentHowl:i,activeTracks:o}=n();console.log(`Setting volume to ${r} for ${o.length} active tracks`),o.forEach(a=>{a.isMuted||a.howl.volume(r)}),i&&!o.some(a=>a.howl===i)&&i.volume(r),e(a=>({volume:r,activeTracks:a.activeTracks.map(s=>({...s,volume:s.isMuted?s.volume:r}))}))},playTrack:async(r,i)=>{const{currentHowl:o,volume:a,activeTracks:s,locations:l}=n(),u=(i==null?void 0:i.replace)??!0,h=(i==null?void 0:i.locationId)||"",c=(i==null?void 0:i.loop)??!0,d=r.split("/").pop()||"Unknown track",f=await ye.getAssetUrl("audio",d);if(!f){console.warn(`Audio file not found: ${d}`);return}if(s.some(y=>y.name===d||y.id===r)){console.log("This track is already playing, skipping",d);return}if(!u&&h){console.log("Keeping parent track, this is a mixed sublocation");const y=l.find(T=>T.id===h);y!=null&&y.parentLocationId;const k=y==null?void 0:y.parentLocationId,w=s.filter(T=>!(T.locationId===h||T.locationId===k||!T.locationId));w.forEach(T=>{console.log(`Stopping track: ${T.name} for location: ${T.locationId}`),T.howl.fade(T.volume,0,1e3),T.howl.once("fade",()=>T.howl.stop())}),e({activeTracks:s.filter(T=>!w.some(j=>j.id===T.id))})}else u&&(console.log("Replacing all tracks, this is a main location change"),s.forEach(y=>{y.howl.fade(y.volume,0,2e3),y.howl.once("fade",()=>{y.howl.stop()})}),e({activeTracks:[]}),o&&(o.fade(o.volume(),0,2e3),o.once("fade",()=>{o.stop()})));const p=new Or.Howl({src:[f],loop:c,volume:u?0:a}),b={id:r,howl:p,name:d,volume:a,isMuted:!1,locationId:h,loop:c};e(y=>({activeTracks:[...y.activeTracks,b]})),c||p.once("end",()=>{console.log("Non-looping track ended, removing from active tracks:",d),e(y=>({activeTracks:y.activeTracks.filter(k=>k.id!==r)}))}),u&&p.fade(0,a,2e3),p.play()},stopTrack:()=>{const{currentHowl:r,volume:i}=n();r&&(r.stop(),e({currentHowl:null,isPlaying:!1}))},getSublocationsByParentId:r=>n().locations.filter(i=>i.parentLocationId===r),getAllTopLevelLocations:()=>n().locations.filter(r=>!r.parentLocationId),toggleMuteTrack:r=>{e(i=>({activeTracks:i.activeTracks.map(o=>{if(o.id===r){const a=!o.isMuted;return o.howl.volume(a?0:o.volume),{...o,isMuted:a}}return o})}))},stopIndividualTrack:r=>{e(i=>{const o=i.activeTracks.find(a=>a.id===r);if(o){console.log("Stopping track:",o.name);const a=i.activeTracks.filter(s=>s.id!==r);return o.howl.fade(o.volume,0,1e3),o.howl.once("fade",()=>{o.howl.stop(),o.howl.unload()}),{activeTracks:a}}return i})},setTrackVolume:(r,i)=>{e(o=>({activeTracks:o.activeTracks.map(s=>s.id===r?(s.isMuted||s.howl.volume(i),{...s,volume:i}):s)}))},refreshAssets:async()=>{try{e({isLoading:!0});const r=await Mr(),i=await Nr(),o=await ye.hasAssets("audio"),a=await ye.hasAssets("images"),s=await ye.hasAssets("data"),{activeTracks:l,currentHowl:u}=n();l.forEach(h=>{h.howl.fade(h.volume,0,500),h.howl.once("fade",()=>{h.howl.stop(),h.howl.unload()})}),u&&(u.fade(u.volume(),0,500),u.once("fade",()=>{u.stop(),u.unload()})),e({locations:r,characters:i,hasAssets:o||a||s,isLoading:!1,activeTracks:[],currentHowl:null})}catch(r){console.error("Error refreshing assets:",r),e({isLoading:!1})}},saveDataToIndexedDB:async()=>{try{const{locations:r,characters:i,combats:o}=n(),a=await ye.saveDataObject("locations.json",r),s=await ye.saveDataObject("characters.json",i),l=await ye.saveDataObject("combats.json",o);return a.success&&s.success&&l.success?{success:!0,message:"Data saved successfully"}:{success:!1,message:`Error saving data: ${a.message}, ${s.message}, ${l.message}`}}catch(r){return console.error("Error saving data to IndexedDB:",r),{success:!1,message:"Error saving data to IndexedDB"}}},exportToZip:async()=>{try{e({isLoading:!0});const r=await n().saveDataToIndexedDB();if(!r.success)return e({isLoading:!1}),r;const i=await ye.exportToZip();if(e({isLoading:!1}),!i.success||!i.zipBlob)return i;const o=URL.createObjectURL(i.zipBlob);return{...i,url:o}}catch(r){return console.error("Error exporting to zip:",r),e({isLoading:!1}),{success:!1,message:`Error exporting data: ${r instanceof Error?r.message:String(r)}`}}},setSelectedLocationId:r=>{e({selectedLocationId:r})}}));var Qn={},xs=Ae;Object.defineProperty(Qn,"__esModule",{value:!0});var Wi=Qn.default=void 0,bs=xs(Ie()),un=_;Wi=Qn.default=(0,bs.default)([(0,un.jsx)("circle",{cx:"16.5",cy:"2.38",r:"2"},"0"),(0,un.jsx)("path",{d:"M24 11.88v-4.7l-5.05-2.14c-.97-.41-2.09-.06-2.65.84l-1 1.6c-.67 1.18-1.91 2.06-3.41 2.32l.06.06c.69.69 1.52 1.07 2.46 1.17.8-.42 1.52-.98 2.09-1.64l.6 3-1.16 1.1-.94.89v7.5h2v-6l2.1-2 1.8 8H23l-2.18-11-.62-3.1 1.8.7v3.4zM10.29 8.09c.22.15.47.24.72.29.13.02.25.04.38.04s.26-.01.38-.04c.13-.02.25-.06.37-.11.24-.1.47-.24.66-.44.49-.49.67-1.17.55-1.8-.07-.37-.25-.74-.55-1.03-.19-.19-.42-.34-.66-.44-.12-.05-.24-.09-.37-.11s-.25-.04-.38-.04c-.12 0-.23.01-.35.03-.14.02-.28.06-.41.11-.23.11-.46.26-.65.45-.3.29-.48.66-.55 1.03-.12.63.06 1.31.55 1.8.09.1.2.18.31.26"},"1"),(0,un.jsx)("path",{d:"m11.24 10.56-2-2c-.1-.1-.2-.18-.31-.26-.22-.14-.47-.24-.72-.28-.13-.03-.25-.04-.38-.04-.51 0-1.02.2-1.41.59l-3.34 3.34c-.41.41-.62.98-.58 1.54 0 .18.04.37.11.55l1.07 2.95-3.63 3.63L1.46 22l4.24-4.24v-2.22L7 16.75v5.13h2v-6l-2.12-2.12 2.36-2.36.71.71c1.29 1.26 2.97 2.04 5.03 2.04l-.14-2.07c-1.5-.02-2.7-.62-3.6-1.52"},"2")],"SportsKabaddi");const ks=()=>{const[e,n]=Wn.useState(!1),t=Bo(),r=fo(),i=ho(r.breakpoints.down("sm")),{saveDataToIndexedDB:o,exportToZip:a}=He(),s=async()=>{try{const d=await o();alert(d.message)}catch(d){alert(`Error saving data: ${d instanceof Error?d.message:String(d)}`)}},l=async()=>{try{const d=await a();if(d.success&&d.url){const f=document.createElement("a");f.href=d.url,f.download="campaign-data.zip",document.body.appendChild(f),f.click(),document.body.removeChild(f)}else alert(d.message)}catch(d){alert(`Error exporting data: ${d instanceof Error?d.message:String(d)}`)}},u=()=>{n(!e)},h=d=>t.pathname===d,c=[{path:"/",label:"Dashboard",icon:_.jsx(Ni,{})},{path:"/map",label:"Map View",icon:_.jsx(Ui,{})},{path:"/locations",label:"Locations Editor",icon:_.jsx($i,{})},{path:"/characters",label:"Characters Editor",icon:_.jsx(Hi,{})},{path:"/combats",label:"Combats Editor",icon:_.jsx(Wi,{})}];return _.jsxs(_.Fragment,{children:[_.jsx(po,{position:"static",children:_.jsxs(mo,{children:[i&&_.jsx(Le,{edge:"start",color:"inherit","aria-label":"menu",onClick:u,children:_.jsx(Mi,{})}),_.jsx(he,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Campaign Organizer"}),!i&&_.jsx(xe,{children:c.map(d=>_.jsx(Oe,{color:"inherit",component:Rr,to:d.path,sx:{mx:.5,fontWeight:h(d.path)?"bold":"normal",borderBottom:h(d.path)?"2px solid white":"none"},children:d.label},d.path))}),_.jsxs(xe,{sx:{ml:2},children:[_.jsx(Le,{color:"inherit",onClick:s,title:"Save Campaign",children:_.jsx(En,{})}),_.jsx(Le,{color:"inherit",onClick:l,title:"Export Campaign",children:_.jsx(An,{})})]})]})}),_.jsx(go,{anchor:"left",open:e,onClose:u,children:_.jsxs(xe,{sx:{width:250},role:"presentation",onClick:u,children:[_.jsx(St,{children:c.map(d=>_.jsxs(ct,{button:!0,component:Rr,to:d.path,selected:h(d.path),children:[_.jsx(en,{children:d.icon}),_.jsx(kt,{primary:d.label})]},d.path))}),_.jsx(Zt,{}),_.jsxs(St,{children:[_.jsxs(ct,{button:!0,onClick:s,children:[_.jsx(en,{children:_.jsx(En,{})}),_.jsx(kt,{primary:"Save Campaign"})]}),_.jsxs(ct,{button:!0,onClick:l,children:[_.jsx(en,{children:_.jsx(An,{})}),_.jsx(kt,{primary:"Export Campaign"})]})]})]})})]})};var er={},ws=Ae;Object.defineProperty(er,"__esModule",{value:!0});var qi=er.default=void 0,vs=ws(Ie()),_s=_;qi=er.default=(0,vs.default)((0,_s.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var tr={},Ss=Ae;Object.defineProperty(tr,"__esModule",{value:!0});var Zi=tr.default=void 0,Cs=Ss(Ie()),Es=_;Zi=tr.default=(0,Cs.default)((0,Es.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var nr={},As=Ae;Object.defineProperty(nr,"__esModule",{value:!0});var Gi=nr.default=void 0,Is=As(Ie()),zs=_;Gi=nr.default=(0,Is.default)((0,zs.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var rr={},Ts=Ae;Object.defineProperty(rr,"__esModule",{value:!0});var Yi=rr.default=void 0,js=Ts(Ie()),Ds=_;Yi=rr.default=(0,js.default)((0,Ds.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp");const Ps=()=>{const[e,n]=fe.useState(!1),[t,r]=fe.useState([]),[i,o]=fe.useState(!1),[a,s]=fe.useState(""),[l,u]=fe.useState(!0),h=He(k=>k.playTrack),c=He(k=>k.activeTracks);fe.useEffect(()=>{e&&d()},[e]);const d=async()=>{o(!0);try{const k=await ye.getAssets("audio");r(k.map(w=>w.name))}catch(k){console.error("Error loading audio assets:",k)}finally{o(!1)}},f=()=>{n(!0)},m=()=>{n(!1)},p=k=>{const w=`/audio/${k}`;h(w,{replace:!1,locationId:"",loop:l}),m()},b=k=>c.some(w=>w.name===k),y=t.filter(k=>k.toLowerCase().includes(a.toLowerCase()));return _.jsxs(_.Fragment,{children:[_.jsx(Oe,{variant:"contained",color:"primary",startIcon:_.jsx(Zi,{}),onClick:f,size:"small",sx:{mb:1},children:"Add Track"}),_.jsxs(Un,{open:e,onClose:m,maxWidth:"sm",fullWidth:!0,children:[_.jsx(Fi,{children:"Select Audio Track"}),_.jsxs($n,{children:[_.jsxs(xe,{sx:{mb:2,mt:1},children:[_.jsx(he,{variant:"body2",gutterBottom:!0,children:"Select a track to play. You can choose whether to loop it or play it once."}),_.jsx(yo,{fullWidth:!0,variant:"outlined",size:"small",placeholder:"Search tracks...",value:a,onChange:k=>s(k.target.value),sx:{mb:2,mt:1},InputProps:{startAdornment:_.jsx(xo,{position:"start",children:_.jsx(Gi,{})})}}),_.jsx(bo,{control:_.jsx(ko,{checked:l,onChange:k=>u(k.target.checked),color:"primary"}),label:"Loop Track"})]}),_.jsx(Zt,{sx:{mb:2}}),i?_.jsx(he,{children:"Loading audio assets..."}):t.length===0?_.jsx(he,{children:"No audio assets found. Import some audio files first."}):_.jsx(St,{sx:{maxHeight:300,overflow:"auto"},children:y.map(k=>{const w=b(k);return _.jsx(ct,{secondaryAction:_.jsx(Hn,{title:w?"Already playing":"Play track",children:_.jsx("span",{children:_.jsx(Le,{edge:"end",onClick:()=>!w&&p(k),color:"primary",disabled:w,children:w?_.jsx(Yi,{}):_.jsx(qi,{})})})}),children:_.jsx(kt,{primary:k,secondary:w?"Currently playing":null})},k)})})]}),_.jsx(Bi,{children:_.jsx(Oe,{onClick:m,color:"primary",children:"Close"})})]})]})},Xi=()=>{const e=He(w=>w.activeTracks),n=He(w=>w.toggleMuteTrack),t=He(w=>w.stopIndividualTrack),r=He(w=>w.setTrackVolume),i=He(w=>w.volume),o=He(w=>w.setVolume),[a,s]=fe.useState(!1),[l,u]=fe.useState(i||.7),[h,c]=fe.useState({}),[d,f]=fe.useState(!1);fe.useEffect(()=>{!a&&i>0&&u(i)},[i,a]);const m=()=>{a?o(l):(i>0&&u(i),o(0)),s(!a)},p=(w,T)=>{const j=T;o(j),a&&j>0&&s(!1),j===0&&!a&&s(!0)},b=w=>(T,j)=>{r(w,j)},y=w=>{c(T=>({...T,[w]:!T[w]}))},k=()=>{f(!d)};return d?_.jsx(Hn,{title:"Audio Controls",placement:"top",TransitionComponent:wo,children:_.jsx(Le,{onClick:k,sx:{position:"fixed",bottom:20,left:20,backgroundColor:"rgba(45, 45, 45, 0.9)",color:"white","&:hover":{backgroundColor:"rgba(60, 60, 60, 0.9)"},zIndex:9999,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},children:_.jsx(vo,{})})}):_.jsxs($t,{sx:{position:"fixed",bottom:20,left:20,p:2,maxWidth:320,maxHeight:"300px",overflowY:"auto",backgroundColor:"rgba(45, 45, 45, 0.9)",zIndex:9999,borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",transform:"translateZ(0)","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.4)"}},children:[_.jsxs(xe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[_.jsx(he,{variant:"h6",children:"Audio Controls"}),_.jsx(Le,{size:"small",onClick:k,children:_.jsx(_o,{fontSize:"small"})})]}),_.jsx(Ps,{}),_.jsxs(xe,{sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[_.jsx(Le,{onClick:m,size:"small",children:i===0?_.jsx(jr,{fontSize:"small"}):_.jsx(Dr,{fontSize:"small"})}),_.jsx(he,{variant:"body2",sx:{minWidth:80},children:"Master Volume"}),_.jsx(Pr,{size:"small",value:i,onChange:p,min:0,max:1,step:.01,sx:{ml:1}})]}),_.jsx(Zt,{sx:{my:2}}),_.jsx(he,{variant:"subtitle1",gutterBottom:!0,children:"Active Tracks"}),e.length===0?_.jsx(he,{variant:"body2",sx:{color:"text.secondary",fontStyle:"italic"},children:'No tracks currently playing. Use the "Add Track" button to play some music.'}):_.jsx(St,{dense:!0,children:e.map(w=>_.jsxs(Wn.Fragment,{children:[_.jsxs(ct,{sx:{gap:1,px:0},children:[_.jsx(Le,{onClick:()=>n(w.id),size:"small",children:w.isMuted?_.jsx(jr,{fontSize:"small"}):_.jsx(Dr,{fontSize:"small"})}),_.jsx(he,{variant:"body2",sx:{flex:1,cursor:"pointer"},onClick:()=>y(w.id),children:w.name}),_.jsx(Le,{size:"small",disabled:!0,sx:{opacity:w.loop?1:.3},children:w.loop?_.jsx(So,{fontSize:"small"}):_.jsx(Co,{fontSize:"small"})}),_.jsx(Le,{size:"small",onClick:()=>y(w.id),children:h[w.id]?_.jsx(Eo,{fontSize:"small"}):_.jsx(Ao,{fontSize:"small"})}),_.jsx(Le,{onClick:()=>t(w.id),size:"small",children:_.jsx(Io,{fontSize:"small"})})]}),_.jsx(zo,{in:h[w.id],timeout:"auto",unmountOnExit:!0,children:_.jsxs(xe,{sx:{pl:4,pr:2,pb:1,display:"flex",alignItems:"center",gap:1},children:[_.jsx(he,{variant:"caption",sx:{minWidth:60},children:"Volume"}),_.jsx(Pr,{size:"small",value:w.volume,onChange:b(w.id),min:0,max:1,step:.01,sx:{ml:1}})]})})]},w.id))})]})};function Rs(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Os=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ls=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Fs={};function Ur(e,n){return(Fs.jsx?Ls:Os).test(e)}const Bs=/[ \t\n\f\r]/g;function Ms(e){return typeof e=="object"?e.type==="text"?$r(e.value):!1:$r(e)}function $r(e){return e.replace(Bs,"")===""}class At{constructor(n,t,r){this.normal=t,this.property=n,r&&(this.space=r)}}At.prototype.normal={};At.prototype.property={};At.prototype.space=void 0;function Ki(e,n){const t={},r={};for(const i of e)Object.assign(t,i.property),Object.assign(r,i.normal);return new At(t,r,n)}function In(e){return e.toLowerCase()}class Fe{constructor(n,t){this.attribute=t,this.property=n}}Fe.prototype.attribute="";Fe.prototype.booleanish=!1;Fe.prototype.boolean=!1;Fe.prototype.commaOrSpaceSeparated=!1;Fe.prototype.commaSeparated=!1;Fe.prototype.defined=!1;Fe.prototype.mustUseProperty=!1;Fe.prototype.number=!1;Fe.prototype.overloadedBoolean=!1;Fe.prototype.property="";Fe.prototype.spaceSeparated=!1;Fe.prototype.space=void 0;let Ns=0;const le=ot(),Ee=ot(),Ji=ot(),X=ot(),ve=ot(),ft=ot(),Me=ot();function ot(){return 2**++Ns}const zn=Object.freeze(Object.defineProperty({__proto__:null,boolean:le,booleanish:Ee,commaOrSpaceSeparated:Me,commaSeparated:ft,number:X,overloadedBoolean:Ji,spaceSeparated:ve},Symbol.toStringTag,{value:"Module"})),cn=Object.keys(zn);class ir extends Fe{constructor(n,t,r,i){let o=-1;if(super(n,t),Hr(this,"space",i),typeof r=="number")for(;++o<cn.length;){const a=cn[o];Hr(this,cn[o],(r&zn[a])===zn[a])}}}ir.prototype.defined=!0;function Hr(e,n,t){t&&(e[n]=t)}function dt(e){const n={},t={};for(const[r,i]of Object.entries(e.properties)){const o=new ir(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),n[r]=o,t[In(r)]=r,t[In(o.attribute)]=r}return new At(n,t,e.space)}const Qi=dt({properties:{ariaActiveDescendant:null,ariaAtomic:Ee,ariaAutoComplete:null,ariaBusy:Ee,ariaChecked:Ee,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:ve,ariaCurrent:null,ariaDescribedBy:ve,ariaDetails:null,ariaDisabled:Ee,ariaDropEffect:ve,ariaErrorMessage:null,ariaExpanded:Ee,ariaFlowTo:ve,ariaGrabbed:Ee,ariaHasPopup:null,ariaHidden:Ee,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ve,ariaLevel:X,ariaLive:null,ariaModal:Ee,ariaMultiLine:Ee,ariaMultiSelectable:Ee,ariaOrientation:null,ariaOwns:ve,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:Ee,ariaReadOnly:Ee,ariaRelevant:null,ariaRequired:Ee,ariaRoleDescription:ve,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:Ee,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function ea(e,n){return n in e?e[n]:n}function ta(e,n){return ea(e,n.toLowerCase())}const Us=dt({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ft,acceptCharset:ve,accessKey:ve,action:null,allow:null,allowFullScreen:le,allowPaymentRequest:le,allowUserMedia:le,alt:null,as:null,async:le,autoCapitalize:null,autoComplete:ve,autoFocus:le,autoPlay:le,blocking:ve,capture:null,charSet:null,checked:le,cite:null,className:ve,cols:X,colSpan:null,content:null,contentEditable:Ee,controls:le,controlsList:ve,coords:X|ft,crossOrigin:null,data:null,dateTime:null,decoding:null,default:le,defer:le,dir:null,dirName:null,disabled:le,download:Ji,draggable:Ee,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:le,formTarget:null,headers:ve,height:X,hidden:le,high:X,href:null,hrefLang:null,htmlFor:ve,httpEquiv:ve,id:null,imageSizes:null,imageSrcSet:null,inert:le,inputMode:null,integrity:null,is:null,isMap:le,itemId:null,itemProp:ve,itemRef:ve,itemScope:le,itemType:ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:le,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:le,muted:le,name:null,nonce:null,noModule:le,noValidate:le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:le,optimum:X,pattern:null,ping:ve,placeholder:null,playsInline:le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:le,referrerPolicy:null,rel:ve,required:le,reversed:le,rows:X,rowSpan:X,sandbox:ve,scope:null,scoped:le,seamless:le,selected:le,shadowRootClonable:le,shadowRootDelegatesFocus:le,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:Ee,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:le,useMap:null,value:Ee,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ve,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:le,declare:le,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:le,noHref:le,noShade:le,noWrap:le,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:Ee,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:le,disableRemotePlayback:le,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:ta}),$s=dt({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Me,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:le,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ft,g2:ft,glyphName:ft,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:Me,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Me,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Me,rev:Me,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Me,requiredFeatures:Me,requiredFonts:Me,requiredFormats:Me,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:Me,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Me,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Me,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ea}),na=dt({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),ra=dt({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ta}),ia=dt({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),Hs={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Vs=/[A-Z]/g,Vr=/-[a-z]/g,Ws=/^data[-\w.:]+$/i;function qs(e,n){const t=In(n);let r=n,i=Fe;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Ws.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(Vr,Gs);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!Vr.test(o)){let a=o.replace(Vs,Zs);a.charAt(0)!=="-"&&(a="-"+a),n="data"+a}}i=ir}return new i(r,n)}function Zs(e){return"-"+e.toLowerCase()}function Gs(e){return e.charAt(1).toUpperCase()}const Ys=Ki([Qi,Us,na,ra,ia],"html"),ar=Ki([Qi,$s,na,ra,ia],"svg");function Xs(e){return e.join(" ").trim()}var or={},Wr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ks=/\n/g,Js=/^\s*/,Qs=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,el=/^:\s*/,tl=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,nl=/^[;\s]*/,rl=/^\s+|\s+$/g,il=`
`,qr="/",Zr="*",it="",al="comment",ol="declaration",sl=function(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var t=1,r=1;function i(m){var p=m.match(Ks);p&&(t+=p.length);var b=m.lastIndexOf(il);r=~b?m.length-b:r+m.length}function o(){var m={line:t,column:r};return function(p){return p.position=new a(m),u(),p}}function a(m){this.start=m,this.end={line:t,column:r},this.source=n.source}a.prototype.content=e;function s(m){var p=new Error(n.source+":"+t+":"+r+": "+m);if(p.reason=m,p.filename=n.source,p.line=t,p.column=r,p.source=e,!n.silent)throw p}function l(m){var p=m.exec(e);if(p){var b=p[0];return i(b),e=e.slice(b.length),p}}function u(){l(Js)}function h(m){var p;for(m=m||[];p=c();)p!==!1&&m.push(p);return m}function c(){var m=o();if(!(qr!=e.charAt(0)||Zr!=e.charAt(1))){for(var p=2;it!=e.charAt(p)&&(Zr!=e.charAt(p)||qr!=e.charAt(p+1));)++p;if(p+=2,it===e.charAt(p-1))return s("End of comment missing");var b=e.slice(2,p-2);return r+=2,i(b),e=e.slice(p),r+=2,m({type:al,comment:b})}}function d(){var m=o(),p=l(Qs);if(p){if(c(),!l(el))return s("property missing ':'");var b=l(tl),y=m({type:ol,property:Gr(p[0].replace(Wr,it)),value:b?Gr(b[0].replace(Wr,it)):it});return l(nl),y}}function f(){var m=[];h(m);for(var p;p=d();)p!==!1&&(m.push(p),h(m));return m}return u(),f()};function Gr(e){return e?e.replace(rl,it):it}var ll=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(or,"__esModule",{value:!0});or.default=cl;var ul=ll(sl);function cl(e,n){var t=null;if(!e||typeof e!="string")return t;var r=(0,ul.default)(e),i=typeof n=="function";return r.forEach(function(o){if(o.type==="declaration"){var a=o.property,s=o.value;i?n(a,s,o):s&&(t=t||{},t[a]=s)}}),t}var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.camelCase=void 0;var fl=/^--[a-zA-Z0-9_-]+$/,hl=/-([a-z])/g,dl=/^[^-]+$/,pl=/^-(webkit|moz|ms|o|khtml)-/,ml=/^-(ms)-/,gl=function(e){return!e||dl.test(e)||fl.test(e)},yl=function(e,n){return n.toUpperCase()},Yr=function(e,n){return"".concat(n,"-")},xl=function(e,n){return n===void 0&&(n={}),gl(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(ml,Yr):e=e.replace(pl,Yr),e.replace(hl,yl))};Gt.camelCase=xl;var bl=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},kl=bl(or),wl=Gt;function Tn(e,n){var t={};return!e||typeof e!="string"||(0,kl.default)(e,function(r,i){r&&i&&(t[(0,wl.camelCase)(r,n)]=i)}),t}Tn.default=Tn;var vl=Tn;const _l=Vn(vl),aa=oa("end"),sr=oa("start");function oa(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Sl(e){const n=sr(e),t=aa(e);if(n&&t)return{start:n,end:t}}function wt(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Xr(e.position):"start"in e||"end"in e?Xr(e):"line"in e||"column"in e?jn(e):""}function jn(e){return Kr(e&&e.line)+":"+Kr(e&&e.column)}function Xr(e){return jn(e&&e.start)+"-"+jn(e&&e.end)}function Kr(e){return e&&typeof e=="number"?e:1}class Te extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",o={},a=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof n=="string"?i=n:!o.cause&&n&&(a=!0,i=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=wt(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Te.prototype.file="";Te.prototype.name="";Te.prototype.reason="";Te.prototype.message="";Te.prototype.stack="";Te.prototype.column=void 0;Te.prototype.line=void 0;Te.prototype.ancestors=void 0;Te.prototype.cause=void 0;Te.prototype.fatal=void 0;Te.prototype.place=void 0;Te.prototype.ruleId=void 0;Te.prototype.source=void 0;const lr={}.hasOwnProperty,Cl=new Map,El=/[A-Z]/g,Al=new Set(["table","tbody","thead","tfoot","tr"]),Il=new Set(["td","th"]),sa="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zl(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=n.filePath||void 0;let r;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Fl(t,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ll(t,n.jsx,n.jsxs)}const i={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:r,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?ar:Ys,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=la(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function la(e,n,t){if(n.type==="element")return Tl(e,n,t);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return jl(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return Pl(e,n,t);if(n.type==="mdxjsEsm")return Dl(e,n);if(n.type==="root")return Rl(e,n,t);if(n.type==="text")return Ol(e,n)}function Tl(e,n,t){const r=e.schema;let i=r;n.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ar,e.schema=i),e.ancestors.push(n);const o=ca(e,n.tagName,!1),a=Bl(e,n);let s=cr(e,n);return Al.has(n.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Ms(l):!0})),ua(e,a,o,n),ur(a,s),e.ancestors.pop(),e.schema=r,e.create(n,o,a,t)}function jl(e,n){if(n.data&&n.data.estree&&e.evaluater){const r=n.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ct(e,n.position)}function Dl(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);Ct(e,n.position)}function Pl(e,n,t){const r=e.schema;let i=r;n.name==="svg"&&r.space==="html"&&(i=ar,e.schema=i),e.ancestors.push(n);const o=n.name===null?e.Fragment:ca(e,n.name,!0),a=Ml(e,n),s=cr(e,n);return ua(e,a,o,n),ur(a,s),e.ancestors.pop(),e.schema=r,e.create(n,o,a,t)}function Rl(e,n,t){const r={};return ur(r,cr(e,n)),e.create(n,e.Fragment,r,t)}function Ol(e,n){return n.value}function ua(e,n,t,r){typeof t!="string"&&t!==e.Fragment&&e.passNode&&(n.node=r)}function ur(e,n){if(n.length>0){const t=n.length>1?n:n[0];t&&(e.children=t)}}function Ll(e,n,t){return r;function r(i,o,a,s){const u=Array.isArray(a.children)?t:n;return s?u(o,a,s):u(o,a)}}function Fl(e,n){return t;function t(r,i,o,a){const s=Array.isArray(o.children),l=sr(r);return n(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Bl(e,n){const t={};let r,i;for(i in n.properties)if(i!=="children"&&lr.call(n.properties,i)){const o=Nl(e,i,n.properties[i]);if(o){const[a,s]=o;e.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&Il.has(n.tagName)?r=s:t[a]=s}}if(r){const o=t.style||(t.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function Ml(e,n){const t={};for(const r of n.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(t,e.evaluater.evaluateExpression(s.argument))}else Ct(e,n.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else Ct(e,n.position);else o=r.value===null?!0:r.value;t[i]=o}return t}function cr(e,n){const t=[];let r=-1;const i=e.passKeys?new Map:Cl;for(;++r<n.children.length;){const o=n.children[r];let a;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const s=la(e,o,a);s!==void 0&&t.push(s)}return t}function Nl(e,n,t){const r=qs(e.schema,n);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?Rs(t):Xs(t)),r.property==="style"){let i=typeof t=="object"?t:Ul(e,String(t));return e.stylePropertyNameCase==="css"&&(i=$l(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Hs[r.property]||r.property:r.attribute,t]}}function Ul(e,n){try{return _l(n,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const r=t,i=new Te("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=sa+"#cannot-parse-style-attribute",i}}function ca(e,n,t){let r;if(!t)r={type:"Literal",value:n};else if(n.includes(".")){const i=n.split(".");let o=-1,a;for(;++o<i.length;){const s=Ur(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=Ur(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(r.type==="Literal"){const i=r.value;return lr.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ct(e)}function Ct(e,n){const t=new Te("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=sa+"#cannot-handle-mdx-estrees-without-createevaluater",t}function $l(e){const n={};let t;for(t in e)lr.call(e,t)&&(n[Hl(t)]=e[t]);return n}function Hl(e){let n=e.replace(El,Vl);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function Vl(e){return"-"+e.toLowerCase()}const fn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Wl={};function fr(e,n){const t=Wl,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return fa(e,r,i)}function fa(e,n,t){if(ql(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jr(e.children,n,t)}return Array.isArray(e)?Jr(e,n,t):""}function Jr(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=fa(e[i],n,t);return r.join("")}function ql(e){return!!(e&&typeof e=="object")}const Qr=document.createElement("i");function hr(e){const n="&"+e+";";Qr.innerHTML=n;const t=Qr.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}function Ne(e,n,t,r){const i=e.length;let o=0,a;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(n,t),e.splice(...a);else for(t&&e.splice(n,t);o<r.length;)a=r.slice(o,o+1e4),a.unshift(n,0),e.splice(...a),o+=1e4,n+=1e4}function Ue(e,n){return e.length>0?(Ne(e,e.length,0,n),e):n}const ei={}.hasOwnProperty;function ha(e){const n={};let t=-1;for(;++t<e.length;)Zl(n,e[t]);return n}function Zl(e,n){let t;for(t in n){const i=(ei.call(e,t)?e[t]:void 0)||(e[t]={}),o=n[t];let a;if(o)for(a in o){ei.call(i,a)||(i[a]=[]);const s=o[a];Gl(i[a],Array.isArray(s)?s:s?[s]:[])}}}function Gl(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Ne(e,0,0,r)}function da(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}function Ve(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const De=nt(/[A-Za-z]/),ze=nt(/[\dA-Za-z]/),Yl=nt(/[#-'*+\--9=?A-Z^-~]/);function Ht(e){return e!==null&&(e<32||e===127)}const Dn=nt(/\d/),Xl=nt(/[\dA-Fa-f]/),Kl=nt(/[!-/:-@[-`{-~]/);function ae(e){return e!==null&&e<-2}function we(e){return e!==null&&(e<0||e===32)}function de(e){return e===-2||e===-1||e===32}const Yt=nt(new RegExp("\\p{P}|\\p{S}","u")),at=nt(/\s/);function nt(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function pt(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const o=e.charCodeAt(t);let a="";if(o===37&&ze(e.charCodeAt(t+1))&&ze(e.charCodeAt(t+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(t+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="�"}else a=String.fromCharCode(o);a&&(n.push(e.slice(r,t),encodeURIComponent(a)),r=t+i+1,a=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function pe(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return de(l)?(e.enter(t),s(l)):n(l)}function s(l){return de(l)&&o++<i?(e.consume(l),s):(e.exit(t),n(l))}}const Jl={tokenize:Ql};function Ql(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),pe(e,n,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ae(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const eu={tokenize:tu},ti={tokenize:nu};function tu(e){const n=this,t=[];let r=0,i,o,a;return s;function s(w){if(r<t.length){const T=t[r];return n.containerState=T[1],e.attempt(T[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&k();const T=n.events.length;let j=T,I;for(;j--;)if(n.events[j][0]==="exit"&&n.events[j][1].type==="chunkFlow"){I=n.events[j][1].end;break}y(r);let L=T;for(;L<n.events.length;)n.events[L][1].end={...I},L++;return Ne(n.events,j+1,0,n.events.slice(T)),n.events.length=L,u(w)}return s(w)}function u(w){if(r===t.length){if(!i)return d(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(ti,h,c)(w)}function h(w){return i&&k(),y(r),d(w)}function c(w){return n.parser.lazy[n.now().line]=r!==t.length,a=n.now().offset,m(w)}function d(w){return n.containerState={},e.attempt(ti,f,m)(w)}function f(w){return r++,t.push([n.currentConstruct,n.containerState]),d(w)}function m(w){if(w===null){i&&k(),y(0),e.consume(w);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),p(w)}function p(w){if(w===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return ae(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,n.interrupt=void 0,s):(e.consume(w),p)}function b(w,T){const j=n.sliceStream(w);if(T&&j.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(j),n.parser.lazy[w.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<a&&(!i.events[I][1].end||i.events[I][1].end.offset>a))return;const L=n.events.length;let $=L,O,z;for(;$--;)if(n.events[$][0]==="exit"&&n.events[$][1].type==="chunkFlow"){if(O){z=n.events[$][1].end;break}O=!0}for(y(r),I=L;I<n.events.length;)n.events[I][1].end={...z},I++;Ne(n.events,$+1,0,n.events.slice(L)),n.events.length=I}}function y(w){let T=t.length;for(;T-- >w;){const j=t[T];n.containerState=j[1],j[0].exit.call(n,e)}t.length=w}function k(){i.write([null]),o=void 0,i=void 0,n.containerState._closeFlow=void 0}}function nu(e,n,t){return pe(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ht(e){if(e===null||we(e)||at(e))return 1;if(Yt(e))return 2}function Xt(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(n=o(n,t),r.push(o))}return n}const Pn={name:"attention",resolveAll:ru,tokenize:iu};function ru(e,n){let t=-1,r,i,o,a,s,l,u,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const c={...e[r][1].end},d={...e[t][1].start};ni(c,-l),ni(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:c,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[t][1].start},end:d},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[t][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[t][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ue(u,[["enter",e[r][1],n],["exit",e[r][1],n]])),u=Ue(u,[["enter",i,n],["enter",a,n],["exit",a,n],["enter",o,n]]),u=Ue(u,Xt(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),u=Ue(u,[["exit",o,n],["enter",s,n],["exit",s,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,u=Ue(u,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,Ne(e,r-1,t-r+3,u),t=r+u.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function iu(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ht(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const u=e.exit("attentionSequence"),h=ht(l),c=!h||h===2&&i||t.includes(l),d=!i||i===2&&h||t.includes(r);return u._open=!!(o===42?c:c&&(i||!d)),u._close=!!(o===42?d:d&&(h||!c)),n(l)}}function ni(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const au={name:"autolink",tokenize:ou};function ou(e,n,t){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(f){return De(f)?(e.consume(f),a):f===64?t(f):u(f)}function a(f){return f===43||f===45||f===46||ze(f)?(r=1,s(f)):u(f)}function s(f){return f===58?(e.consume(f),r=0,l):(f===43||f===45||f===46||ze(f))&&r++<32?(e.consume(f),s):(r=0,u(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),n):f===null||f===32||f===60||Ht(f)?t(f):(e.consume(f),l)}function u(f){return f===64?(e.consume(f),h):Yl(f)?(e.consume(f),u):t(f)}function h(f){return ze(f)?c(f):t(f)}function c(f){return f===46?(e.consume(f),r=0,h):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),n):d(f)}function d(f){if((f===45||ze(f))&&r++<63){const m=f===45?d:c;return e.consume(f),m}return t(f)}}const It={partial:!0,tokenize:su};function su(e,n,t){return r;function r(o){return de(o)?pe(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ae(o)?n(o):t(o)}}const pa={continuation:{tokenize:uu},exit:cu,name:"blockQuote",tokenize:lu};function lu(e,n,t){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return t(a)}function o(a){return de(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(a))}}function uu(e,n,t){const r=this;return i;function i(a){return de(a)?pe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(pa,n,t)(a)}}function cu(e){e.exit("blockQuote")}const ma={name:"characterEscape",tokenize:fu};function fu(e,n,t){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return Kl(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(o)}}const ga={name:"characterReference",tokenize:hu};function hu(e,n,t){const r=this;let i=0,o,a;return s;function s(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),l}function l(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=ze,h(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=Xl,h):(e.enter("characterReferenceValue"),o=7,a=Dn,h(c))}function h(c){if(c===59&&i){const d=e.exit("characterReferenceValue");return a===ze&&!hr(r.sliceSerialize(d))?t(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return a(c)&&i++<o?(e.consume(c),h):t(c)}}const ri={partial:!0,tokenize:pu},ii={concrete:!0,name:"codeFenced",tokenize:du};function du(e,n,t){const r=this,i={partial:!0,tokenize:j};let o=0,a=0,s;return l;function l(I){return u(I)}function u(I){const L=r.events[r.events.length-1];return o=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,s=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(I)}function h(I){return I===s?(a++,e.consume(I),h):a<3?t(I):(e.exit("codeFencedFenceSequence"),de(I)?pe(e,c,"whitespace")(I):c(I))}function c(I){return I===null||ae(I)?(e.exit("codeFencedFence"),r.interrupt?n(I):e.check(ri,p,T)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(I))}function d(I){return I===null||ae(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(I)):de(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pe(e,f,"whitespace")(I)):I===96&&I===s?t(I):(e.consume(I),d)}function f(I){return I===null||ae(I)?c(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(I))}function m(I){return I===null||ae(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(I)):I===96&&I===s?t(I):(e.consume(I),m)}function p(I){return e.attempt(i,T,b)(I)}function b(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),y}function y(I){return o>0&&de(I)?pe(e,k,"linePrefix",o+1)(I):k(I)}function k(I){return I===null||ae(I)?e.check(ri,p,T)(I):(e.enter("codeFlowValue"),w(I))}function w(I){return I===null||ae(I)?(e.exit("codeFlowValue"),k(I)):(e.consume(I),w)}function T(I){return e.exit("codeFenced"),n(I)}function j(I,L,$){let O=0;return z;function z(U){return I.enter("lineEnding"),I.consume(U),I.exit("lineEnding"),q}function q(U){return I.enter("codeFencedFence"),de(U)?pe(I,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):C(U)}function C(U){return U===s?(I.enter("codeFencedFenceSequence"),N(U)):$(U)}function N(U){return U===s?(O++,I.consume(U),N):O>=a?(I.exit("codeFencedFenceSequence"),de(U)?pe(I,x,"whitespace")(U):x(U)):$(U)}function x(U){return U===null||ae(U)?(I.exit("codeFencedFence"),L(U)):$(U)}}}function pu(e,n,t){const r=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?t(a):n(a)}}const hn={name:"codeIndented",tokenize:gu},mu={partial:!0,tokenize:yu};function gu(e,n,t){const r=this;return i;function i(u){return e.enter("codeIndented"),pe(e,o,"linePrefix",5)(u)}function o(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(u):t(u)}function a(u){return u===null?l(u):ae(u)?e.attempt(mu,a,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||ae(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),n(u)}}function yu(e,n,t){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?t(a):ae(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):pe(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(a):ae(a)?i(a):t(a)}}const xu={name:"codeText",previous:ku,resolve:bu,tokenize:wu};function bu(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function ku(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wu(e,n,t){let r=0,i,o;return a;function a(c){return e.enter("codeText"),e.enter("codeTextSequence"),s(c)}function s(c){return c===96?(e.consume(c),r++,s):(e.exit("codeTextSequence"),l(c))}function l(c){return c===null?t(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),l):c===96?(o=e.enter("codeTextSequence"),i=0,h(c)):ae(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||ae(c)?(e.exit("codeTextData"),l(c)):(e.consume(c),u)}function h(c){return c===96?(e.consume(c),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(c)):(o.type="codeTextData",u(c))}}class vu{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(n,r):n>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(n,t,r){const i=t||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&xt(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),xt(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),xt(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const t=this.left.splice(n,Number.POSITIVE_INFINITY);xt(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);xt(this.left,t.reverse())}}}function xt(e,n){let t=0;if(n.length<1e4)e.push(...n);else for(;t<n.length;)e.push(...n.slice(t,t+1e4)),t+=1e4}function ya(e){const n={};let t=-1,r,i,o,a,s,l,u;const h=new vu(e);for(;++t<h.length;){for(;t in n;)t=n[t];if(r=h.get(t),t&&r[1].type==="chunkFlow"&&h.get(t-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,_u(h,t)),t=n[t],u=!0);else if(r[1]._container){for(o=t,i=void 0;o--;)if(a=h.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},s=h.slice(i,t),s.unshift(r),h.splice(i,t-i+1,s))}}return Ne(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function _u(e,n){const t=e.get(n)[1],r=e.get(n)[2];let i=n-1;const o=[];let a=t._tokenizer;a||(a=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let h,c,d=-1,f=t,m=0,p=0;const b=[p];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(h=r.sliceStream(f),f.next||h.push(null),c&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),c=f,f=f.next}for(f=t;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(p=d+1,b.push(p),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):b.pop(),d=b.length;d--;){const y=s.slice(b[d],b[d+1]),k=o.pop();l.push([k,k+y.length-1]),e.splice(k,2,y)}for(l.reverse(),d=-1;++d<l.length;)u[m+l[d][0]]=m+l[d][1],m+=l[d][1]-l[d][0]-1;return u}const Su={resolve:Eu,tokenize:Au},Cu={partial:!0,tokenize:Iu};function Eu(e){return ya(e),e}function Au(e,n){let t;return r;function r(s){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):ae(s)?e.check(Cu,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),n(s)}function a(s){return e.consume(s),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Iu(e,n,t){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),pe(e,o,"linePrefix")}function o(a){if(a===null||ae(a))return t(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(a):e.interrupt(r.parser.constructs.flow,t,n)(a)}}function xa(e,n,t,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return c;function c(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),d):y===null||y===32||y===41||Ht(y)?t(y):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),p(y))}function d(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),n):(e.enter(s),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(s),d(y)):y===null||y===60||ae(y)?t(y):(e.consume(y),y===92?m:f)}function m(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function p(y){return!h&&(y===null||y===41||we(y))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),n(y)):h<u&&y===40?(e.consume(y),h++,p):y===41?(e.consume(y),h--,p):y===null||y===32||y===40||Ht(y)?t(y):(e.consume(y),y===92?b:p)}function b(y){return y===40||y===41||y===92?(e.consume(y),p):p(y)}}function ba(e,n,t,r,i,o){const a=this;let s=0,l;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(o),h}function h(f){return s>999||f===null||f===91||f===93&&!l||f===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?t(f):f===93?(e.exit(o),e.enter(i),e.consume(f),e.exit(i),e.exit(r),n):ae(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===null||f===91||f===93||ae(f)||s++>999?(e.exit("chunkString"),h(f)):(e.consume(f),l||(l=!de(f)),f===92?d:c)}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,c):c(f)}}function ka(e,n,t,r,i,o){let a;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),a=d===40?41:d,l):t(d)}function l(d){return d===a?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),n):(e.enter(o),u(d))}function u(d){return d===a?(e.exit(o),l(a)):d===null?t(d):ae(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),pe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===a||d===null||ae(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?c:h)}function c(d){return d===a||d===92?(e.consume(d),h):h(d)}}function vt(e,n){let t;return r;function r(i){return ae(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):de(i)?pe(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}const zu={name:"definition",tokenize:ju},Tu={partial:!0,tokenize:Du};function ju(e,n,t){const r=this;let i;return o;function o(f){return e.enter("definition"),a(f)}function a(f){return ba.call(r,e,s,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function s(f){return i=Ve(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):t(f)}function l(f){return we(f)?vt(e,u)(f):u(f)}function u(f){return xa(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function h(f){return e.attempt(Tu,c,c)(f)}function c(f){return de(f)?pe(e,d,"whitespace")(f):d(f)}function d(f){return f===null||ae(f)?(e.exit("definition"),r.parser.defined.push(i),n(f)):t(f)}}function Du(e,n,t){return r;function r(s){return we(s)?vt(e,i)(s):t(s)}function i(s){return ka(e,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return de(s)?pe(e,a,"whitespace")(s):a(s)}function a(s){return s===null||ae(s)?n(s):t(s)}}const Pu={name:"hardBreakEscape",tokenize:Ru};function Ru(e,n,t){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ae(o)?(e.exit("hardBreakEscape"),n(o)):t(o)}}const Ou={name:"headingAtx",resolve:Lu,tokenize:Fu};function Lu(e,n){let t=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},o={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Ne(e,r,t-r+1,[["enter",i,n],["enter",o,n],["exit",o,n],["exit",i,n]])),e}function Fu(e,n,t){let r=0;return i;function i(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||we(h)?(e.exit("atxHeadingSequence"),s(h)):t(h)}function s(h){return h===35?(e.enter("atxHeadingSequence"),l(h)):h===null||ae(h)?(e.exit("atxHeading"),n(h)):de(h)?pe(e,s,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function l(h){return h===35?(e.consume(h),l):(e.exit("atxHeadingSequence"),s(h))}function u(h){return h===null||h===35||we(h)?(e.exit("atxHeadingText"),s(h)):(e.consume(h),u)}}const Bu=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ai=["pre","script","style","textarea"],Mu={concrete:!0,name:"htmlFlow",resolveTo:$u,tokenize:Hu},Nu={partial:!0,tokenize:Wu},Uu={partial:!0,tokenize:Vu};function $u(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Hu(e,n,t){const r=this;let i,o,a,s,l;return u;function u(E){return h(E)}function h(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),c}function c(E){return E===33?(e.consume(E),d):E===47?(e.consume(E),o=!0,p):E===63?(e.consume(E),i=3,r.interrupt?n:A):De(E)?(e.consume(E),a=String.fromCharCode(E),b):t(E)}function d(E){return E===45?(e.consume(E),i=2,f):E===91?(e.consume(E),i=5,s=0,m):De(E)?(e.consume(E),i=4,r.interrupt?n:A):t(E)}function f(E){return E===45?(e.consume(E),r.interrupt?n:A):t(E)}function m(E){const ee="CDATA[";return E===ee.charCodeAt(s++)?(e.consume(E),s===ee.length?r.interrupt?n:C:m):t(E)}function p(E){return De(E)?(e.consume(E),a=String.fromCharCode(E),b):t(E)}function b(E){if(E===null||E===47||E===62||we(E)){const ee=E===47,J=a.toLowerCase();return!ee&&!o&&ai.includes(J)?(i=1,r.interrupt?n(E):C(E)):Bu.includes(a.toLowerCase())?(i=6,ee?(e.consume(E),y):r.interrupt?n(E):C(E)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(E):o?k(E):w(E))}return E===45||ze(E)?(e.consume(E),a+=String.fromCharCode(E),b):t(E)}function y(E){return E===62?(e.consume(E),r.interrupt?n:C):t(E)}function k(E){return de(E)?(e.consume(E),k):z(E)}function w(E){return E===47?(e.consume(E),z):E===58||E===95||De(E)?(e.consume(E),T):de(E)?(e.consume(E),w):z(E)}function T(E){return E===45||E===46||E===58||E===95||ze(E)?(e.consume(E),T):j(E)}function j(E){return E===61?(e.consume(E),I):de(E)?(e.consume(E),j):w(E)}function I(E){return E===null||E===60||E===61||E===62||E===96?t(E):E===34||E===39?(e.consume(E),l=E,L):de(E)?(e.consume(E),I):$(E)}function L(E){return E===l?(e.consume(E),l=null,O):E===null||ae(E)?t(E):(e.consume(E),L)}function $(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||we(E)?j(E):(e.consume(E),$)}function O(E){return E===47||E===62||de(E)?w(E):t(E)}function z(E){return E===62?(e.consume(E),q):t(E)}function q(E){return E===null||ae(E)?C(E):de(E)?(e.consume(E),q):t(E)}function C(E){return E===45&&i===2?(e.consume(E),re):E===60&&i===1?(e.consume(E),V):E===62&&i===4?(e.consume(E),M):E===63&&i===3?(e.consume(E),A):E===93&&i===5?(e.consume(E),Y):ae(E)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Nu,F,N)(E)):E===null||ae(E)?(e.exit("htmlFlowData"),N(E)):(e.consume(E),C)}function N(E){return e.check(Uu,x,F)(E)}function x(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),U}function U(E){return E===null||ae(E)?N(E):(e.enter("htmlFlowData"),C(E))}function re(E){return E===45?(e.consume(E),A):C(E)}function V(E){return E===47?(e.consume(E),a="",ie):C(E)}function ie(E){if(E===62){const ee=a.toLowerCase();return ai.includes(ee)?(e.consume(E),M):C(E)}return De(E)&&a.length<8?(e.consume(E),a+=String.fromCharCode(E),ie):C(E)}function Y(E){return E===93?(e.consume(E),A):C(E)}function A(E){return E===62?(e.consume(E),M):E===45&&i===2?(e.consume(E),A):C(E)}function M(E){return E===null||ae(E)?(e.exit("htmlFlowData"),F(E)):(e.consume(E),M)}function F(E){return e.exit("htmlFlow"),n(E)}}function Vu(e,n,t){const r=this;return i;function i(a){return ae(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):t(a)}function o(a){return r.parser.lazy[r.now().line]?t(a):n(a)}}function Wu(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(It,n,t)}}const qu={name:"htmlText",tokenize:Zu};function Zu(e,n,t){const r=this;let i,o,a;return s;function s(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),u):A===47?(e.consume(A),j):A===63?(e.consume(A),w):De(A)?(e.consume(A),$):t(A)}function u(A){return A===45?(e.consume(A),h):A===91?(e.consume(A),o=0,m):De(A)?(e.consume(A),k):t(A)}function h(A){return A===45?(e.consume(A),f):t(A)}function c(A){return A===null?t(A):A===45?(e.consume(A),d):ae(A)?(a=c,V(A)):(e.consume(A),c)}function d(A){return A===45?(e.consume(A),f):c(A)}function f(A){return A===62?re(A):A===45?d(A):c(A)}function m(A){const M="CDATA[";return A===M.charCodeAt(o++)?(e.consume(A),o===M.length?p:m):t(A)}function p(A){return A===null?t(A):A===93?(e.consume(A),b):ae(A)?(a=p,V(A)):(e.consume(A),p)}function b(A){return A===93?(e.consume(A),y):p(A)}function y(A){return A===62?re(A):A===93?(e.consume(A),y):p(A)}function k(A){return A===null||A===62?re(A):ae(A)?(a=k,V(A)):(e.consume(A),k)}function w(A){return A===null?t(A):A===63?(e.consume(A),T):ae(A)?(a=w,V(A)):(e.consume(A),w)}function T(A){return A===62?re(A):w(A)}function j(A){return De(A)?(e.consume(A),I):t(A)}function I(A){return A===45||ze(A)?(e.consume(A),I):L(A)}function L(A){return ae(A)?(a=L,V(A)):de(A)?(e.consume(A),L):re(A)}function $(A){return A===45||ze(A)?(e.consume(A),$):A===47||A===62||we(A)?O(A):t(A)}function O(A){return A===47?(e.consume(A),re):A===58||A===95||De(A)?(e.consume(A),z):ae(A)?(a=O,V(A)):de(A)?(e.consume(A),O):re(A)}function z(A){return A===45||A===46||A===58||A===95||ze(A)?(e.consume(A),z):q(A)}function q(A){return A===61?(e.consume(A),C):ae(A)?(a=q,V(A)):de(A)?(e.consume(A),q):O(A)}function C(A){return A===null||A===60||A===61||A===62||A===96?t(A):A===34||A===39?(e.consume(A),i=A,N):ae(A)?(a=C,V(A)):de(A)?(e.consume(A),C):(e.consume(A),x)}function N(A){return A===i?(e.consume(A),i=void 0,U):A===null?t(A):ae(A)?(a=N,V(A)):(e.consume(A),N)}function x(A){return A===null||A===34||A===39||A===60||A===61||A===96?t(A):A===47||A===62||we(A)?O(A):(e.consume(A),x)}function U(A){return A===47||A===62||we(A)?O(A):t(A)}function re(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),n):t(A)}function V(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),ie}function ie(A){return de(A)?pe(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):Y(A)}function Y(A){return e.enter("htmlTextData"),a(A)}}const dr={name:"labelEnd",resolveAll:Ku,resolveTo:Ju,tokenize:Qu},Gu={tokenize:ec},Yu={tokenize:tc},Xu={tokenize:nc};function Ku(e){let n=-1;const t=[];for(;++n<e.length;){const r=e[n][1];if(t.push(e[n]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",n+=i}}return e.length!==t.length&&Ne(e,0,e.length,t),e}function Ju(e,n){let t=e.length,r=0,i,o,a,s;for(;t--;)if(i=e[t][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=t);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,n],["enter",u,n]],s=Ue(s,e.slice(o+1,o+r+3)),s=Ue(s,[["enter",h,n]]),s=Ue(s,Xt(n.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),n)),s=Ue(s,[["exit",h,n],e[a-2],e[a-1],["exit",u,n]]),s=Ue(s,e.slice(a+1)),s=Ue(s,[["exit",l,n]]),Ne(e,o,e.length,s),e}function Qu(e,n,t){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(d){return o?o._inactive?c(d):(a=r.parser.defined.includes(Ve(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):t(d)}function l(d){return d===40?e.attempt(Gu,h,a?h:c)(d):d===91?e.attempt(Yu,h,a?u:c)(d):a?h(d):c(d)}function u(d){return e.attempt(Xu,h,c)(d)}function h(d){return n(d)}function c(d){return o._balanced=!0,t(d)}}function ec(e,n,t){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return we(c)?vt(e,o)(c):o(c)}function o(c){return c===41?h(c):xa(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function a(c){return we(c)?vt(e,l)(c):h(c)}function s(c){return t(c)}function l(c){return c===34||c===39||c===40?ka(e,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):h(c)}function u(c){return we(c)?vt(e,h)(c):h(c)}function h(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),n):t(c)}}function tc(e,n,t){const r=this;return i;function i(s){return ba.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Ve(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(s):t(s)}function a(s){return t(s)}}function nc(e,n,t){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):t(o)}}const rc={name:"labelStartImage",resolveAll:dr.resolveAll,tokenize:ic};function ic(e,n,t){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):t(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const ac={name:"labelStartLink",resolveAll:dr.resolveAll,tokenize:oc};function oc(e,n,t){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):n(a)}}const dn={name:"lineEnding",tokenize:sc};function sc(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pe(e,n,"linePrefix")}}const Mt={name:"thematicBreak",tokenize:lc};function lc(e,n,t){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ae(u))?(e.exit("thematicBreak"),n(u)):t(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),de(u)?pe(e,s,"whitespace")(u):s(u))}}const Re={continuation:{tokenize:hc},exit:pc,name:"list",tokenize:fc},uc={partial:!0,tokenize:mc},cc={partial:!0,tokenize:dc};function fc(e,n,t){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Dn(f)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Mt,t,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return t(f)}function l(f){return Dn(f)&&++a<10?(e.consume(f),l):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):t(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(It,r.interrupt?t:h,e.attempt(uc,d,c))}function h(f){return r.containerState.initialBlankLine=!0,o++,d(f)}function c(f){return de(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),d):t(f)}function d(f){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(f)}}function hc(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(It,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pe(e,n,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!de(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(cc,n,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,pe(e,e.attempt(Re,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function dc(e,n,t){const r=this;return pe(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?n(o):t(o)}}function pc(e){e.exit(this.containerState.type)}function mc(e,n,t){const r=this;return pe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!de(o)&&a&&a[1].type==="listItemPrefixWhitespace"?n(o):t(o)}}const oi={name:"setextUnderline",resolveTo:gc,tokenize:yc};function gc(e,n){let t=e.length,r,i,o;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!o&&e[t][1].type==="definition"&&(o=t);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,n]),e.splice(o+1,0,["exit",e[r][1],n]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,n]),e}function yc(e,n,t){const r=this;let i;return o;function o(u){let h=r.events.length,c;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){c=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),i=u,a(u)):t(u)}function a(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),de(u)?pe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ae(u)?(e.exit("setextHeadingLine"),n(u)):t(u)}}const xc={tokenize:bc};function bc(e){const n=this,t=e.attempt(It,r,e.attempt(this.parser.constructs.flowInitial,i,pe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Su,i)),"linePrefix")));return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const kc={resolveAll:va()},wc=wa("string"),vc=wa("text");function wa(e){return{resolveAll:va(e==="text"?_c:void 0),tokenize:n};function n(t){const r=this,i=this.parser.constructs[e],o=t.attempt(i,a,s);return a;function a(h){return u(h)?o(h):s(h)}function s(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),l}function l(h){return u(h)?(t.exit("data"),o(h)):(t.consume(h),l)}function u(h){if(h===null)return!0;const c=i[h];let d=-1;if(c)for(;++d<c.length;){const f=c[d];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function va(e){return n;function n(t,r){let i=-1,o;for(;++i<=t.length;)o===void 0?t[i]&&t[i][1].type==="data"&&(o=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(t,r):t}}function _c(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(n._contentTypeTextTrailing&&t===e.length&&(s=0),s){const u={type:t===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(t,0,["enter",u,n],["exit",u,n]),t+=2)}t++}return e}const Sc={42:Re,43:Re,45:Re,48:Re,49:Re,50:Re,51:Re,52:Re,53:Re,54:Re,55:Re,56:Re,57:Re,62:pa},Cc={91:zu},Ec={[-2]:hn,[-1]:hn,32:hn},Ac={35:Ou,42:Mt,45:[oi,Mt],60:Mu,61:oi,95:Mt,96:ii,126:ii},Ic={38:ga,92:ma},zc={[-5]:dn,[-4]:dn,[-3]:dn,33:rc,38:ga,42:Pn,60:[au,qu],91:ac,92:[Pu,ma],93:dr,95:Pn,96:xu},Tc={null:[Pn,kc]},jc={null:[42,95]},Dc={null:[]},Pc=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jc,contentInitial:Cc,disable:Dc,document:Sc,flow:Ac,flowInitial:Ec,insideSpan:Tc,string:Ic,text:zc},Symbol.toStringTag,{value:"Module"}));function Rc(e,n,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:L(j),check:L(I),consume:k,enter:w,exit:T,interrupt:L(I,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:m,parser:e,previous:null,sliceSerialize:d,sliceStream:f,write:c};let h=n.tokenize.call(u,l);return n.resolveAll&&o.push(n),u;function c(q){return a=Ue(a,q),b(),a[a.length-1]!==null?[]:($(n,0),u.events=Xt(o,u.events,u),u.events)}function d(q,C){return Lc(f(q),C)}function f(q){return Oc(a,q)}function m(){const{_bufferIndex:q,_index:C,line:N,column:x,offset:U}=r;return{_bufferIndex:q,_index:C,line:N,column:x,offset:U}}function p(q){i[q.line]=q.column,z()}function b(){let q;for(;r._index<a.length;){const C=a[r._index];if(typeof C=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<C.length;)y(C.charCodeAt(r._bufferIndex));else y(C)}}function y(q){h=h(q)}function k(q){ae(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,z()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=q}function w(q,C){const N=C||{};return N.type=q,N.start=m(),u.events.push(["enter",N,u]),s.push(N),N}function T(q){const C=s.pop();return C.end=m(),u.events.push(["exit",C,u]),C}function j(q,C){$(q,C.from)}function I(q,C){C.restore()}function L(q,C){return N;function N(x,U,re){let V,ie,Y,A;return Array.isArray(x)?F(x):"tokenize"in x?F([x]):M(x);function M(ue){return _e;function _e(se){const ce=se!==null&&ue[se],ke=se!==null&&ue.null,be=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return F(be)(se)}}function F(ue){return V=ue,ie=0,ue.length===0?re:E(ue[ie])}function E(ue){return _e;function _e(se){return A=O(),Y=ue,ue.partial||(u.currentConstruct=ue),ue.name&&u.parser.constructs.disable.null.includes(ue.name)?J():ue.tokenize.call(C?Object.assign(Object.create(u),C):u,l,ee,J)(se)}}function ee(ue){return q(Y,A),U}function J(ue){return A.restore(),++ie<V.length?E(V[ie]):re}}}function $(q,C){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&Ne(u.events,C,u.events.length-C,q.resolve(u.events.slice(C),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function O(){const q=m(),C=u.previous,N=u.currentConstruct,x=u.events.length,U=Array.from(s);return{from:x,restore:re};function re(){r=q,u.previous=C,u.currentConstruct=N,u.events.length=x,s=U,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Oc(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,o=n.end._bufferIndex;let a;if(t===i)a=[e[t].slice(r,o)];else{if(a=e.slice(t,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function Lc(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const o=e[t];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=n?" ":"	";break}case-1:{if(!n&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function Fc(e){const r={constructs:ha([Pc,...(e||{}).extensions||[]]),content:i(Jl),defined:[],document:i(eu),flow:i(xc),lazy:{},string:i(wc),text:i(vc)};return r;function i(o){return a;function a(s){return Rc(r,o,s)}}}function Bc(e){for(;!ya(e););return e}const si=/[\0\t\n\r]/g;function Mc(){let e=1,n="",t=!0,r;return i;function i(o,a,s){const l=[];let u,h,c,d,f;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),c=0,n="",t&&(o.charCodeAt(0)===65279&&c++,t=void 0);c<o.length;){if(si.lastIndex=c,u=si.exec(o),d=u&&u.index!==void 0?u.index:o.length,f=o.charCodeAt(d),!u){n=o.slice(c);break}if(f===10&&c===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),c<d&&(l.push(o.slice(c,d)),e+=d-c),f){case 0:{l.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,l.push(-2);e++<h;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}c=d+1}return s&&(r&&l.push(-5),n&&l.push(n),l.push(null)),l}}const Nc=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Uc(e){return e.replace(Nc,$c)}function $c(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),o=i===120||i===88;return da(t.slice(o?2:1),o?16:10)}return hr(t)||e}const _a={}.hasOwnProperty;function Hc(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Vc(t)(Bc(Fc(t).document().write(Mc()(e,n,!0))))}function Vc(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(P),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(H),blockQuote:o(ke),characterEscape:O,characterReference:O,codeFenced:o(be),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(be,a),codeText:o(Pe,a),codeTextData:O,data:O,codeFlowValue:O,definition:o(je),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(g),hardBreakEscape:o(D),hardBreakTrailing:o(D),htmlFlow:o(S,a),htmlFlowData:O,htmlText:o(S,a),htmlTextData:O,image:o(v),label:a,link:o(P),listItem:o(G),listItemValue:d,listOrdered:o(W,c),listUnordered:o(W),paragraph:o(B),reference:E,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(H),strong:o(K),thematicBreak:o(Q)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:ce,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:ue,characterReference:_e,codeFenced:l(b),codeFencedFence:p,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:z,codeIndented:l(y),codeText:l(U),codeTextData:z,data:z,definition:l(),definitionDestinationString:T,definitionLabelString:k,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(N),htmlFlowData:z,htmlText:l(x),htmlTextData:z,image:l(V),label:Y,labelText:ie,lineEnding:q,link:l(re),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:A,resourceTitleString:M,resource:F,setextHeading:l($),setextHeadingLineSequence:L,setextHeadingText:I,strong:l(),thematicBreak:l()}};Sa(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(R){let Z={type:"root",children:[]};const te={stack:[Z],tokenStack:[],config:n,enter:s,exit:u,buffer:a,resume:h,data:t},oe=[];let me=-1;for(;++me<R.length;)if(R[me][1].type==="listOrdered"||R[me][1].type==="listUnordered")if(R[me][0]==="enter")oe.push(me);else{const Ce=oe.pop();me=i(R,Ce,me)}for(me=-1;++me<R.length;){const Ce=n[R[me][0]];_a.call(Ce,R[me][1].type)&&Ce[R[me][1].type].call(Object.assign({sliceSerialize:R[me][2].sliceSerialize},te),R[me][1])}if(te.tokenStack.length>0){const Ce=te.tokenStack[te.tokenStack.length-1];(Ce[1]||li).call(te,void 0,Ce[0])}for(Z.position={start:Qe(R.length>0?R[0][1].start:{line:1,column:1,offset:0}),end:Qe(R.length>0?R[R.length-2][1].end:{line:1,column:1,offset:0})},me=-1;++me<n.transforms.length;)Z=n.transforms[me](Z)||Z;return Z}function i(R,Z,te){let oe=Z-1,me=-1,Ce=!1,Be,ge,We,Ye;for(;++oe<=te;){const Se=R[oe];switch(Se[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Se[0]==="enter"?me++:me--,Ye=void 0;break}case"lineEndingBlank":{Se[0]==="enter"&&(Be&&!Ye&&!me&&!We&&(We=oe),Ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ye=void 0}if(!me&&Se[0]==="enter"&&Se[1].type==="listItemPrefix"||me===-1&&Se[0]==="exit"&&(Se[1].type==="listUnordered"||Se[1].type==="listOrdered")){if(Be){let Xe=oe;for(ge=void 0;Xe--;){const $e=R[Xe];if($e[1].type==="lineEnding"||$e[1].type==="lineEndingBlank"){if($e[0]==="exit")continue;ge&&(R[ge][1].type="lineEndingBlank",Ce=!0),$e[1].type="lineEnding",ge=Xe}else if(!($e[1].type==="linePrefix"||$e[1].type==="blockQuotePrefix"||$e[1].type==="blockQuotePrefixWhitespace"||$e[1].type==="blockQuoteMarker"||$e[1].type==="listItemIndent"))break}We&&(!ge||We<ge)&&(Be._spread=!0),Be.end=Object.assign({},ge?R[ge][1].start:Se[1].end),R.splice(ge||oe,0,["exit",Be,Se[2]]),oe++,te++}if(Se[1].type==="listItemPrefix"){const Xe={type:"listItem",_spread:!1,start:Object.assign({},Se[1].start),end:void 0};Be=Xe,R.splice(oe,0,["enter",Xe,Se[2]]),oe++,te++,We=void 0,Ye=!0}}}return R[Z][1]._spread=Ce,te}function o(R,Z){return te;function te(oe){s.call(this,R(oe),oe),Z&&Z.call(this,oe)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(R,Z,te){this.stack[this.stack.length-1].children.push(R),this.stack.push(R),this.tokenStack.push([Z,te||void 0]),R.position={start:Qe(Z.start),end:void 0}}function l(R){return Z;function Z(te){R&&R.call(this,te),u.call(this,te)}}function u(R,Z){const te=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==R.type&&(Z?Z.call(this,R,oe[0]):(oe[1]||li).call(this,R,oe[0]));else throw new Error("Cannot close `"+R.type+"` ("+wt({start:R.start,end:R.end})+"): it’s not open");te.position.end=Qe(R.end)}function h(){return fr(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function d(R){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(R),10),this.data.expectingFirstListItemValue=void 0}}function f(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=R}function m(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=R}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.value=R.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.value=R.replace(/(\r?\n|\r)$/g,"")}function k(R){const Z=this.resume(),te=this.stack[this.stack.length-1];te.label=Z,te.identifier=Ve(this.sliceSerialize(R)).toLowerCase()}function w(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.title=R}function T(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.url=R}function j(R){const Z=this.stack[this.stack.length-1];if(!Z.depth){const te=this.sliceSerialize(R).length;Z.depth=te}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function L(R){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(R).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function O(R){const te=this.stack[this.stack.length-1].children;let oe=te[te.length-1];(!oe||oe.type!=="text")&&(oe=ne(),oe.position={start:Qe(R.start),end:void 0},te.push(oe)),this.stack.push(oe)}function z(R){const Z=this.stack.pop();Z.value+=this.sliceSerialize(R),Z.position.end=Qe(R.end)}function q(R){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const te=Z.children[Z.children.length-1];te.position.end=Qe(R.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(Z.type)&&(O.call(this,R),z.call(this,R))}function C(){this.data.atHardBreak=!0}function N(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.value=R}function x(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.value=R}function U(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.value=R}function re(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=Z,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function V(){const R=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";R.type+="Reference",R.referenceType=Z,delete R.url,delete R.title}else delete R.identifier,delete R.label;this.data.referenceType=void 0}function ie(R){const Z=this.sliceSerialize(R),te=this.stack[this.stack.length-2];te.label=Uc(Z),te.identifier=Ve(Z).toLowerCase()}function Y(){const R=this.stack[this.stack.length-1],Z=this.resume(),te=this.stack[this.stack.length-1];if(this.data.inReference=!0,te.type==="link"){const oe=R.children;te.children=oe}else te.alt=Z}function A(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.url=R}function M(){const R=this.resume(),Z=this.stack[this.stack.length-1];Z.title=R}function F(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function ee(R){const Z=this.resume(),te=this.stack[this.stack.length-1];te.label=Z,te.identifier=Ve(this.sliceSerialize(R)).toLowerCase(),this.data.referenceType="full"}function J(R){this.data.characterReferenceType=R.type}function ue(R){const Z=this.sliceSerialize(R),te=this.data.characterReferenceType;let oe;te?(oe=da(Z,te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=hr(Z);const me=this.stack[this.stack.length-1];me.value+=oe}function _e(R){const Z=this.stack.pop();Z.position.end=Qe(R.end)}function se(R){z.call(this,R);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(R)}function ce(R){z.call(this,R);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(R)}function ke(){return{type:"blockquote",children:[]}}function be(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function g(){return{type:"emphasis",children:[]}}function H(){return{type:"heading",depth:0,children:[]}}function D(){return{type:"break"}}function S(){return{type:"html",value:""}}function v(){return{type:"image",title:null,url:"",alt:null}}function P(){return{type:"link",title:null,url:"",children:[]}}function W(R){return{type:"list",ordered:R.type==="listOrdered",start:null,spread:R._spread,children:[]}}function G(R){return{type:"listItem",spread:R._spread,checked:null,children:[]}}function B(){return{type:"paragraph",children:[]}}function K(){return{type:"strong",children:[]}}function ne(){return{type:"text",value:""}}function Q(){return{type:"thematicBreak"}}}function Qe(e){return{line:e.line,column:e.column,offset:e.offset}}function Sa(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Sa(e,r):Wc(e,r)}}function Wc(e,n){let t;for(t in n)if(_a.call(n,t))switch(t){case"canContainEols":{const r=n[t];r&&e[t].push(...r);break}case"transforms":{const r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{const r=n[t];r&&Object.assign(e[t],r);break}}}function li(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+wt({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+wt({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+wt({start:n.start,end:n.end})+") is still open")}function qc(e){const n=this;n.parser=t;function t(r){return Hc(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function Zc(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function Gc(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function Yc(e,n){const t=n.value?n.value+`
`:"",r={};n.lang&&(r.className=["language-"+n.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return n.meta&&(i.data={meta:n.meta}),e.patch(n,i),i=e.applyData(n,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(n,i),i}function Xc(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Kc(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Jc(e,n){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(n.identifier).toUpperCase(),i=pt(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,u),e.applyData(n,u)}function Qc(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ef(e,n){if(e.options.allowDangerousHtml){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}}function Ca(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+r}];const i=e.all(n),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function tf(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return Ca(e,n);const i={src:pt(r.url||""),alt:n.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,o),e.applyData(n,o)}function nf(e,n){const t={src:pt(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function rf(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function af(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return Ca(e,n);const i={href:pt(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function of(e,n){const t={href:pt(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function sf(e,n,t){const r=e.all(n),i=t?lf(t):Ea(n),o={},a=[];if(typeof n.checked=="boolean"){const h=r[0];let c;h&&h.type==="element"&&h.tagName==="p"?c=h:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const h=r[s];(i||s!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(n,u),e.applyData(n,u)}function lf(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=Ea(t[r])}return n}function Ea(e){const n=e.spread;return n??e.children.length>1}function uf(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,o),e.applyData(n,o)}function cf(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ff(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function hf(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function df(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],a),i.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},s=sr(n.children[1]),l=aa(n.children[n.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,o),e.applyData(n,o)}function pf(e,n,t){const r=t?t.children:void 0,o=(r?r.indexOf(n):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,s=a?a.length:n.children.length;let l=-1;const u=[];for(;++l<s;){const c=n.children[l],d={},f=a?a[l]:void 0;f&&(d.align=f);let m={type:"element",tagName:o,properties:d,children:[]};c&&(m.children=e.all(c),e.patch(c,m),m=e.applyData(c,m)),u.push(m)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(n,h),e.applyData(n,h)}function mf(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const ui=9,ci=32;function gf(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const o=[];for(;r;)o.push(fi(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return o.push(fi(n.slice(i),i>0,!1)),o.join("")}function fi(e,n,t){let r=0,i=e.length;if(n){let o=e.codePointAt(r);for(;o===ui||o===ci;)r++,o=e.codePointAt(r)}if(t){let o=e.codePointAt(i-1);for(;o===ui||o===ci;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function yf(e,n){const t={type:"text",value:gf(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function xf(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const bf={blockquote:Zc,break:Gc,code:Yc,delete:Xc,emphasis:Kc,footnoteReference:Jc,heading:Qc,html:ef,imageReference:tf,image:nf,inlineCode:rf,linkReference:af,link:of,listItem:sf,list:uf,paragraph:cf,root:ff,strong:hf,table:df,tableCell:mf,tableRow:pf,text:yf,thematicBreak:xf,toml:Pt,yaml:Pt,definition:Pt,footnoteDefinition:Pt};function Pt(){}const Aa=-1,Kt=0,_t=1,Vt=2,pr=3,mr=4,gr=5,yr=6,Ia=7,za=8,hi=typeof self=="object"?self:globalThis,kf=(e,n)=>{const t=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=n[i];switch(o){case Kt:case Aa:return t(a,i);case _t:{const s=t([],i);for(const l of a)s.push(r(l));return s}case Vt:{const s=t({},i);for(const[l,u]of a)s[r(l)]=r(u);return s}case pr:return t(new Date(a),i);case mr:{const{source:s,flags:l}=a;return t(new RegExp(s,l),i)}case gr:{const s=t(new Map,i);for(const[l,u]of a)s.set(r(l),r(u));return s}case yr:{const s=t(new Set,i);for(const l of a)s.add(r(l));return s}case Ia:{const{name:s,message:l}=a;return t(new hi[s](l),i)}case za:return t(BigInt(a),i);case"BigInt":return t(Object(BigInt(a)),i);case"ArrayBuffer":return t(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return t(new DataView(s),a)}}return t(new hi[o](a),i)};return r},di=e=>kf(new Map,e)(0),lt="",{toString:wf}={},{keys:vf}=Object,bt=e=>{const n=typeof e;if(n!=="object"||!e)return[Kt,n];const t=wf.call(e).slice(8,-1);switch(t){case"Array":return[_t,lt];case"Object":return[Vt,lt];case"Date":return[pr,lt];case"RegExp":return[mr,lt];case"Map":return[gr,lt];case"Set":return[yr,lt];case"DataView":return[_t,t]}return t.includes("Array")?[_t,t]:t.includes("Error")?[Ia,t]:[Vt,t]},Rt=([e,n])=>e===Kt&&(n==="function"||n==="symbol"),_f=(e,n,t,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return t.set(s,l),l},o=a=>{if(t.has(a))return t.get(a);let[s,l]=bt(a);switch(s){case Kt:{let h=a;switch(l){case"bigint":s=za,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([Aa],a)}return i([s,h],a)}case _t:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const h=[],c=i([s,h],a);for(const d of a)h.push(o(d));return c}case Vt:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(n&&"toJSON"in a)return o(a.toJSON());const h=[],c=i([s,h],a);for(const d of vf(a))(e||!Rt(bt(a[d])))&&h.push([o(d),o(a[d])]);return c}case pr:return i([s,a.toISOString()],a);case mr:{const{source:h,flags:c}=a;return i([s,{source:h,flags:c}],a)}case gr:{const h=[],c=i([s,h],a);for(const[d,f]of a)(e||!(Rt(bt(d))||Rt(bt(f))))&&h.push([o(d),o(f)]);return c}case yr:{const h=[],c=i([s,h],a);for(const d of a)(e||!Rt(bt(d)))&&h.push(o(d));return c}}const{message:u}=a;return i([s,{name:l,message:u}],a)};return o},pi=(e,{json:n,lossy:t}={})=>{const r=[];return _f(!(n||t),!!n,new Map,r)(e),r},Wt=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?di(pi(e,n)):structuredClone(e):(e,n)=>di(pi(e,n));function Sf(e,n){const t=[{type:"text",value:"↩"}];return n>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),t}function Cf(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function Ef(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",t=e.options.footnoteBackContent||Sf,r=e.options.footnoteBackLabel||Cf,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const h=e.all(u),c=String(u.identifier).toUpperCase(),d=pt(c.toLowerCase());let f=0;const m=[],p=e.footnoteCounts.get(c);for(;p!==void 0&&++f<=p;){m.length>0&&m.push({type:"text",value:" "});let k=typeof t=="string"?t:t(l,f);typeof k=="string"&&(k={type:"text",value:k}),m.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const k=b.children[b.children.length-1];k&&k.type==="text"?k.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else h.push(...m);const y={type:"element",tagName:"li",properties:{id:n+"fn-"+d},children:e.wrap(h,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Wt(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Jt=function(e){if(e==null)return Tf;if(typeof e=="function")return Qt(e);if(typeof e=="object")return Array.isArray(e)?Af(e):If(e);if(typeof e=="string")return zf(e);throw new Error("Expected function, string, or object as test")};function Af(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=Jt(e[t]);return Qt(r);function r(...i){let o=-1;for(;++o<n.length;)if(n[o].apply(this,i))return!0;return!1}}function If(e){const n=e;return Qt(t);function t(r){const i=r;let o;for(o in e)if(i[o]!==n[o])return!1;return!0}}function zf(e){return Qt(n);function n(t){return t&&t.type===e}}function Qt(e){return n;function n(t,r,i){return!!(jf(t)&&e.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function Tf(){return!0}function jf(e){return e!==null&&typeof e=="object"&&"type"in e}const Ta=[],Df=!0,Rn=!1,Pf="skip";function ja(e,n,t,r){let i;typeof n=="function"&&typeof t!="function"?(r=t,t=n):i=n;const o=Jt(i),a=r?-1:1;s(e,void 0,[])();function s(l,u,h){const c=l&&typeof l=="object"?l:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=Ta,m,p,b;if((!n||o(l,u,h[h.length-1]||void 0))&&(f=Rf(t(l,h)),f[0]===Rn))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==Pf)for(p=(r?y.children.length:-1)+a,b=h.concat(y);p>-1&&p<y.children.length;){const k=y.children[p];if(m=s(k,p,b)(),m[0]===Rn)return m;p=typeof m[1]=="number"?m[1]:p+a}}return f}}}function Rf(e){return Array.isArray(e)?e:typeof e=="number"?[Df,e]:e==null?Ta:[e]}function xr(e,n,t,r){let i,o,a;typeof n=="function"?(o=void 0,a=n,i=t):(o=n,a=t,i=r),ja(e,o,s,i);function s(l,u){const h=u[u.length-1],c=h?h.children.indexOf(l):void 0;return a(l,c,h)}}const On={}.hasOwnProperty,Of={};function Lf(e,n){const t=n||Of,r=new Map,i=new Map,o=new Map,a={...bf,...t.handlers},s={all:u,applyData:Bf,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:t,patch:Ff,wrap:Nf};return xr(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const c=h.type==="definition"?r:i,d=String(h.identifier).toUpperCase();c.has(d)||c.set(d,h)}}),s;function l(h,c){const d=h.type,f=s.handlers[d];if(On.call(s.handlers,d)&&f)return f(s,h,c);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in h){const{children:p,...b}=h,y=Wt(b);return y.children=s.all(h),y}return Wt(h)}return(s.options.unknownHandler||Mf)(s,h,c)}function u(h){const c=[];if("children"in h){const d=h.children;let f=-1;for(;++f<d.length;){const m=s.one(d[f],h);if(m){if(f&&d[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=mi(m.value)),!Array.isArray(m)&&m.type==="element")){const p=m.children[0];p&&p.type==="text"&&(p.value=mi(p.value))}Array.isArray(m)?c.push(...m):c.push(m)}}}return c}}function Ff(e,n){e.position&&(n.position=Sl(e))}function Bf(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const a="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:a}}t.type==="element"&&o&&Object.assign(t.properties,Wt(o)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function Mf(e,n){const t=n.data||{},r="value"in n&&!(On.call(t,"hProperties")||On.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Nf(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function mi(e){let n=0,t=e.charCodeAt(n);for(;t===9||t===32;)n++,t=e.charCodeAt(n);return e.slice(n)}function gi(e,n){const t=Lf(e,n),r=t.one(e,void 0),i=Ef(t),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Uf(e,n){return e&&"run"in e?async function(t,r){const i=gi(t,{file:r,...n});await e.run(i,r)}:function(t,r){return gi(t,{file:r,...e||n})}}function yi(e){if(e)throw e}var Nt=Object.prototype.hasOwnProperty,Da=Object.prototype.toString,xi=Object.defineProperty,bi=Object.getOwnPropertyDescriptor,ki=function(n){return typeof Array.isArray=="function"?Array.isArray(n):Da.call(n)==="[object Array]"},wi=function(n){if(!n||Da.call(n)!=="[object Object]")return!1;var t=Nt.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&Nt.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var i;for(i in n);return typeof i>"u"||Nt.call(n,i)},vi=function(n,t){xi&&t.name==="__proto__"?xi(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},_i=function(n,t){if(t==="__proto__")if(Nt.call(n,t)){if(bi)return bi(n,t).value}else return;return n[t]},$f=function e(){var n,t,r,i,o,a,s=arguments[0],l=1,u=arguments.length,h=!1;for(typeof s=="boolean"&&(h=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(n=arguments[l],n!=null)for(t in n)r=_i(s,t),i=_i(n,t),s!==i&&(h&&i&&(wi(i)||(o=ki(i)))?(o?(o=!1,a=r&&ki(r)?r:[]):a=r&&wi(r)?r:{},vi(s,{name:t,newValue:e(h,a,i)})):typeof i<"u"&&vi(s,{name:t,newValue:i}));return s};const pn=Vn($f);function Ln(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Hf(){const e=[],n={run:t,use:r};return n;function t(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){const h=e[++o];let c=-1;if(l){a(l);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,h?Vf(h,s)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Vf(e,n){let t;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(u){const h=u;if(s&&t)throw h;return i(h)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){t||(t=!0,n(a,...s))}function o(a){i(null,a)}}const qe={basename:Wf,dirname:qf,extname:Zf,join:Gf,sep:"/"};function Wf(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');zt(e);let t=0,r=-1,i=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){t=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let a=-1,s=n.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){t=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===n.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return t===r?r=a:r<0&&(r=e.length),e.slice(t,r)}function qf(e){if(zt(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Zf(e){zt(e);let n=e.length,t=-1,r=0,i=-1,o=0,a;for(;n--;){const s=e.codePointAt(n);if(s===47){if(a){r=n+1;break}continue}t<0&&(a=!0,t=n+1),s===46?i<0?i=n:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||t<0||o===0||o===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Gf(...e){let n=-1,t;for(;++n<e.length;)zt(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Yf(t)}function Yf(e){zt(e);const n=e.codePointAt(0)===47;let t=Xf(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function Xf(e,n){let t="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=a,o=0;continue}}else if(t.length>0){t="",r=0,i=a,o=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,a):t=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return t}function zt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Kf={cwd:Jf};function Jf(){return"/"}function Fn(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Qf(e){if(typeof e=="string")e=new URL(e);else if(!Fn(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return eh(e)}function eh(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){const r=n.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const mn=["history","path","basename","stem","extname","dirname"];class Pa{constructor(n){let t;n?Fn(n)?t={path:n}:typeof n=="string"||th(n)?t={value:n}:t=n:t={},this.cwd="cwd"in t?"":Kf.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<mn.length;){const o=mn[r];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let i;for(i in t)mn.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?qe.basename(this.path):void 0}set basename(n){yn(n,"basename"),gn(n,"basename"),this.path=qe.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?qe.dirname(this.path):void 0}set dirname(n){Si(this.basename,"dirname"),this.path=qe.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?qe.extname(this.path):void 0}set extname(n){if(gn(n,"extname"),Si(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qe.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Fn(n)&&(n=Qf(n)),yn(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?qe.basename(this.path,this.extname):void 0}set stem(n){yn(n,"stem"),gn(n,"stem"),this.path=qe.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=void 0,i}message(n,t,r){const i=new Te(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function gn(e,n){if(e&&e.includes(qe.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+qe.sep+"`")}function yn(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function Si(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function th(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nh=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},rh={}.hasOwnProperty;class br extends nh{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Hf()}copy(){const n=new br;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];n.use(...r)}return n.data(pn(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(kn("data",this.frozen),this.namespace[n]=t,this):rh.call(this.namespace,n)&&this.namespace[n]||void 0:n?(kn("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(n,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const t=Ot(n),r=this.parser||this.Parser;return xn("parse",r),r(String(t),t)}process(n,t){const r=this;return this.freeze(),xn("process",this.parser||this.Parser),bn("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(o,a){const s=Ot(n),l=r.parse(s);r.run(l,s,function(h,c,d){if(h||!c||!d)return u(h);const f=c,m=r.stringify(f,d);oh(m)?d.value=m:d.result=m,u(h,d)});function u(h,c){h||!c?a(h):o?o(c):t(void 0,c)}}}processSync(n){let t=!1,r;return this.freeze(),xn("processSync",this.parser||this.Parser),bn("processSync",this.compiler||this.Compiler),this.process(n,i),Ei("processSync","process",t),r;function i(o,a){t=!0,yi(o),r=a}}run(n,t,r){Ci(n),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=Ot(t);i.run(n,l,u);function u(h,c,d){const f=c||n;h?s(h):a?a(f):r(void 0,f,d)}}}runSync(n,t){let r=!1,i;return this.run(n,t,o),Ei("runSync","run",r),i;function o(a,s){yi(a),i=s,r=!0}}stringify(n,t){this.freeze();const r=Ot(t),i=this.compiler||this.Compiler;return bn("stringify",i),Ci(n),i(n,r)}use(n,...t){const r=this.attachers,i=this.namespace;if(kn("use",this.frozen),n!=null)if(typeof n=="function")l(n,t);else if(typeof n=="object")Array.isArray(n)?s(n):a(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...c]=u;l(h,c)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=pn(!0,i.settings,u.settings))}function s(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const c=u[h];o(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let c=-1,d=-1;for(;++c<r.length;)if(r[c][0]===u){d=c;break}if(d===-1)r.push([u,...h]);else if(h.length>0){let[f,...m]=h;const p=r[d][1];Ln(p)&&Ln(f)&&(f=pn(!0,p,f)),r[d]=[u,f,...m]}}}}const ih=new br().freeze();function xn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kn(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ci(e){if(!Ln(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ei(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Ot(e){return ah(e)?e:new Pa(e)}function ah(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function oh(e){return typeof e=="string"||sh(e)}function sh(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lh="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ai=[],Ii={allowDangerousHtml:!0},uh=/^(https?|ircs?|mailto|xmpp)$/i,ch=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Lt(e){const n=fh(e),t=hh(e);return dh(n.runSync(n.parse(t),t),e)}function fh(e){const n=e.rehypePlugins||Ai,t=e.remarkPlugins||Ai,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ii}:Ii;return ih().use(qc).use(t).use(Uf,r).use(n)}function hh(e){const n=e.children||"",t=new Pa;return typeof n=="string"&&(t.value=n),t}function dh(e,n){const t=n.allowedElements,r=n.allowElement,i=n.components,o=n.disallowedElements,a=n.skipHtml,s=n.unwrapDisallowed,l=n.urlTransform||ph;for(const h of ch)Object.hasOwn(n,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+lh+h.id,void 0);return xr(e,u),zl(e,{Fragment:_.Fragment,components:i,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function u(h,c,d){if(h.type==="raw"&&d&&typeof c=="number")return a?d.children.splice(c,1):d.children[c]={type:"text",value:h.value},c;if(h.type==="element"){let f;for(f in fn)if(Object.hasOwn(fn,f)&&Object.hasOwn(h.properties,f)){const m=h.properties[f],p=fn[f];(p===null||p.includes(h.tagName))&&(h.properties[f]=l(String(m||""),f,h))}}if(h.type==="element"){let f=t?!t.includes(h.tagName):o?o.includes(h.tagName):!1;if(!f&&r&&typeof c=="number"&&(f=!r(h,c,d)),f&&d&&typeof c=="number")return s&&h.children?d.children.splice(c,1,...h.children):d.children.splice(c,1),c}}}function ph(e){const n=e.indexOf(":"),t=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return n===-1||i!==-1&&n>i||t!==-1&&n>t||r!==-1&&n>r||uh.test(e.slice(0,n))?e:""}function zi(e,n){const t=String(e);if(typeof n!="string")throw new TypeError("Expected character");let r=0,i=t.indexOf(n);for(;i!==-1;)r++,i=t.indexOf(n,i+n.length);return r}function mh(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function gh(e,n,t){const i=Jt((t||{}).ignore||[]),o=yh(n);let a=-1;for(;++a<o.length;)ja(e,"text",s);function s(u,h){let c=-1,d;for(;++c<h.length;){const f=h[c],m=d?d.children:void 0;if(i(f,m?m.indexOf(f):void 0,d))return;d=f}if(d)return l(u,h)}function l(u,h){const c=h[h.length-1],d=o[a][0],f=o[a][1];let m=0;const b=c.children.indexOf(u);let y=!1,k=[];d.lastIndex=0;let w=d.exec(u.value);for(;w;){const T=w.index,j={index:w.index,input:w.input,stack:[...h,u]};let I=f(...w,j);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?d.lastIndex=T+1:(m!==T&&k.push({type:"text",value:u.value.slice(m,T)}),Array.isArray(I)?k.push(...I):I&&k.push(I),m=T+w[0].length,y=!0),!d.global)break;w=d.exec(u.value)}return y?(m<u.value.length&&k.push({type:"text",value:u.value.slice(m)}),c.children.splice(b,1,...k)):k=[u],b+k.length}}function yh(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<t.length;){const i=t[r];n.push([xh(i[0]),bh(i[1])])}return n}function xh(e){return typeof e=="string"?new RegExp(mh(e),"g"):e}function bh(e){return typeof e=="function"?e:function(){return e}}const wn="phrasing",vn=["autolink","link","image","label"];function kh(){return{transforms:[Ah],enter:{literalAutolink:vh,literalAutolinkEmail:_n,literalAutolinkHttp:_n,literalAutolinkWww:_n},exit:{literalAutolink:Eh,literalAutolinkEmail:Ch,literalAutolinkHttp:_h,literalAutolinkWww:Sh}}}function wh(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:wn,notInConstruct:vn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:wn,notInConstruct:vn},{character:":",before:"[ps]",after:"\\/",inConstruct:wn,notInConstruct:vn}]}}function vh(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function _n(e){this.config.enter.autolinkProtocol.call(this,e)}function _h(e){this.config.exit.autolinkProtocol.call(this,e)}function Sh(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function Ch(e){this.config.exit.autolinkEmail.call(this,e)}function Eh(e){this.exit(e)}function Ah(e){gh(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ih],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),zh]],{ignore:["link","linkReference"]})}function Ih(e,n,t,r,i){let o="";if(!Ra(i)||(/^w/i.test(n)&&(t=n+t,n="",o="http://"),!Th(t)))return!1;const a=jh(t+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+n+a[0],children:[{type:"text",value:n+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function zh(e,n,t,r){return!Ra(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+t,children:[{type:"text",value:n+"@"+t}]}}function Th(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function jh(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let t=n[0],r=t.indexOf(")");const i=zi(e,"(");let o=zi(e,")");for(;r!==-1&&i>o;)e+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),o++;return[e,t]}function Ra(e,n){const t=e.input.charCodeAt(e.index-1);return(e.index===0||at(t)||Yt(t))&&(!n||t!==47)}Oa.peek=Nh;function Dh(){this.buffer()}function Ph(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Rh(){this.buffer()}function Oh(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Lh(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ve(this.sliceSerialize(e)).toLowerCase(),t.label=n}function Fh(e){this.exit(e)}function Bh(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ve(this.sliceSerialize(e)).toLowerCase(),t.label=n}function Mh(e){this.exit(e)}function Nh(){return"["}function Oa(e,n,t,r){const i=t.createTracker(r);let o=i.move("[^");const a=t.enter("footnoteReference"),s=t.enter("reference");return o+=i.move(t.safe(t.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function Uh(){return{enter:{gfmFootnoteCallString:Dh,gfmFootnoteCall:Ph,gfmFootnoteDefinitionLabelString:Rh,gfmFootnoteDefinition:Oh},exit:{gfmFootnoteCallString:Lh,gfmFootnoteCall:Fh,gfmFootnoteDefinitionLabelString:Bh,gfmFootnoteDefinition:Mh}}}function $h(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:t,footnoteReference:Oa},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const u=o.enter("footnoteDefinition"),h=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),h(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((n?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),n?La:Hh))),u(),l}}function Hh(e,n,t){return n===0?e:La(e,n,t)}function La(e,n,t){return(t?"":"    ")+e}const Vh=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Fa.peek=Yh;function Wh(){return{canContainEols:["delete"],enter:{strikethrough:Zh},exit:{strikethrough:Gh}}}function qh(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Vh}],handlers:{delete:Fa}}}function Zh(e){this.enter({type:"delete",children:[]},e)}function Gh(e){this.exit(e)}function Fa(e,n,t,r){const i=t.createTracker(r),o=t.enter("strikethrough");let a=i.move("~~");return a+=t.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function Yh(){return"~"}function Xh(e){return e.length}function Kh(e,n){const t=n||{},r=(t.align||[]).concat(),i=t.stringLength||Xh,o=[],a=[],s=[],l=[];let u=0,h=-1;for(;++h<e.length;){const p=[],b=[];let y=-1;for(e[h].length>u&&(u=e[h].length);++y<e[h].length;){const k=Jh(e[h][y]);if(t.alignDelimiters!==!1){const w=i(k);b[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}p.push(k)}a[h]=p,s[h]=b}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)o[c]=Ti(r[c]);else{const p=Ti(r);for(;++c<u;)o[c]=p}c=-1;const d=[],f=[];for(;++c<u;){const p=o[c];let b="",y="";p===99?(b=":",y=":"):p===108?b=":":p===114&&(y=":");let k=t.alignDelimiters===!1?1:Math.max(1,l[c]-b.length-y.length);const w=b+"-".repeat(k)+y;t.alignDelimiters!==!1&&(k=b.length+k+y.length,k>l[c]&&(l[c]=k),f[c]=k),d[c]=w}a.splice(1,0,d),s.splice(1,0,f),h=-1;const m=[];for(;++h<a.length;){const p=a[h],b=s[h];c=-1;const y=[];for(;++c<u;){const k=p[c]||"";let w="",T="";if(t.alignDelimiters!==!1){const j=l[c]-(b[c]||0),I=o[c];I===114?w=" ".repeat(j):I===99?j%2?(w=" ".repeat(j/2+.5),T=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),T=w):T=" ".repeat(j)}t.delimiterStart!==!1&&!c&&y.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&k==="")&&(t.delimiterStart!==!1||c)&&y.push(" "),t.alignDelimiters!==!1&&y.push(w),y.push(k),t.alignDelimiters!==!1&&y.push(T),t.padding!==!1&&y.push(" "),(t.delimiterEnd!==!1||c!==u-1)&&y.push("|")}m.push(t.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function Jh(e){return e==null?"":String(e)}function Ti(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function Qh(e,n,t,r){const i=t.enter("blockquote"),o=t.createTracker(r);o.move("> "),o.shift(2);const a=t.indentLines(t.containerFlow(e,o.current()),ed);return i(),a}function ed(e,n,t){return">"+(t?"":" ")+e}function td(e,n){return ji(e,n.inConstruct,!0)&&!ji(e,n.notInConstruct,!1)}function ji(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let r=-1;for(;++r<n.length;)if(e.includes(n[r]))return!0;return!1}function Di(e,n,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&td(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function nd(e,n){const t=String(e);let r=t.indexOf(n),i=r,o=0,a=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+n.length,r=t.indexOf(n,i);return a}function rd(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function id(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function ad(e,n,t,r){const i=id(t),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(rd(e,t)){const c=t.enter("codeIndented"),d=t.indentLines(o,od);return c(),d}const s=t.createTracker(r),l=i.repeat(Math.max(nd(o,i)+1,3)),u=t.enter("codeFenced");let h=s.move(l);if(e.lang){const c=t.enter(`codeFencedLang${a}`);h+=s.move(t.safe(e.lang,{before:h,after:" ",encode:["`"],...s.current()})),c()}if(e.lang&&e.meta){const c=t.enter(`codeFencedMeta${a}`);h+=s.move(" "),h+=s.move(t.safe(e.meta,{before:h,after:`
`,encode:["`"],...s.current()})),c()}return h+=s.move(`
`),o&&(h+=s.move(o+`
`)),h+=s.move(l),u(),h}function od(e,n,t){return(t?"":"    ")+e}function kr(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function sd(e,n,t,r){const i=kr(t),o=i==='"'?"Quote":"Apostrophe",a=t.enter("definition");let s=t.enter("label");const l=t.createTracker(r);let u=l.move("[");return u+=l.move(t.safe(t.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(t.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=t.enter("destinationRaw"),u+=l.move(t.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=t.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(t.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),a(),u}function ld(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Et(e){return"&#x"+e.toString(16).toUpperCase()+";"}function qt(e,n,t){const r=ht(e),i=ht(n);return r===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ba.peek=ud;function Ba(e,n,t,r){const i=ld(t),o=t.enter("emphasis"),a=t.createTracker(r),s=a.move(i);let l=a.move(t.containerPhrasing(e,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),h=qt(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=Et(u)+l.slice(1));const c=l.charCodeAt(l.length-1),d=qt(r.after.charCodeAt(0),c,i);d.inside&&(l=l.slice(0,-1)+Et(c));const f=a.move(i);return o(),t.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},s+l+f}function ud(e,n,t){return t.options.emphasis||"*"}function cd(e,n){let t=!1;return xr(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,Rn}),!!((!e.depth||e.depth<3)&&fr(e)&&(n.options.setext||t))}function fd(e,n,t,r){const i=Math.max(Math.min(6,e.depth||1),1),o=t.createTracker(r);if(cd(e,t)){const h=t.enter("headingSetext"),c=t.enter("phrasing"),d=t.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return c(),h(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=t.enter("headingAtx"),l=t.enter("phrasing");o.move(a+" ");let u=t.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Et(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,t.options.closeAtx&&(u+=" "+a),l(),s(),u}Ma.peek=hd;function Ma(e){return e.value||""}function hd(){return"<"}Na.peek=dd;function Na(e,n,t,r){const i=kr(t),o=i==='"'?"Quote":"Apostrophe",a=t.enter("image");let s=t.enter("label");const l=t.createTracker(r);let u=l.move("![");return u+=l.move(t.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(t.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=t.enter("destinationRaw"),u+=l.move(t.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=t.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(t.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}function dd(){return"!"}Ua.peek=pd;function Ua(e,n,t,r){const i=e.referenceType,o=t.enter("imageReference");let a=t.enter("label");const s=t.createTracker(r);let l=s.move("![");const u=t.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const h=t.stack;t.stack=[],a=t.enter("reference");const c=t.safe(t.associationId(e),{before:l,after:"]",...s.current()});return a(),t.stack=h,o(),i==="full"||!u||u!==c?l+=s.move(c+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function pd(){return"!"}$a.peek=md;function $a(e,n,t){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<t.unsafe.length;){const a=t.unsafe[o],s=t.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function md(){return"`"}function Ha(e,n){const t=fr(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Va.peek=gd;function Va(e,n,t,r){const i=kr(t),o=i==='"'?"Quote":"Apostrophe",a=t.createTracker(r);let s,l;if(Ha(e,t)){const h=t.stack;t.stack=[],s=t.enter("autolink");let c=a.move("<");return c+=a.move(t.containerPhrasing(e,{before:c,after:">",...a.current()})),c+=a.move(">"),s(),t.stack=h,c}s=t.enter("link"),l=t.enter("label");let u=a.move("[");return u+=a.move(t.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=t.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(t.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=t.enter("destinationRaw"),u+=a.move(t.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=t.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(t.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}function gd(e,n,t){return Ha(e,t)?"<":"["}Wa.peek=yd;function Wa(e,n,t,r){const i=e.referenceType,o=t.enter("linkReference");let a=t.enter("label");const s=t.createTracker(r);let l=s.move("[");const u=t.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const h=t.stack;t.stack=[],a=t.enter("reference");const c=t.safe(t.associationId(e),{before:l,after:"]",...s.current()});return a(),t.stack=h,o(),i==="full"||!u||u!==c?l+=s.move(c+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function yd(){return"["}function wr(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function xd(e){const n=wr(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}function bd(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function qa(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function kd(e,n,t,r){const i=t.enter("list"),o=t.bulletCurrent;let a=e.ordered?bd(t):wr(t);const s=e.ordered?a==="."?")":".":xd(t);let l=n&&t.bulletLastUsed?a===t.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(l=!0),qa(t)===a&&h){let c=-1;for(;++c<e.children.length;){const d=e.children[c];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),t.bulletCurrent=a;const u=t.containerFlow(e,r);return t.bulletLastUsed=a,t.bulletCurrent=o,i(),u}function wd(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function vd(e,n,t,r){const i=wd(t);let o=t.bulletCurrent||wr(t);n&&n.type==="list"&&n.ordered&&(o=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(a=Math.ceil(a/4)*4);const s=t.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=t.enter("listItem"),u=t.indentLines(t.containerFlow(e,s.current()),h);return l(),u;function h(c,d,f){return d?(f?"":" ".repeat(a))+c:(f?o:o+" ".repeat(a-o.length))+c}}function _d(e,n,t,r){const i=t.enter("paragraph"),o=t.enter("phrasing"),a=t.containerPhrasing(e,r);return o(),i(),a}const Sd=Jt(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Cd(e,n,t,r){return(e.children.some(function(a){return Sd(a)})?t.containerPhrasing:t.containerFlow).call(t,e,r)}function Ed(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}Za.peek=Ad;function Za(e,n,t,r){const i=Ed(t),o=t.enter("strong"),a=t.createTracker(r),s=a.move(i+i);let l=a.move(t.containerPhrasing(e,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),h=qt(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=Et(u)+l.slice(1));const c=l.charCodeAt(l.length-1),d=qt(r.after.charCodeAt(0),c,i);d.inside&&(l=l.slice(0,-1)+Et(c));const f=a.move(i+i);return o(),t.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},s+l+f}function Ad(e,n,t){return t.options.strong||"*"}function Id(e,n,t,r){return t.safe(e.value,r)}function zd(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function Td(e,n,t){const r=(qa(t)+(t.options.ruleSpaces?" ":"")).repeat(zd(t));return t.options.ruleSpaces?r.slice(0,-1):r}const Ga={blockquote:Qh,break:Di,code:ad,definition:sd,emphasis:Ba,hardBreak:Di,heading:fd,html:Ma,image:Na,imageReference:Ua,inlineCode:$a,link:Va,linkReference:Wa,list:kd,listItem:vd,paragraph:_d,root:Cd,strong:Za,text:Id,thematicBreak:Td};function jd(){return{enter:{table:Dd,tableData:Pi,tableHeader:Pi,tableRow:Rd},exit:{codeText:Od,table:Pd,tableData:Sn,tableHeader:Sn,tableRow:Sn}}}function Dd(e){const n=e._align;this.enter({type:"table",align:n.map(function(t){return t==="none"?null:t}),children:[]},e),this.data.inTable=!0}function Pd(e){this.exit(e),this.data.inTable=void 0}function Rd(e){this.enter({type:"tableRow",children:[]},e)}function Sn(e){this.exit(e)}function Pi(e){this.enter({type:"tableCell",children:[]},e)}function Od(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,Ld));const t=this.stack[this.stack.length-1];t.type,t.value=n,this.exit(e)}function Ld(e,n){return n==="|"?n:e}function Fd(e){const n=e||{},t=n.tableCellPadding,r=n.tablePipeAlign,i=n.stringLength,o=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:a,tableCell:l,tableRow:s}};function a(f,m,p,b){return u(h(f,p,b),f.align)}function s(f,m,p,b){const y=c(f,p,b),k=u([y]);return k.slice(0,k.indexOf(`
`))}function l(f,m,p,b){const y=p.enter("tableCell"),k=p.enter("phrasing"),w=p.containerPhrasing(f,{...b,before:o,after:o});return k(),y(),w}function u(f,m){return Kh(f,{align:m,alignDelimiters:r,padding:t,stringLength:i})}function h(f,m,p){const b=f.children;let y=-1;const k=[],w=m.enter("table");for(;++y<b.length;)k[y]=c(b[y],m,p);return w(),k}function c(f,m,p){const b=f.children;let y=-1;const k=[],w=m.enter("tableRow");for(;++y<b.length;)k[y]=l(b[y],f,m,p);return w(),k}function d(f,m,p){let b=Ga.inlineCode(f,m,p);return p.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Bd(){return{exit:{taskListCheckValueChecked:Ri,taskListCheckValueUnchecked:Ri,paragraph:Nd}}}function Md(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ud}}}function Ri(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function Nd(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const i=n.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Ud(e,n,t,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=t.createTracker(r);o&&s.move(a);let l=Ga.listItem(e,n,t,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+a}}function $d(){return[kh(),Uh(),Wh(),jd(),Bd()]}function Hd(e){return{extensions:[wh(),$h(e),qh(),Fd(e),Md()]}}const Vd={tokenize:Xd,partial:!0},Ya={tokenize:Kd,partial:!0},Xa={tokenize:Jd,partial:!0},Ka={tokenize:Qd,partial:!0},Wd={tokenize:ep,partial:!0},Ja={name:"wwwAutolink",tokenize:Gd,previous:eo},Qa={name:"protocolAutolink",tokenize:Yd,previous:to},Ke={name:"emailAutolink",tokenize:Zd,previous:no},Ge={};function qd(){return{text:Ge}}let rt=48;for(;rt<123;)Ge[rt]=Ke,rt++,rt===58?rt=65:rt===91&&(rt=97);Ge[43]=Ke;Ge[45]=Ke;Ge[46]=Ke;Ge[95]=Ke;Ge[72]=[Ke,Qa];Ge[104]=[Ke,Qa];Ge[87]=[Ke,Ja];Ge[119]=[Ke,Ja];function Zd(e,n,t){const r=this;let i,o;return a;function a(c){return!Bn(c)||!no.call(r,r.previous)||vr(r.events)?t(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(c))}function s(c){return Bn(c)?(e.consume(c),s):c===64?(e.consume(c),l):t(c)}function l(c){return c===46?e.check(Wd,h,u)(c):c===45||c===95||ze(c)?(o=!0,e.consume(c),l):h(c)}function u(c){return e.consume(c),i=!0,l}function h(c){return o&&i&&De(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(c)):t(c)}}function Gd(e,n,t){const r=this;return i;function i(a){return a!==87&&a!==119||!eo.call(r,r.previous)||vr(r.events)?t(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Vd,e.attempt(Ya,e.attempt(Xa,o),t),t)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(a)}}function Yd(e,n,t){const r=this;let i="",o=!1;return a;function a(c){return(c===72||c===104)&&to.call(r,r.previous)&&!vr(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),e.consume(c),s):t(c)}function s(c){if(De(c)&&i.length<5)return i+=String.fromCodePoint(c),e.consume(c),s;if(c===58){const d=i.toLowerCase();if(d==="http"||d==="https")return e.consume(c),l}return t(c)}function l(c){return c===47?(e.consume(c),o?u:(o=!0,l)):t(c)}function u(c){return c===null||Ht(c)||we(c)||at(c)||Yt(c)?t(c):e.attempt(Ya,e.attempt(Xa,h),t)(c)}function h(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(c)}}function Xd(e,n,t){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),o):t(a)}function o(a){return a===null?t(a):n(a)}}function Kd(e,n,t){let r,i,o;return a;function a(u){return u===46||u===95?e.check(Ka,l,s)(u):u===null||we(u)||at(u)||u!==45&&Yt(u)?l(u):(o=!0,e.consume(u),a)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function l(u){return i||r||!o?t(u):n(u)}}function Jd(e,n){let t=0,r=0;return i;function i(a){return a===40?(t++,e.consume(a),i):a===41&&r<t?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Ka,n,o)(a):a===null||we(a)||at(a)?n(a):(e.consume(a),i)}function o(a){return a===41&&r++,e.consume(a),i}}function Qd(e,n,t){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||we(s)||at(s)?n(s):t(s)}function i(s){return s===null||s===40||s===91||we(s)||at(s)?n(s):r(s)}function o(s){return De(s)?a(s):t(s)}function a(s){return s===59?(e.consume(s),r):De(s)?(e.consume(s),a):t(s)}}function ep(e,n,t){return r;function r(o){return e.consume(o),i}function i(o){return ze(o)?t(o):n(o)}}function eo(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||we(e)}function to(e){return!De(e)}function no(e){return!(e===47||Bn(e))}function Bn(e){return e===43||e===45||e===46||e===95||ze(e)}function vr(e){let n=e.length,t=!1;for(;n--;){const r=e[n][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const tp={tokenize:up,partial:!0};function np(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:op,continuation:{tokenize:sp},exit:lp}},text:{91:{name:"gfmFootnoteCall",tokenize:ap},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:rp,resolveTo:ip}}}}function rp(e,n,t){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return t(l);const u=Ve(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?t(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),n(l))}}function ip(e,n){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[t+1],e[t+2],["enter",r,n],e[t+3],e[t+4],["enter",i,n],["exit",i,n],["enter",o,n],["enter",a,n],["exit",a,n],["exit",o,n],e[e.length-2],e[e.length-1],["exit",r,n]];return e.splice(t,e.length-t+1,...s),e}function ap(e,n,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),l}function l(c){return c!==94?t(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(c){if(o>999||c===93&&!a||c===null||c===91||we(c))return t(c);if(c===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return i.includes(Ve(r.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):t(c)}return we(c)||(a=!0),o++,e.consume(c),c===92?h:u}function h(c){return c===91||c===92||c===93?(e.consume(c),o++,u):u(c)}}function op(e,n,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):t(m)}function h(m){if(a>999||m===93&&!s||m===null||m===91||we(m))return t(m);if(m===93){e.exit("chunkString");const p=e.exit("gfmFootnoteDefinitionLabelString");return o=Ve(r.sliceSerialize(p)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return we(m)||(s=!0),a++,e.consume(m),m===92?c:h}function c(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}function d(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(o)||i.push(o),pe(e,f,"gfmFootnoteDefinitionWhitespace")):t(m)}function f(m){return n(m)}}function sp(e,n,t){return e.check(It,n,e.attempt(tp,n,t))}function lp(e){e.exit("gfmFootnoteDefinition")}function up(e,n,t){const r=this;return pe(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?n(o):t(o)}}function cp(e){let t=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},c={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},d=[["enter",h,s],["enter",a[u][1],s],["exit",a[u][1],s],["enter",c,s]],f=s.parser.constructs.insideSpan.null;f&&Ne(d,d.length,0,Xt(f,a.slice(u+1,l),s)),Ne(d,d.length,0,[["exit",c,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",h,s]]),Ne(a,u-1,l-u+3,d),l=u+d.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const u=this.previous,h=this.events;let c=0;return d;function d(m){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),f(m))}function f(m){const p=ht(u);if(m===126)return c>1?l(m):(a.consume(m),c++,f);if(c<2&&!t)return l(m);const b=a.exit("strikethroughSequenceTemporary"),y=ht(m);return b._open=!y||y===2&&!!p,b._close=!p||p===2&&!!y,s(m)}}}class fp{constructor(){this.map=[]}add(n,t,r){hp(this,n,t,r)}consume(n){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(n.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),n.length=this.map[t][0];r.push(n.slice()),n.length=0;let i=r.pop();for(;i;){for(const o of i)n.push(o);i=r.pop()}this.map.length=0}}function hp(e,n,t,r){let i=0;if(!(t===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===n){e.map[i][1]+=t,e.map[i][2].push(...r);return}i+=1}e.map.push([n,t,r])}}function dp(e,n){let t=!1;const r=[];for(;n<e.length;){const i=e[n];if(t){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(t=!0);n+=1}return r}function pp(){return{flow:{null:{name:"table",tokenize:mp,resolveAll:gp}}}}function mp(e,n,t){const r=this;let i=0,o=0,a;return s;function s(z){let q=r.events.length-1;for(;q>-1;){const x=r.events[q][1].type;if(x==="lineEnding"||x==="linePrefix")q--;else break}const C=q>-1?r.events[q][1].type:null,N=C==="tableHead"||C==="tableRow"?I:l;return N===I&&r.parser.lazy[r.now().line]?t(z):N(z)}function l(z){return e.enter("tableHead"),e.enter("tableRow"),u(z)}function u(z){return z===124||(a=!0,o+=1),h(z)}function h(z){return z===null?t(z):ae(z)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),f):t(z):de(z)?pe(e,h,"whitespace")(z):(o+=1,a&&(a=!1,i+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),c(z)))}function c(z){return z===null||z===124||we(z)?(e.exit("data"),h(z)):(e.consume(z),z===92?d:c)}function d(z){return z===92||z===124?(e.consume(z),c):c(z)}function f(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(z):(e.enter("tableDelimiterRow"),a=!1,de(z)?pe(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):m(z))}function m(z){return z===45||z===58?b(z):z===124?(a=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),p):j(z)}function p(z){return de(z)?pe(e,b,"whitespace")(z):b(z)}function b(z){return z===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),y):z===45?(o+=1,y(z)):z===null||ae(z)?T(z):j(z)}function y(z){return z===45?(e.enter("tableDelimiterFiller"),k(z)):j(z)}function k(z){return z===45?(e.consume(z),k):z===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(z))}function w(z){return de(z)?pe(e,T,"whitespace")(z):T(z)}function T(z){return z===124?m(z):z===null||ae(z)?!a||i!==o?j(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(z)):j(z)}function j(z){return t(z)}function I(z){return e.enter("tableRow"),L(z)}function L(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),L):z===null||ae(z)?(e.exit("tableRow"),n(z)):de(z)?pe(e,L,"whitespace")(z):(e.enter("data"),$(z))}function $(z){return z===null||z===124||we(z)?(e.exit("data"),L(z)):(e.consume(z),z===92?O:$)}function O(z){return z===92||z===124?(e.consume(z),$):$(z)}}function gp(e,n){let t=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,u,h,c;const d=new fp;for(;++t<e.length;){const f=e[t],m=f[1];f[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(Oi(d,n,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},d.add(t,0,[["enter",u,n]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,c=void 0,o=[0,0,0,0],a=[0,t+1,0,0],s&&(s=!1,h={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},d.add(t,0,[["enter",h,n]])),i=m.type==="tableDelimiterRow"?2:h?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],c=Ft(d,n,o,i,void 0,c),o=[0,0,0,0]),a[2]=t)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],c=Ft(d,n,o,i,void 0,c)),o=a,a=[o[1],t,0,0])):m.type==="tableHead"?(s=!0,l=t):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=t,o[1]!==0?(a[0]=a[1],c=Ft(d,n,o,i,t,c)):a[1]!==0&&(c=Ft(d,n,a,i,t,c)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=t)}for(l!==0&&Oi(d,n,l,u,h),d.consume(n.events),t=-1;++t<n.events.length;){const f=n.events[t];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=dp(n.events,t))}return e}function Ft(e,n,t,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";t[0]!==0&&(o.end=Object.assign({},ut(n.events,t[0])),e.add(t[0],0,[["exit",o,n]]));const l=ut(n.events,t[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(t[1],0,[["enter",o,n]]),t[2]!==0){const u=ut(n.events,t[2]),h=ut(n.events,t[3]),c={type:s,start:Object.assign({},u),end:Object.assign({},h)};if(e.add(t[2],0,[["enter",c,n]]),r!==2){const d=n.events[t[2]],f=n.events[t[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",t[3]>t[2]+1){const m=t[2]+1,p=t[3]-t[2]-1;e.add(m,p,[])}}e.add(t[3]+1,0,[["exit",c,n]])}return i!==void 0&&(o.end=Object.assign({},ut(n.events,i)),e.add(i,0,[["exit",o,n]]),o=void 0),o}function Oi(e,n,t,r,i){const o=[],a=ut(n.events,t);i&&(i.end=Object.assign({},a),o.push(["exit",i,n])),r.end=Object.assign({},a),o.push(["exit",r,n]),e.add(t+1,0,o)}function ut(e,n){const t=e[n],r=t[0]==="enter"?"start":"end";return t[1][r]}const yp={name:"tasklistCheck",tokenize:bp};function xp(){return{text:{91:yp}}}function bp(e,n,t){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return we(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):t(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):t(l)}function s(l){return ae(l)?n(l):de(l)?e.check({tokenize:kp},n,t)(l):t(l)}}function kp(e,n,t){return pe(e,r,"whitespace");function r(i){return i===null?t(i):n(i)}}function wp(e){return ha([qd(),np(),cp(e),pp(),xp()])}const vp={};function _p(e){const n=this,t=e||vp,r=n.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(wp(t)),o.push($d()),a.push(Hd(t))}var _r={},Sp=Ae;Object.defineProperty(_r,"__esModule",{value:!0});var ro=_r.default=void 0,Cp=Sp(Ie()),Ep=_;ro=_r.default=(0,Cp.default)((0,Ep.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var Sr={},Ap=Ae;Object.defineProperty(Sr,"__esModule",{value:!0});var Mn=Sr.default=void 0,Ip=Ap(Ie()),zp=_;Mn=Sr.default=(0,Ip.default)((0,zp.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Cr={},Tp=Ae;Object.defineProperty(Cr,"__esModule",{value:!0});var io=Cr.default=void 0,jp=Tp(Ie()),Dp=_;io=Cr.default=(0,jp.default)((0,Dp.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Er={},Pp=Ae;Object.defineProperty(Er,"__esModule",{value:!0});var ao=Er.default=void 0,Rp=Pp(Ie()),Op=_;ao=Er.default=(0,Rp.default)((0,Op.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var Ar={},Lp=Ae;Object.defineProperty(Ar,"__esModule",{value:!0});var Ut=Ar.default=void 0,Fp=Lp(Ie()),Bp=_;Ut=Ar.default=(0,Fp.default)((0,Bp.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var Ir={},Mp=Ae;Object.defineProperty(Ir,"__esModule",{value:!0});var Nn=Ir.default=void 0,Np=Mp(Ie()),Up=_;Nn=Ir.default=(0,Np.default)((0,Up.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");var zr={},$p=Ae;Object.defineProperty(zr,"__esModule",{value:!0});var oo=zr.default=void 0,Hp=$p(Ie()),Vp=_;oo=zr.default=(0,Hp.default)((0,Vp.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");const Wp=({onAssetImport:e,isFullPage:n=!1})=>{const[t,r]=fe.useState(!1),[i,o]=fe.useState(!1),[a,s]=fe.useState(null),l=fe.useRef(null),u=fe.useRef(null),[h,c]=fe.useState(!1),[d,f]=fe.useState(!0),[m,p]=fe.useState(0),[b,y]=fe.useState([]),[k,w]=fe.useState([]),[T,j]=fe.useState([]),[I,L]=fe.useState(!1),[$,O]=fe.useState(!1),[z,q]=fe.useState(null),{saveDataToIndexedDB:C,exportToZip:N}=He(),[x,U]=fe.useState("audio"),[re,V]=fe.useState(!1);fe.useEffect(()=>{(async()=>{f(!0);const S=await ye.hasAssets("audio"),v=await ye.hasAssets("images"),P=await ye.hasAssets("data");c(S||v||P),f(!1),await ie()})()},[]);const ie=async()=>{L(!0);try{const D=await ye.getAssets("audio"),S=await ye.getAssets("images"),v=await ye.getAssets("data");y(D.map(P=>P.name)),w(S.map(P=>P.name)),j(v.map(P=>P.name)),L(!1)}catch(D){console.error("Error loading assets:",D),L(!1)}},Y=`
Your zip file should contain:

1. /audio folder - with mp3, wav, or ogg files
2. /images folder - with jpg, png, or gif files
3. /data folder - with JSON files:
   - locations.json: Array of location objects with id, name, description
   - characters.json: Array of character objects

Example locations.json:
[
  {
    "id": "tavern",
    "name": "The Rusty Tankard",
    "description": "A cozy tavern with a fireplace.",
    "backgroundMusic": "tavern_ambience.mp3"
  }
]
  `,A=D=>{D.preventDefault(),r(!0)},M=D=>{D.preventDefault(),r(!1)},F=async D=>{D.preventDefault(),r(!1);const S=D.dataTransfer.files;if(S.length===0)return;const v=S[0];await ee(v)},E=async D=>{const S=D.target.files;if(!S||S.length===0)return;const v=S[0];await ee(v)},ee=async D=>{if(!D.name.toLowerCase().endsWith(".zip")){s({success:!1,message:"Please upload a .zip file containing audio, images, and data folders."});return}o(!0),s(null);try{const S=await ye.processZipFile(D);s(S),S.success&&(c(!0),await ie(),e&&e())}catch(S){s({success:!1,message:`Error processing file: ${S instanceof Error?S.message:String(S)}`})}finally{o(!1),l.current&&(l.current.value="")}},J=async()=>{o(!0);try{await ye.clearAllAssets(),c(!1),y([]),w([]),j([]),s({success:!0,message:"All imported assets have been cleared."}),e&&e()}catch(D){s({success:!1,message:`Error clearing assets: ${D instanceof Error?D.message:String(D)}`})}finally{o(!1)}},ue=()=>{s(null)},_e=async()=>{o(!0),s(null);try{const D=await ye.loadExampleData();s(D),D.success&&(c(!0),await ie(),e&&e())}catch(D){s({success:!1,message:`Error creating empty structure: ${D instanceof Error?D.message:String(D)}`})}finally{o(!1)}},se=(D,S)=>{p(S)},ce=D=>{U(D),V(!0)},ke=async D=>{const S=D.target.files;if(!S||S.length===0)return;const v=S[0];o(!0);try{const P=await ye.addAsset(x,v);s(P),P.success&&(c(!0),await ie(),e&&e())}catch(P){s({success:!1,message:`Error adding asset: ${P instanceof Error?P.message:String(P)}`})}finally{o(!1),V(!1),u.current&&(u.current.value="")}},be=async(D,S)=>{o(!0);try{const v=await ye.deleteAsset(D,S);if(s(v),v.success){await ie();const P=await ye.hasAssets("audio"),W=await ye.hasAssets("images"),G=await ye.hasAssets("data");c(P||W||G),e&&e()}}catch(v){s({success:!1,message:`Error deleting asset: ${v instanceof Error?v.message:String(v)}`})}finally{o(!1)}},Pe=async()=>{O(!0);try{const D=await C();s(D)}catch(D){s({success:!1,message:`Error saving data: ${D instanceof Error?D.message:String(D)}`})}finally{O(!1)}},je=async()=>{O(!0);try{const D=await N();s({success:D.success,message:D.message}),D.success&&D.url&&q(D.url)}catch(D){s({success:!1,message:`Error exporting data: ${D instanceof Error?D.message:String(D)}`})}finally{O(!1)}},g=()=>{if(z){const D=document.createElement("a");D.href=z,D.download="campaign-data.zip",document.body.appendChild(D),D.click(),document.body.removeChild(D)}},H=(D,S)=>I?_.jsx(xe,{sx:{display:"flex",justifyContent:"center",p:2},children:_.jsx(Bt,{size:30})}):S.length===0?_.jsxs(he,{variant:"body2",sx:{p:2,textAlign:"center",color:"text.secondary"},children:["No ",D,' assets found. Add some using the "Add ',D,'" button.']}):_.jsx(St,{dense:!0,children:S.map(v=>_.jsxs(ct,{children:[_.jsx(kt,{primary:v,secondary:D==="data"?"JSON Data":`${D.charAt(0).toUpperCase()+D.slice(1)} File`}),_.jsx(Po,{children:_.jsx(Le,{edge:"end",onClick:()=>be(D,v),children:_.jsx(Mn,{})})})]},v))});return d?_.jsxs($t,{elevation:3,sx:{p:2,backgroundColor:"rgba(45, 45, 45, 0.9)",transition:"all 0.3s ease",position:"relative",width:n?"100%":"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:200},children:[_.jsx(Bt,{size:40}),_.jsx(he,{variant:"body1",sx:{mt:2},children:"Checking for stored assets..."})]}):_.jsxs(_.Fragment,{children:[_.jsxs($t,{elevation:3,sx:{p:2,backgroundColor:"rgba(45, 45, 45, 0.9)",transition:"all 0.3s ease",position:"relative",width:n?"100%":"auto"},children:[_.jsxs(xe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[_.jsx(he,{variant:"h6",children:"Asset Manager"}),_.jsx(Hn,{title:Y,arrow:!0,placement:"left",children:_.jsx(Le,{size:"small",children:_.jsx(ao,{fontSize:"small"})})})]}),_.jsxs(tn,{defaultExpanded:!h,sx:{mb:2,backgroundColor:"rgba(60, 60, 60, 0.7)"},children:[_.jsx(nn,{expandIcon:_.jsx(Ut,{}),children:_.jsx(he,{variant:"subtitle1",children:"Import ZIP File"})}),_.jsxs(rn,{children:[_.jsxs(xe,{sx:{border:"2px dashed",borderColor:t?"primary.main":"grey.500",borderRadius:1,p:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:t?"rgba(25, 118, 210, 0.1)":"transparent",transition:"all 0.3s ease",position:"relative"},onDragOver:A,onDragLeave:M,onDrop:F,onClick:()=>{var D;return(D=l.current)==null?void 0:D.click()},children:[i?_.jsx(Bt,{size:30,sx:{my:2}}):_.jsxs(_.Fragment,{children:[_.jsx(ro,{sx:{fontSize:40,color:"text.secondary",mb:1}}),_.jsx(he,{variant:"body1",gutterBottom:!0,children:"Drag & Drop a ZIP file here, or click to select"}),_.jsx(he,{variant:"body2",color:"textSecondary",children:"Your ZIP should contain audio/, images/, and data/ folders"})]}),_.jsx("input",{type:"file",ref:l,onChange:E,style:{display:"none"},accept:".zip"})]}),_.jsxs(xe,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[_.jsx(Oe,{variant:"outlined",color:"warning",startIcon:_.jsx(Mn,{}),onClick:J,disabled:i||!h,children:"Clear All Assets"}),!h&&_.jsx(Oe,{variant:"outlined",color:"primary",onClick:_e,disabled:i,children:"Create Empty Structure"})]})]})]}),_.jsxs(tn,{sx:{mb:2,backgroundColor:"rgba(60, 60, 60, 0.7)"},children:[_.jsx(nn,{expandIcon:_.jsx(Ut,{}),children:_.jsx(he,{variant:"subtitle1",children:"Export Campaign"})}),_.jsxs(rn,{children:[_.jsxs(xe,{sx:{mb:2},children:[_.jsx(he,{variant:"body2",paragraph:!0,children:"Export your entire campaign as a ZIP file to backup your work or share it with others."}),_.jsxs(et,{container:!0,spacing:2,children:[_.jsx(et,{item:!0,xs:12,sm:6,children:_.jsx(Oe,{variant:"contained",color:"primary",fullWidth:!0,startIcon:_.jsx(Nn,{}),onClick:je,disabled:$||!h,children:$?"Preparing ZIP...":"Export Campaign ZIP"})}),_.jsx(et,{item:!0,xs:12,sm:6,children:_.jsx(Oe,{variant:"outlined",color:"primary",fullWidth:!0,startIcon:_.jsx(Nn,{}),onClick:g,disabled:!z,children:"Download ZIP"})})]})]}),_.jsx(Oe,{variant:"outlined",color:"success",fullWidth:!0,onClick:Pe,disabled:$,children:$?"Saving...":"Save Current Campaign State"})]})]}),_.jsxs(tn,{sx:{backgroundColor:"rgba(60, 60, 60, 0.7)"},defaultExpanded:h,children:[_.jsx(nn,{expandIcon:_.jsx(Ut,{}),children:_.jsx(he,{variant:"subtitle1",children:"Manage Individual Assets"})}),_.jsx(rn,{children:_.jsxs(xe,{sx:{width:"100%"},children:[_.jsx(xe,{sx:{borderBottom:1,borderColor:"divider"},children:_.jsxs(To,{value:m,onChange:se,children:[_.jsx(an,{label:"Audio"}),_.jsx(an,{label:"Images"}),_.jsx(an,{label:"Data"})]})}),_.jsxs(xe,{sx:{p:1},children:[_.jsxs(Oe,{variant:"outlined",color:"primary",startIcon:_.jsx(oo,{}),sx:{mb:1},onClick:()=>ce(m===0?"audio":m===1?"images":"data"),children:["Add ",m===0?"Audio":m===1?"Image":"Data"," File"]}),_.jsx(xe,{role:"tabpanel",hidden:m!==0,children:m===0&&H("audio",b)}),_.jsx(xe,{role:"tabpanel",hidden:m!==1,children:m===1&&H("images",k)}),_.jsx(xe,{role:"tabpanel",hidden:m!==2,children:m===2&&H("data",T)})]})]})})]}),a&&_.jsxs(jo,{severity:a.success?"success":"error",sx:{mt:2},action:_.jsx(Le,{size:"small",onClick:ue,children:_.jsx(io,{fontSize:"small"})}),children:[_.jsx(Do,{children:a.success?"Success":"Error"}),a.message]})]}),_.jsxs(Un,{open:re,onClose:()=>V(!1),children:[_.jsxs(Fi,{children:["Add ",x==="audio"?"Audio":x==="images"?"Image":"Data"," File"]}),_.jsxs($n,{children:[_.jsxs(he,{variant:"body2",sx:{mb:2},children:[x==="audio"&&"Select an audio file (MP3, WAV, OGG)",x==="images"&&"Select an image file (PNG, JPG, GIF)",x==="data"&&"Select a JSON data file"]}),_.jsxs(Oe,{variant:"contained",component:"label",fullWidth:!0,children:["Choose File",_.jsx("input",{type:"file",ref:u,hidden:!0,onChange:ke,accept:x==="audio"?"audio/*":x==="images"?"image/*":".json"})]})]}),_.jsx(Bi,{children:_.jsx(Oe,{onClick:()=>V(!1),children:"Cancel"})})]})]})},qp=e=>[/^#+\s/,/\*\*.*\*\*/,/\*.*\*/,/\[.*\]\(.*\)/,/!\[.*\]\(.*\)/,/^\s*[\*\-\+]\s/,/^\s*\d+\.\s/,/^\s*>\s/,/`.*`/,/```[\s\S]*```/,/\|.*\|.*\|/].some(t=>t.test(e)),Li=({content:e})=>{const t=(r=>{let i=r;return i=i.replace(/^# (.*)$/gm,"<h1>$1</h1>"),i=i.replace(/^## (.*)$/gm,"<h2>$1</h2>"),i=i.replace(/^### (.*)$/gm,"<h3>$1</h3>"),i=i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),i=i.replace(/\*(.*?)\*/g,"<em>$1</em>"),i=i.replace(/^\* (.*)$/gm,"<li>$1</li>"),i=i.replace(/\n/g,"<br />"),i})(e);return _.jsx("div",{dangerouslySetInnerHTML:{__html:t}})},Zp=({content:e,sx:n,debug:t=!1,disableParaTags:r=!1})=>{const[i,o]=fe.useState(!1),[a,s]=fe.useState(!1),[l,u]=fe.useState(!1);if(fe.useEffect(()=>{typeof Lt!="function"&&(console.error("ReactMarkdown is not available"),o(!0),u(!0)),s(qp(e))},[e]),t&&console.log("MarkdownContent debug:",{content:(e==null?void 0:e.substring(0,100))+"...",markdownDetected:a,reactMarkdownAvailable:typeof Lt=="function",reactMarkdownType:typeof Lt,window:window.ReactMarkdownLoaded?"ReactMarkdown is loaded globally":"No global ReactMarkdown"}),l)return _.jsx(xe,{sx:n,children:_.jsx(Li,{content:e})});if(i)return _.jsx(he,{sx:{whiteSpace:"pre-wrap",...n},children:e});if(r)return _.jsx("span",{style:{whiteSpace:"normal"},children:e.replace(/\n/g," ").replace(/\s+/g," ")});try{return _.jsx(xe,{sx:{"& h1, & h2, & h3, & h4, & h5, & h6":{fontWeight:"bold",mt:2,mb:1},"& h1":{fontSize:"1.8rem"},"& h2":{fontSize:"1.6rem"},"& h3":{fontSize:"1.4rem"},"& h4":{fontSize:"1.2rem"},"& h5":{fontSize:"1.1rem"},"& h6":{fontSize:"1rem"},"& p":{mb:1.5,lineHeight:1.6},"& ul, & ol":{pl:3,mb:1.5},"& li":{mb:.5},"& a":{color:h=>h.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& blockquote":{borderLeft:"4px solid",borderColor:"grey.300",pl:2,py:1,my:2,bgcolor:"grey.50",fontStyle:"italic"},"& code":{fontFamily:"monospace",bgcolor:"grey.100",p:.5,borderRadius:1},"& pre":{fontFamily:"monospace",bgcolor:"grey.900",color:"white",p:2,borderRadius:1,overflow:"auto"},"& table":{borderCollapse:"collapse",width:"100%",mb:2},"& th, & td":{border:"1px solid",borderColor:"grey.300",p:1},"& th":{bgcolor:"grey.100",fontWeight:"bold"},...n},children:_.jsx(Lt,{remarkPlugins:[_p],children:e})})}catch(h){return console.error("Failed to render markdown:",h),_.jsx(xe,{sx:n,children:_.jsx(Li,{content:e})})}},Gp=()=>{const{locations:e,characters:n,combats:t}=He(),[r,i]=fe.useState(!1),[o,a]=fe.useState(0),s=`# Markdown Examples
  
## Basic Formatting
**Bold text** and *italic text*

## Lists
* Item 1
* Item 2
  * Nested item

## Links
[Example Link](https://example.com)

## Code
\`\`\`
function example() {
  return "This is code";
}
\`\`\`
`;fe.useEffect(()=>{(async()=>{const d=await ye.getAssets("audio");a(d.length)})()},[]);const l=[{label:"Total Locations",value:e.length},{label:"Total Characters",value:n.length},{label:"Available Music Tracks",value:o},{label:"Combat Encounters",value:t.length}],u=()=>{i(!1)},h=async()=>{const c=await ye.getAssets("audio");a(c.length)};return _.jsxs(xe,{sx:{p:3},children:[_.jsxs(xe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[_.jsx(he,{variant:"h4",children:"Campaign Dashboard"}),_.jsx(Oe,{variant:"contained",color:"primary",onClick:()=>i(!0),children:"Manage Assets"})]}),_.jsx(et,{container:!0,spacing:3,children:l.map(c=>_.jsx(et,{item:!0,xs:12,sm:4,children:_.jsx(on,{children:_.jsxs(sn,{children:[_.jsx(he,{variant:"h6",gutterBottom:!0,children:c.label}),_.jsx(he,{variant:"h3",color:"primary",children:c.value})]})})},c.label))}),_.jsxs(et,{container:!0,spacing:3,sx:{mt:3},children:[_.jsx(et,{item:!0,xs:12,md:6,children:_.jsx(on,{children:_.jsxs(sn,{children:[_.jsx(he,{variant:"h6",gutterBottom:!0,children:"Recent Locations"}),e.slice(0,5).map(c=>_.jsx(he,{variant:"body1",sx:{mb:1},children:c.name},c.id))]})})}),_.jsx(et,{item:!0,xs:12,md:6,children:_.jsx(on,{children:_.jsxs(sn,{children:[_.jsx(he,{variant:"h6",gutterBottom:!0,children:"Recent Characters"}),n.slice(0,5).map(c=>_.jsxs(he,{variant:"body1",sx:{mb:1},children:[c.name," - ",c.type]},c.id))]})})})]}),_.jsx(Xi,{}),_.jsx(Un,{open:r,onClose:u,maxWidth:"md",fullWidth:!0,children:_.jsx($n,{children:_.jsx(Wp,{onAssetImport:h})})}),_.jsx(Zt,{sx:{my:2}}),_.jsx(he,{variant:"h6",gutterBottom:!0,children:"Preview:"}),_.jsx($t,{sx:{p:2,bgcolor:"background.default"},children:_.jsx(Zp,{content:s,debug:!0})}),_.jsxs(xe,{sx:{mt:2,p:2,bgcolor:"rgba(0,0,0,0.05)",borderRadius:1},children:[_.jsx(he,{variant:"subtitle2",gutterBottom:!0,children:"Troubleshooting Markdown Display:"}),_.jsx(he,{variant:"body2",children:"If markdown isn't displaying correctly in the deployed version, please:"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(he,{variant:"body2",children:"Check the browser console for any errors (F12 > Console)"})}),_.jsx("li",{children:_.jsx(he,{variant:"body2",children:"Try refreshing the page with cache clearing (Ctrl+F5 or Cmd+Shift+R)"})}),_.jsx("li",{children:_.jsx(he,{variant:"body2",children:"Temporarily disable any browser extensions that might interfere"})})]})]})]})},Tt=(e,n)=>fe.lazy(()=>e().then(t=>t[n]?{default:t[n]}:(console.error(`Component ${n} not found in the module`),{default:()=>_.jsxs(xe,{sx:{p:3,textAlign:"center"},children:[_.jsx(he,{variant:"h5",color:"error",gutterBottom:!0,children:"Failed to load component"}),_.jsx(Oe,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload Page"})]})})).catch(t=>(console.error(`Error loading component ${n}:`,t),{default:()=>_.jsxs(xe,{sx:{p:3,textAlign:"center"},children:[_.jsx(he,{variant:"h5",color:"error",gutterBottom:!0,children:"Failed to load component"}),_.jsxs(he,{variant:"body1",paragraph:!0,children:["Error: ",t.message]}),_.jsx(Oe,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload Page"})]})}))),Yp=Tt(()=>Ze(()=>import("./MapView-BYgOyPi9.js"),__vite__mapDeps([0,1,2,3,4])),"MapView"),Xp=Tt(()=>Ze(()=>import("./LocationsView-DjWO71Z1.js"),__vite__mapDeps([5,1,2,6,4,3])),"LocationsView"),Kp=Tt(()=>Ze(()=>import("./CharactersView-22NB-tsY.js"),__vite__mapDeps([7,1,2,6,4,3])),"CharactersView"),Jp=Tt(()=>Ze(()=>import("./CombatsView-yuOhT75-.js"),__vite__mapDeps([8,1,2,6,4,3])),"CombatsView"),Qp=Tt(()=>Ze(()=>import("./CombatSessionView-2cfrWFmM.js"),__vite__mapDeps([9,1,2,4,3])),"CombatSessionView"),em=()=>_.jsx(xe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:_.jsx(Bt,{})});window.ReactMarkdownLoaded=!0;const tm=()=>null;function nm(){return _.jsxs(Ro,{theme:Ho,children:[_.jsx(Oo,{}),_.jsxs(Mo,{basename:"/penandpaperproject",children:[_.jsxs(xe,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[_.jsx(ks,{}),_.jsx(xe,{sx:{flexGrow:1,overflow:"auto",position:"relative"},children:_.jsx(fe.Suspense,{fallback:_.jsx(em,{}),children:_.jsxs(No,{children:[_.jsx(st,{path:"/",element:_.jsx(Gp,{})}),_.jsx(st,{path:"/map",element:_.jsx(Yp,{})}),_.jsx(st,{path:"/locations",element:_.jsx(Xp,{})}),_.jsx(st,{path:"/characters",element:_.jsx(Kp,{})}),_.jsx(st,{path:"/combats",element:_.jsx(Jp,{})}),_.jsx(st,{path:"/combat-session",element:_.jsx(Qp,{})})]})})}),_.jsx(Xi,{})]}),_.jsx(tm,{})]})]})}function rm(){Ze(()=>import("./MapView-BYgOyPi9.js"),__vite__mapDeps([0,1,2,3,4])),Ze(()=>import("./LocationsView-DjWO71Z1.js"),__vite__mapDeps([5,1,2,6,4,3])),Ze(()=>import("./CharactersView-22NB-tsY.js"),__vite__mapDeps([7,1,2,6,4,3])),Ze(()=>import("./CombatsView-yuOhT75-.js"),__vite__mapDeps([8,1,2,6,4,3])),Ze(()=>import("./CombatSessionView-2cfrWFmM.js"),__vite__mapDeps([9,1,2,4,3])),console.log("Preloading critical components...")}setTimeout(()=>{rm()},2e3);Cn.createRoot(document.getElementById("root")).render(_.jsx(Wn.StrictMode,{children:_.jsx(nm,{})}));export{Wp as A,Zp as M,Xi as a,ye as b,Wi as c,io as d,Zi as e,En as f,ao as g,Yi as h,Mn as i,Ut as j,Hi as k,$i as l,Ie as r,He as u};
//# sourceMappingURL=index-B0S_hfGj.js.map
